{"version":3,"file":"index-DTX5PRQV.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../node_modules/@heroicons/react/24/outline/esm/ArrowPathIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ArrowRightIcon.js","../../node_modules/@heroicons/react/24/outline/esm/Battery0Icon.js","../../node_modules/@heroicons/react/24/outline/esm/BellIcon.js","../../node_modules/@heroicons/react/24/outline/esm/BoltIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ChartBarIcon.js","../../node_modules/@heroicons/react/24/outline/esm/CheckCircleIcon.js","../../node_modules/@heroicons/react/24/outline/esm/CheckIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ChevronDownIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ChevronLeftIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ChevronRightIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ChevronUpIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ClockIcon.js","../../node_modules/@heroicons/react/24/outline/esm/Cog6ToothIcon.js","../../node_modules/@heroicons/react/24/outline/esm/CpuChipIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ExclamationTriangleIcon.js","../../node_modules/@heroicons/react/24/outline/esm/EyeIcon.js","../../node_modules/@heroicons/react/24/outline/esm/FireIcon.js","../../node_modules/@heroicons/react/24/outline/esm/FunnelIcon.js","../../node_modules/@heroicons/react/24/outline/esm/GlobeAltIcon.js","../../node_modules/@heroicons/react/24/outline/esm/InformationCircleIcon.js","../../node_modules/@heroicons/react/24/outline/esm/MagnifyingGlassIcon.js","../../node_modules/@heroicons/react/24/outline/esm/MapPinIcon.js","../../node_modules/@heroicons/react/24/outline/esm/PauseIcon.js","../../node_modules/@heroicons/react/24/outline/esm/PencilIcon.js","../../node_modules/@heroicons/react/24/outline/esm/PlayIcon.js","../../node_modules/@heroicons/react/24/outline/esm/PlusIcon.js","../../node_modules/@heroicons/react/24/outline/esm/RocketLaunchIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ShieldCheckIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ShieldExclamationIcon.js","../../node_modules/@heroicons/react/24/outline/esm/SignalIcon.js","../../node_modules/@heroicons/react/24/outline/esm/StopIcon.js","../../node_modules/@heroicons/react/24/outline/esm/TrashIcon.js","../../node_modules/@heroicons/react/24/outline/esm/UserIcon.js","../../node_modules/@heroicons/react/24/outline/esm/WifiIcon.js","../../node_modules/@heroicons/react/24/outline/esm/XCircleIcon.js","../../node_modules/@heroicons/react/24/outline/esm/XMarkIcon.js","../../src/components/fleet/FleetMap/DroneMarker.tsx","../../src/components/fleet/FleetMap/MissionPath.tsx","../../src/components/fleet/FleetMap/index.tsx","../../src/components/telemetry/BatteryIndicator/index.tsx","../../src/components/fleet/FleetStatus/DroneStatusCard.tsx","../../src/components/fleet/FleetStatus/FleetSummary.tsx","../../src/components/fleet/FleetStatus/index.tsx","../../src/components/telemetry/ConnectionStatus/index.tsx","../../src/components/telemetry/TelemetryPanel/TelemetryChart.tsx","../../src/components/telemetry/TelemetryPanel/AlertsList.tsx","../../src/components/telemetry/TelemetryPanel/index.tsx","../../src/services/websocket.ts","../../src/components/common/ConnectionStatusIndicator.tsx","../../src/components/safety/SafetyPanel/index.tsx","../../src/components/mission/WaypointManager/index.tsx","../../node_modules/zustand/esm/vanilla.mjs","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js","../../node_modules/use-sync-external-store/shim/with-selector.js","../../node_modules/zustand/esm/index.mjs","../../node_modules/zustand/esm/middleware.mjs","../../src/store/mission.ts","../../src/components/mission/MissionCreator/index.tsx","../../src/services/mockData.ts","../../src/store/fleet.ts","../../src/components/mission/DroneAssignment/index.tsx","../../src/components/mission/QuickAssignment/index.tsx","../../src/components/mission/MissionList/index.tsx","../../src/components/mission/MissionPanel/index.tsx","../../src/components/mission/AssignmentManager/index.tsx","../../src/components/mission/MissionControls/index.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import * as React from \"react\";\nfunction ArrowPathIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowPathIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ArrowRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowRightIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction Battery0Icon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M21 10.5h.375c.621 0 1.125.504 1.125 1.125v2.25c0 .621-.504 1.125-1.125 1.125H21M3.75 18h15A2.25 2.25 0 0 0 21 15.75v-6a2.25 2.25 0 0 0-2.25-2.25h-15A2.25 2.25 0 0 0 1.5 9.75v6A2.25 2.25 0 0 0 3.75 18Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(Battery0Icon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction BellIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(BellIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction BoltIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(BoltIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ChartBarIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChartBarIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CheckCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CheckCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CheckIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m4.5 12.75 6 6 9-13.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CheckIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ChevronDownIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m19.5 8.25-7.5 7.5-7.5-7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChevronDownIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ChevronLeftIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 19.5 8.25 12l7.5-7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChevronLeftIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ChevronRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m8.25 4.5 7.5 7.5-7.5 7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChevronRightIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ChevronUpIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m4.5 15.75 7.5-7.5 7.5 7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChevronUpIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ClockIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ClockIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction Cog6ToothIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(Cog6ToothIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CpuChipIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CpuChipIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ExclamationTriangleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ExclamationTriangleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction EyeIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(EyeIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction FireIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(FireIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction FunnelIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(FunnelIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction GlobeAltIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(GlobeAltIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction InformationCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(InformationCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction MagnifyingGlassIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(MagnifyingGlassIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction MapPinIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(MapPinIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PauseIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 5.25v13.5m-7.5-13.5v13.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PauseIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PencilIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PencilIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PlayIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PlayIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PlusIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 4.5v15m7.5-7.5h-15\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PlusIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction RocketLaunchIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(RocketLaunchIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ShieldCheckIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ShieldCheckIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ShieldExclamationIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ShieldExclamationIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction SignalIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(SignalIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction StopIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(StopIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction TrashIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(TrashIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction UserIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(UserIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction WifiIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M8.288 15.038a5.25 5.25 0 0 1 7.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 0 1 1.06 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(WifiIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction XCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(XCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction XMarkIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6 18 18 6M6 6l12 12\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(XMarkIcon);\nexport default ForwardRef;","import React from 'react';\nimport { Marker, Popup } from 'react-leaflet';\nimport { divIcon } from 'leaflet';\nimport { \n  Battery0Icon as BatteryIcon, \n  SignalIcon, \n  ExclamationTriangleIcon,\n} from '@heroicons/react/24/outline';\nimport { DroneData } from '@/types/fleet';\n\ninterface DroneMarkerProps {\n  drone: DroneData;\n  isSelected: boolean;\n  onSelect: () => void;\n  getBatteryColor: (percentage: number) => string;\n  getStatusColor: (status: string) => string;\n}\n\nconst DroneMarker: React.FC<DroneMarkerProps> = ({\n  drone,\n  isSelected,\n  onSelect,\n  getBatteryColor,\n  getStatusColor\n}) => {\n  const createDroneIcon = () => {\n    const statusColor = getStatusColor(drone.status);\n    const batteryColor = getBatteryColor(drone.batteryLevel);\n    const isLowBattery = drone.batteryLevel < 30;\n    \n    return divIcon({\n      html: `\n        <div class=\"relative\">\n          <!-- Pulse animation for selected drone -->\n          ${isSelected ? `\n            <div class=\"absolute inset-0 animate-ping\">\n              <div class=\"w-6 h-6 bg-blue-400 rounded-full opacity-30\"></div>\n            </div>\n          ` : ''}\n          \n          <!-- Low battery warning pulse -->\n          ${isLowBattery ? `\n            <div class=\"absolute inset-0 animate-pulse\">\n              <div class=\"w-6 h-6 bg-red-400 rounded-full opacity-40\"></div>\n            </div>\n          ` : ''}\n          \n          <!-- Main drone icon -->\n          <div class=\"relative w-6 h-6 rounded-full border-2 flex items-center justify-center transform transition-transform hover:scale-110\"\n               style=\"background-color: #161b22; border-color: ${statusColor}\">\n            <!-- Drone symbol -->\n            <svg class=\"w-3 h-3\" style=\"color: ${statusColor}\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M12 2l3.5 3.5h-7L12 2zM5.5 8.5L2 12l3.5 3.5V8.5zM18.5 8.5v7L22 12l-3.5-3.5zM8.5 18.5L12 22l3.5-3.5h-7z\"/>\n              <circle cx=\"12\" cy=\"12\" r=\"2\"/>\n            </svg>\n          </div>\n          \n          <!-- Battery indicator -->\n          <div class=\"absolute -bottom-1 -right-1 w-3 h-1.5 rounded-sm border\"\n               style=\"background-color: ${batteryColor}; border-color: #30363d\">\n          </div>\n          \n          <!-- Status indicator dot -->\n          <div class=\"absolute -top-1 -right-1 w-2 h-2 rounded-full\"\n               style=\"background-color: ${statusColor}\">\n          </div>\n        </div>\n      `,\n      className: 'drone-marker',\n      iconSize: [32, 32],\n      iconAnchor: [16, 16],\n      popupAnchor: [0, -16],\n    });\n  };\n\n  const formatLastUpdate = (timestamp: string) => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffSeconds = Math.floor(diffMs / 1000);\n    \n    if (diffSeconds < 60) return `${diffSeconds}s ago`;\n    if (diffSeconds < 3600) return `${Math.floor(diffSeconds / 60)}m ago`;\n    return `${Math.floor(diffSeconds / 3600)}h ago`;\n  };\n\n  const getConnectionQuality = (signalStrength: number) => {\n    if (signalStrength > -50) return { level: 'Excellent', color: '#238636' };\n    if (signalStrength > -70) return { level: 'Good', color: '#d29922' };\n    if (signalStrength > -90) return { level: 'Poor', color: '#da3633' };\n    return { level: 'Very Poor', color: '#f85149' };\n  };\n\n  const connection = getConnectionQuality(drone.signalStrength);\n\n  if (!drone.position.lat || !drone.position.lng) return null;\n\n  return (\n    <Marker\n      position={[drone.position.lat, drone.position.lng]}\n      icon={createDroneIcon()}\n      eventHandlers={{\n        click: onSelect,\n      }}\n    >\n      <Popup className=\"drone-popup\" maxWidth={320} minWidth={280}>\n        <div className=\"bg-dark-secondary text-text-primary p-4 rounded-lg border border-dark-border\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between mb-3\">\n            <div>\n              <h3 className=\"font-semibold text-lg\">{drone.name}</h3>\n              <p className=\"text-text-secondary text-sm\">{drone.id}</p>\n            </div>\n            <div className=\"text-right\">\n              <div className={`inline-flex items-center px-2 py-1 rounded text-xs font-medium`}\n                   style={{ backgroundColor: getStatusColor(drone.status) + '20', color: getStatusColor(drone.status) }}>\n                {drone.status.toUpperCase()}\n              </div>\n            </div>\n          </div>\n\n          {/* Key Metrics */}\n          <div className=\"grid grid-cols-2 gap-3 mb-3\">\n            {/* Battery */}\n            <div className=\"bg-dark-tertiary rounded p-2\">\n              <div className=\"flex items-center gap-2 mb-1\">\n                <BatteryIcon className=\"w-4 h-4 text-text-secondary\" />\n                <span className=\"text-xs text-text-secondary\">Battery</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"flex-1 bg-dark-border rounded-full h-1.5\">\n                  <div \n                    className=\"h-full rounded-full transition-all duration-300\"\n                    style={{ \n                      width: `${drone.batteryLevel}%`, \n                      backgroundColor: getBatteryColor(drone.batteryLevel) \n                    }}\n                  />\n                </div>\n                <span className=\"text-sm font-mono\">{drone.batteryLevel}%</span>\n              </div>\n            </div>\n\n            {/* Signal */}\n            <div className=\"bg-dark-tertiary rounded p-2\">\n              <div className=\"flex items-center gap-2 mb-1\">\n                <SignalIcon className=\"w-4 h-4 text-text-secondary\" />\n                <span className=\"text-xs text-text-secondary\">Signal</span>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-xs\" style={{ color: connection.color }}>\n                  {connection.level}\n                </span>\n                <span className=\"text-sm font-mono text-text-secondary\">\n                  {drone.signalStrength}dBm\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {/* Position & Telemetry */}\n          <div className=\"space-y-2 text-sm\">\n            <div className=\"flex justify-between\">\n              <span className=\"text-text-secondary\">Altitude</span>\n              <span className=\"font-mono\">{drone.position.alt.toFixed(1)}m</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-text-secondary\">Speed</span>\n              <span className=\"font-mono\">{drone.speed.toFixed(1)} m/s</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-text-secondary\">Heading</span>\n              <span className=\"font-mono\">{drone.heading.toFixed(0)}Â°</span>\n            </div>\n          </div>\n\n          {/* Mission Info */}\n          {drone.currentMission && (\n            <div className=\"mt-3 pt-3 border-t border-dark-border\">\n              <div className=\"flex items-center gap-2 mb-2\">\n                <div className=\"w-2 h-2 rounded-full bg-status-active\"></div>\n                <span className=\"text-sm font-medium\">Active Mission</span>\n              </div>\n              <div className=\"text-sm space-y-1\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-text-secondary\">Mission</span>\n                  <span>{drone.currentMission.name}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-text-secondary\">Progress</span>\n                  <span>{drone.currentMission.progress}%</span>\n                </div>\n                {drone.currentMission.eta && (\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-text-secondary\">ETA</span>\n                    <span>{drone.currentMission.eta}</span>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* Alerts */}\n          {drone.alerts && drone.alerts.length > 0 && (\n            <div className=\"mt-3 pt-3 border-t border-dark-border\">\n              <div className=\"flex items-center gap-2 mb-2\">\n                <ExclamationTriangleIcon className=\"w-4 h-4 text-status-warning\" />\n                <span className=\"text-sm font-medium text-status-warning\">\n                  {drone.alerts.length} Alert{drone.alerts.length > 1 ? 's' : ''}\n                </span>\n              </div>\n              <div className=\"space-y-1\">\n                {drone.alerts.slice(0, 2).map((alert, index) => (\n                  <div key={index} className=\"text-xs p-2 bg-dark-primary rounded border-l-2\"\n                       style={{ borderLeftColor: alert.severity === 'critical' ? '#da3633' : '#d29922' }}>\n                    {alert.message}\n                  </div>\n                ))}\n                {drone.alerts.length > 2 && (\n                  <p className=\"text-xs text-text-secondary\">\n                    +{drone.alerts.length - 2} more alerts\n                  </p>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* Footer */}\n          <div className=\"mt-3 pt-3 border-t border-dark-border text-xs text-text-muted\">\n            Last updated: {formatLastUpdate(drone.lastUpdate)}\n          </div>\n        </div>\n      </Popup>\n    </Marker>\n  );\n};\n\nexport default DroneMarker;","import React from 'react';\nimport { Polyline, Marker, Popup } from 'react-leaflet';\nimport { divIcon } from 'leaflet';\nimport { MissionData } from '@/types/fleet';\n\ninterface MissionPathProps {\n  mission: MissionData;\n}\n\nconst MissionPath: React.FC<MissionPathProps> = ({ mission }) => {\n  const getPathColor = (status: string) => {\n    switch (status.toLowerCase()) {\n      case 'active':\n      case 'in_progress':\n        return '#1f6feb'; // Blue\n      case 'completed':\n        return '#238636'; // Green\n      case 'failed':\n      case 'cancelled':\n        return '#da3633'; // Red\n      case 'pending':\n      default:\n        return '#8b949e'; // Gray\n    }\n  };\n\n  const createWaypointIcon = (waypoint: any, index: number) => {\n    const isCompleted = waypoint.completed || index < (mission.currentWaypoint || 0);\n    const isCurrent = index === (mission.currentWaypoint || 0);\n    \n    return divIcon({\n      html: `\n        <div class=\"relative\">\n          <div class=\"w-4 h-4 rounded-full border-2 flex items-center justify-center text-xs font-bold\"\n               style=\"background-color: ${isCompleted ? '#238636' : isCurrent ? '#1f6feb' : '#161b22'}; \n                      border-color: ${isCompleted ? '#238636' : isCurrent ? '#1f6feb' : '#8b949e'};\n                      color: #f0f6fc\">\n            ${index + 1}\n          </div>\n          ${isCurrent ? `\n            <div class=\"absolute inset-0 animate-ping\">\n              <div class=\"w-4 h-4 bg-blue-400 rounded-full opacity-30\"></div>\n            </div>\n          ` : ''}\n        </div>\n      `,\n      className: 'waypoint-marker',\n      iconSize: [16, 16],\n      iconAnchor: [8, 8],\n      popupAnchor: [0, -8],\n    });\n  };\n\n  const getActionIcon = (action: string) => {\n    switch (action.toLowerCase()) {\n      case 'pickup':\n        return 'ð¦';\n      case 'delivery':\n        return 'ð';\n      case 'hover':\n        return 'â¸ï¸';\n      case 'survey':\n        return 'ð·';\n      default:\n        return 'ð';\n    }\n  };\n\n  if (!mission.waypoints || mission.waypoints.length === 0) return null;\n\n  const pathPositions: [number, number][] = mission.waypoints\n    .filter(wp => wp.position.lat && wp.position.lng)\n    .map(wp => [wp.position.lat, wp.position.lng]);\n\n  if (pathPositions.length === 0) return null;\n\n  const pathColor = getPathColor(mission.status);\n\n  return (\n    <>\n      {/* Mission path */}\n      <Polyline\n        positions={pathPositions}\n        pathOptions={{\n          color: pathColor,\n          weight: 3,\n          opacity: 0.8,\n          dashArray: mission.status === 'pending' ? '10, 5' : undefined,\n        }}\n      />\n\n      {/* Waypoint markers */}\n      {mission.waypoints.map((waypoint, index) => {\n        if (!waypoint.position.lat || !waypoint.position.lng) return null;\n\n        return (\n          <Marker\n            key={`${mission.id}-wp-${index}`}\n            position={[waypoint.position.lat, waypoint.position.lng]}\n            icon={createWaypointIcon(waypoint, index)}\n          >\n            <Popup className=\"waypoint-popup\" maxWidth={250}>\n              <div className=\"bg-dark-secondary text-text-primary p-3 rounded-lg border border-dark-border\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <h4 className=\"font-semibold\">\n                    Waypoint {index + 1}\n                  </h4>\n                  <span className=\"text-lg\">\n                    {getActionIcon(waypoint.action)}\n                  </span>\n                </div>\n                \n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-text-secondary\">Action</span>\n                    <span className=\"capitalize\">{waypoint.action}</span>\n                  </div>\n                  \n                  <div className=\"flex justify-between\">\n                    <span className=\"text-text-secondary\">Altitude</span>\n                    <span className=\"font-mono\">{waypoint.position.alt}m</span>\n                  </div>\n                  \n                  {waypoint.hoverTime && (\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-text-secondary\">Hover Time</span>\n                      <span className=\"font-mono\">{waypoint.hoverTime}s</span>\n                    </div>\n                  )}\n                  \n                  <div className=\"flex justify-between\">\n                    <span className=\"text-text-secondary\">Status</span>\n                    <span className={`px-2 py-1 rounded text-xs font-medium ${\n                      waypoint.completed || index < (mission.currentWaypoint || 0)\n                        ? 'bg-green-900/30 text-green-400' \n                        : index === (mission.currentWaypoint || 0)\n                        ? 'bg-blue-900/30 text-blue-400'\n                        : 'bg-gray-900/30 text-gray-400'\n                    }`}>\n                      {waypoint.completed || index < (mission.currentWaypoint || 0) \n                        ? 'Completed' \n                        : index === (mission.currentWaypoint || 0)\n                        ? 'Current'\n                        : 'Pending'}\n                    </span>\n                  </div>\n                </div>\n\n                {waypoint.notes && (\n                  <div className=\"mt-2 pt-2 border-t border-dark-border\">\n                    <p className=\"text-xs text-text-secondary\">{waypoint.notes}</p>\n                  </div>\n                )}\n              </div>\n            </Popup>\n          </Marker>\n        );\n      })}\n    </>\n  );\n};\n\nexport default MissionPath;","import React, { useEffect, useState, useRef } from 'react';\nimport { MapContainer, TileLayer, useMap } from 'react-leaflet';\nimport { motion } from 'framer-motion';\nimport { DroneData, MissionData } from '@/types/fleet';\nimport DroneMarker from './DroneMarker';\nimport MissionPath from './MissionPath';\nimport 'leaflet/dist/leaflet.css';\nimport './FleetMap.css';\n\ninterface FleetMapProps {\n  drones: DroneData[];\n  missions?: MissionData[];\n  selectedDroneId?: string;\n  onDroneSelect: (droneId: string) => void;\n  className?: string;\n}\n\n// Component to handle map resizing\nconst MapResizer: React.FC = () => {\n  const map = useMap();\n  \n  useEffect(() => {\n    // Force map to resize when component mounts\n    const timer = setTimeout(() => {\n      map.invalidateSize();\n    }, 100);\n    \n    return () => clearTimeout(timer);\n  }, [map]);\n\n  return null;\n};\n\nconst FleetMap: React.FC<FleetMapProps> = ({\n  drones,\n  missions = [],\n  selectedDroneId,\n  onDroneSelect,\n  className = ''\n}) => {\n  const [mapCenter, setMapCenter] = useState<[number, number]>([37.7749, -122.4194]); // San Francisco\n  const [zoom, setZoom] = useState(12);\n  const mapContainerRef = useRef<HTMLDivElement>(null);\n\n  // Calculate map center based on drone positions\n  useEffect(() => {\n    if (drones.length > 0) {\n      const validDrones = drones.filter(drone => drone.position.lat && drone.position.lng);\n      if (validDrones.length > 0) {\n        const avgLat = validDrones.reduce((sum, drone) => sum + drone.position.lat, 0) / validDrones.length;\n        const avgLng = validDrones.reduce((sum, drone) => sum + drone.position.lng, 0) / validDrones.length;\n        setMapCenter([avgLat, avgLng]);\n      }\n    }\n  }, [drones]);\n\n  // Force map resize on container size changes\n  useEffect(() => {\n    const resizeObserver = new ResizeObserver(() => {\n      // Trigger a small delay to allow CSS to settle\n      setTimeout(() => {\n        window.dispatchEvent(new Event('resize'));\n      }, 100);\n    });\n\n    if (mapContainerRef.current) {\n      resizeObserver.observe(mapContainerRef.current);\n    }\n\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, []);\n\n  const getBatteryColor = (percentage: number): string => {\n    if (percentage > 70) return '#238636'; // Green\n    if (percentage > 30) return '#d29922'; // Amber\n    if (percentage > 15) return '#da3633'; // Red\n    return '#f85149'; // Critical red\n  };\n\n  const getStatusColor = (status: string): string => {\n    switch (status.toLowerCase()) {\n      case 'active':\n      case 'in_flight':\n        return '#238636'; // Green\n      case 'charging':\n      case 'returning':\n        return '#d29922'; // Amber\n      case 'maintenance':\n      case 'emergency':\n        return '#da3633'; // Red\n      case 'idle':\n      default:\n        return '#8b949e'; // Secondary text\n    }\n  };\n\n  return (\n    <div \n      ref={mapContainerRef}\n      className={`fleet-map-container relative h-full w-full bg-dark-primary rounded-lg overflow-hidden border border-dark-border ${className}`}\n    >\n      {/* Map Header */}\n      <motion.div \n        className=\"absolute top-4 left-4 z-[1000] bg-dark-secondary/90 backdrop-blur-sm rounded-lg p-3 shadow-lg border border-dark-border\"\n        initial={{ opacity: 0, y: -20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.3 }}\n      >\n        <h3 className=\"text-text-primary font-semibold mb-2\">Fleet Overview</h3>\n        <div className=\"flex gap-4 text-sm\">\n          <div className=\"flex items-center gap-1\">\n            <div className=\"w-2 h-2 rounded-full bg-status-operational\"></div>\n            <span className=\"text-text-secondary\">\n              {drones.filter(d => d.status === 'active' || d.status === 'in_flight').length} Active\n            </span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <div className=\"w-2 h-2 rounded-full bg-status-warning\"></div>\n            <span className=\"text-text-secondary\">\n              {drones.filter(d => d.status === 'charging' || d.status === 'idle').length} Standby\n            </span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <div className=\"w-2 h-2 rounded-full bg-status-critical\"></div>\n            <span className=\"text-text-secondary\">\n              {drones.filter(d => d.status === 'maintenance' || d.status === 'emergency').length} Issues\n            </span>\n          </div>\n        </div>\n      </motion.div>\n\n      {/* Map Controls */}\n      <motion.div \n        className=\"absolute top-4 right-4 z-[1000] bg-dark-secondary/90 backdrop-blur-sm rounded-lg p-2 shadow-lg border border-dark-border\"\n        initial={{ opacity: 0, y: -20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.3, delay: 0.1 }}\n      >\n        <div className=\"flex flex-col gap-2\">\n          <button\n            className=\"px-3 py-1 text-xs bg-dark-tertiary hover:bg-dark-hover text-text-primary rounded border border-dark-border transition-colors\"\n            onClick={() => setZoom(Math.min(zoom + 1, 18))}\n          >\n            Zoom In\n          </button>\n          <button\n            className=\"px-3 py-1 text-xs bg-dark-tertiary hover:bg-dark-hover text-text-primary rounded border border-dark-border transition-colors\"\n            onClick={() => setZoom(Math.max(zoom - 1, 1))}\n          >\n            Zoom Out\n          </button>\n          <button\n            className=\"px-3 py-1 text-xs bg-dark-tertiary hover:bg-dark-hover text-text-primary rounded border border-dark-border transition-colors\"\n            onClick={() => {\n              if (drones.length > 0) {\n                const validDrones = drones.filter(drone => drone.position.lat && drone.position.lng);\n                if (validDrones.length > 0) {\n                  const avgLat = validDrones.reduce((sum, drone) => sum + drone.position.lat, 0) / validDrones.length;\n                  const avgLng = validDrones.reduce((sum, drone) => sum + drone.position.lng, 0) / validDrones.length;\n                  setMapCenter([avgLat, avgLng]);\n                  setZoom(12);\n                }\n              }\n            }}\n          >\n            Center Fleet\n          </button>\n        </div>\n      </motion.div>\n\n      {/* Leaflet Map - Full Height */}\n      <div className=\"absolute inset-0 w-full h-full\">\n        <MapContainer\n          center={mapCenter}\n          zoom={zoom}\n          style={{ height: '100%', width: '100%', minHeight: '400px' }}\n          zoomControl={false}\n          attributionControl={false}\n          className=\"leaflet-container bg-dark-primary\"\n        >\n          {/* Map Resizer Component */}\n          <MapResizer />\n          \n          {/* Dark mode tile layer */}\n          <TileLayer\n            url=\"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png\"\n            attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>'\n          />\n\n          {/* Mission paths */}\n          {missions.map((mission) => (\n            <MissionPath key={mission.id} mission={mission} />\n          ))}\n\n          {/* Drone markers */}\n          {drones.map((drone) => (\n            <DroneMarker\n              key={drone.id}\n              drone={drone}\n              isSelected={drone.id === selectedDroneId}\n              onSelect={() => onDroneSelect(drone.id)}\n              getBatteryColor={getBatteryColor}\n              getStatusColor={getStatusColor}\n            />\n          ))}\n        </MapContainer>\n      </div>\n\n      {/* Legend */}\n      <motion.div \n        className=\"absolute bottom-4 left-4 z-[1000] bg-dark-secondary/90 backdrop-blur-sm rounded-lg p-3 shadow-lg border border-dark-border\"\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.3, delay: 0.2 }}\n      >\n        <h4 className=\"text-text-primary font-medium text-sm mb-2\">Legend</h4>\n        <div className=\"space-y-1 text-xs\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-3 h-3 rounded-full bg-status-operational border border-dark-border\"></div>\n            <span className=\"text-text-secondary\">Active Drone</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-3 h-3 rounded-full bg-status-warning border border-dark-border\"></div>\n            <span className=\"text-text-secondary\">Standby/Charging</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-3 h-3 rounded-full bg-status-critical border border-dark-border\"></div>\n            <span className=\"text-text-secondary\">Issue/Maintenance</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-3 h-0.5 bg-status-active\"></div>\n            <span className=\"text-text-secondary\">Mission Path</span>\n          </div>\n        </div>\n      </motion.div>\n    </div>\n  );\n};\n\nexport default FleetMap;","import React from 'react';\nimport { motion } from 'framer-motion';\nimport { BoltIcon } from '@heroicons/react/24/outline';\n\ninterface BatteryIndicatorProps {\n  level: number;\n  voltage?: number;\n  status?: \"active\" | \"idle\" | \"in_flight\" | \"charging\" | \"maintenance\" | \"emergency\";\n  size?: 'sm' | 'md' | 'lg';\n  showLabel?: boolean;\n  showVoltage?: boolean;\n  inFlight?: boolean;\n  className?: string;\n}\n\nconst BatteryIndicator: React.FC<BatteryIndicatorProps> = ({\n  level,\n  voltage,\n  size = 'md',\n  showLabel = false,\n  showVoltage = false,\n  className = ''\n}) => {\n  const getBatteryColor = (percentage: number) => {\n    if (percentage > 70) return '#238636'; // Green\n    if (percentage > 30) return '#d29922'; // Amber\n    if (percentage > 15) return '#da3633'; // Red\n    return '#f85149'; // Critical red\n  };\n\n  const getBatteryWidth = () => {\n    switch (size) {\n      case 'sm': return 'w-12';\n      case 'lg': return 'w-20';\n      default: return 'w-16';\n    }\n  };\n\n  const getBatteryHeight = () => {\n    switch (size) {\n      case 'sm': return 'h-6';\n      case 'lg': return 'h-10';\n      default: return 'h-8';\n    }\n  };\n\n  const getTextSize = () => {\n    switch (size) {\n      case 'sm': return 'text-xs';\n      case 'lg': return 'text-base';\n      default: return 'text-sm';\n    }\n  };\n\n  const color = getBatteryColor(level);\n  const isLow = level < 30;\n  const isCritical = level < 15;\n\n  return (\n    <div className={`flex items-center gap-2 ${className}`}>\n      <div className=\"flex items-center gap-1\">\n        {/* Battery Icon */}\n        <div className=\"relative\">\n          <div \n            className={`${getBatteryWidth()} ${getBatteryHeight()} border-2 rounded-sm relative overflow-hidden`}\n            style={{ borderColor: color }}\n          >\n            {/* Battery Fill */}\n            <motion.div\n              className=\"h-full rounded-sm\"\n              style={{ backgroundColor: color }}\n              initial={{ width: 0 }}\n              animate={{ width: `${Math.max(level, 0)}%` }}\n              transition={{ duration: 0.5, ease: \"easeOut\" }}\n            />\n            \n            {/* Low battery pulse effect */}\n            {isCritical && (\n              <motion.div\n                className=\"absolute inset-0 bg-red-500\"\n                animate={{ opacity: [0.3, 0.7, 0.3] }}\n                transition={{ duration: 1, repeat: Infinity }}\n              />\n            )}\n          </div>\n          \n          {/* Battery Terminal */}\n          <div \n            className={`absolute -right-1 top-1/2 transform -translate-y-1/2 w-1 bg-current rounded-r-sm ${\n              size === 'sm' ? 'h-2' : size === 'lg' ? 'h-4' : 'h-3'\n            }`}\n            style={{ color: color }}\n          />\n          \n          {/* Low battery warning icon */}\n          {isLow && (\n            <div className=\"absolute -top-1 -right-1\">\n              <BoltIcon \n                className={`${size === 'sm' ? 'w-3 h-3' : 'w-4 h-4'} text-red-500`}\n              />\n            </div>\n          )}\n        </div>\n\n        {/* Percentage Label */}\n        {showLabel && (\n          <span \n            className={`font-mono font-semibold ${getTextSize()}`}\n            style={{ color }}\n          >\n            {level.toFixed(0)}%\n          </span>\n        )}\n      </div>\n\n      {/* Voltage Display */}\n      {showVoltage && voltage && (\n        <div className={`text-text-secondary ${getTextSize()}`}>\n          <span className=\"font-mono\">{voltage.toFixed(1)}V</span>\n        </div>\n      )}\n\n      {/* Status Text */}\n      {showLabel && size !== 'sm' && (\n        <div className={`${getTextSize()} text-text-secondary`}>\n          {isCritical ? 'Critical' : isLow ? 'Low' : level > 80 ? 'Excellent' : 'Good'}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BatteryIndicator;","import React from 'react';\nimport { motion } from 'framer-motion';\nimport { \n  Battery0Icon as BoltIcon,\n  ClockIcon,\n  ExclamationTriangleIcon,\n  EyeIcon,\n  CheckCircleIcon\n} from '@heroicons/react/24/outline';\nimport { DroneData } from '@/types/fleet';\nimport BatteryIndicator from '@/components/telemetry/BatteryIndicator';\n\ninterface DroneStatusCardProps {\n  drone: DroneData;\n  isSelected: boolean;\n  onSelect: () => void;\n  onAction?: (droneId: string, action: string) => void;\n  index: number;\n}\n\nconst DroneStatusCard: React.FC<DroneStatusCardProps> = ({\n  drone,\n  isSelected,\n  onSelect,\n  onAction,\n  index\n}) => {\n  const getStatusConfig = (status: string) => {\n    switch (status.toLowerCase()) {\n      case 'active':\n      case 'in_flight':\n        return {\n          color: '#238636',\n          bgColor: '#238636',\n          label: 'Active',\n          icon: CheckCircleIcon,\n        };\n      case 'charging':\n        return {\n          color: '#d29922',\n          bgColor: '#d29922',\n          label: 'Charging',\n          icon: BoltIcon,\n        };\n      case 'maintenance':\n        return {\n          color: '#da3633',\n          bgColor: '#da3633',\n          label: 'Maintenance',\n          icon: ExclamationTriangleIcon,\n        };\n      case 'emergency':\n        return {\n          color: '#f85149',\n          bgColor: '#f85149',\n          label: 'Emergency',\n          icon: ExclamationTriangleIcon,\n        };\n      case 'idle':\n      default:\n        return {\n          color: '#8b949e',\n          bgColor: '#8b949e',\n          label: 'Idle',\n          icon: ClockIcon,\n        };\n    }\n  };\n\n  const formatTimeAgo = (timestamp: string) => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffSeconds = Math.floor(diffMs / 1000);\n    \n    if (diffSeconds < 60) return `${diffSeconds}s ago`;\n    if (diffSeconds < 3600) return `${Math.floor(diffSeconds / 60)}m ago`;\n    return `${Math.floor(diffSeconds / 3600)}h ago`;\n  };\n\n  const statusConfig = getStatusConfig(drone.status);\n  const StatusIcon = statusConfig.icon;\n\n  const handleAction = (actionId: string, e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (actionId === 'view') {\n      onSelect();\n    } else if (onAction) {\n      onAction(drone.id, actionId);\n    }\n  };\n\n  return (\n    <motion.div\n      layout\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -20 }}\n      transition={{ duration: 0.3, delay: index * 0.05 }}\n      onClick={onSelect}\n      className={`\n        relative bg-dark-tertiary rounded-lg p-3 border cursor-pointer transition-all duration-200 hover:bg-dark-hover mb-2 w-full\n        ${isSelected \n          ? 'border-status-active shadow-glow' \n          : 'border-dark-border hover:border-dark-hover'\n        }\n      `}\n    >\n      {/* Compact Header Row */}\n      <div className=\"flex items-center justify-between mb-2\">\n        <div className=\"flex items-center gap-3 flex-1\">\n          {/* Status Icon - Smaller */}\n          <div className=\"flex-shrink-0 relative\">\n            <div \n              className=\"w-8 h-8 rounded-full flex items-center justify-center border\"\n              style={{ \n                backgroundColor: statusConfig.bgColor + '20',\n                borderColor: statusConfig.color \n              }}\n            >\n              <StatusIcon className=\"w-4 h-4\" style={{ color: statusConfig.color }} />\n            </div>\n            \n            {/* Compact Alert Badge */}\n            {drone.alerts && drone.alerts.length > 0 && (\n              <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-status-warning rounded-full flex items-center justify-center\">\n                <span className=\"text-xs font-bold text-white text-[10px]\">{drone.alerts.length}</span>\n              </div>\n            )}\n          </div>\n\n          {/* Drone Name & Status */}\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center gap-2\">\n              <h3 className=\"font-medium text-text-primary text-sm truncate\">{drone.name}</h3>\n              <span className=\"text-text-secondary text-xs font-mono\">{drone.id}</span>\n            </div>\n            <div className={`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium mt-1`}\n                 style={{ \n                   backgroundColor: statusConfig.color + '20', \n                   color: statusConfig.color \n                 }}>\n              {statusConfig.label}\n            </div>\n          </div>\n        </div>\n\n        {/* Quick Action - Only View */}\n        <button\n          onClick={(e) => handleAction('view', e)}\n          className=\"p-1.5 rounded hover:bg-dark-secondary transition-colors flex-shrink-0\"\n          title=\"View Details\"\n          style={{ color: '#1f6feb' }}\n        >\n          <EyeIcon className=\"w-4 h-4\" />\n        </button>\n      </div>\n\n      {/* Compact Metrics Row */}\n      <div className=\"grid grid-cols-3 gap-3 text-xs\">\n        {/* Battery */}\n        <div className=\"min-w-0\">\n          <div className=\"text-text-secondary text-xs mb-1\">Battery</div>\n          <BatteryIndicator\n            level={drone.batteryLevel}\n            voltage={drone.batteryVoltage}\n            inFlight={['active', 'in_flight'].includes(drone.status)}\n            status={drone.status}\n            size=\"sm\"\n            showVoltage={false}\n          />\n        </div>\n\n        {/* Signal */}\n        <div className=\"min-w-0\">\n          <div className=\"text-text-secondary text-xs mb-1\">Signal</div>\n          <div className=\"flex items-center gap-1\">\n            <div className=\"flex items-end gap-0.5\">\n              {[0, 1, 2, 3].map((bar) => (\n                <div\n                  key={bar}\n                  className={`w-0.5 rounded-sm ${\n                    bar === 0 ? 'h-2' : bar === 1 ? 'h-3' : bar === 2 ? 'h-4' : 'h-4'\n                  }`}\n                  style={{ \n                    backgroundColor: drone.signalStrength > -50 - (bar * 20) ? '#238636' : '#30363d'\n                  }}\n                />\n              ))}\n            </div>\n            <span className=\"text-xs font-mono text-text-secondary\">{drone.signalStrength}dBm</span>\n          </div>\n        </div>\n\n        {/* Mission/Altitude */}\n        <div className=\"min-w-0\">\n          <div className=\"text-text-secondary text-xs mb-1\">\n            {drone.currentMission ? 'Mission' : 'Altitude'}\n          </div>\n          {drone.currentMission ? (\n            <div className=\"flex items-center gap-1\">\n              <div className=\"w-1.5 h-1.5 bg-status-active rounded-full\"></div>\n              <span className=\"truncate text-xs text-text-primary\">{drone.currentMission.progress}%</span>\n            </div>\n          ) : (\n            <div className=\"text-xs text-text-primary\">{drone.position.alt.toFixed(0)}m</div>\n          )}\n        </div>\n      </div>\n\n      {/* Bottom Info Row */}\n      <div className=\"flex items-center justify-between mt-2 pt-2 border-t border-dark-border text-xs\">\n        <div className=\"flex items-center gap-3\">\n          <span className=\"text-text-secondary\">{drone.speed.toFixed(1)} m/s</span>\n          {drone.alerts && drone.alerts.length > 0 && (\n            <span className=\"text-status-warning\">{drone.alerts.length} alerts</span>\n          )}\n        </div>\n        <span className=\"text-text-muted\">{formatTimeAgo(drone.lastUpdate)}</span>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default DroneStatusCard;","import React from 'react';\nimport { motion } from 'framer-motion';\nimport { \n  Battery0Icon as BoltIcon, \n  ExclamationTriangleIcon, \n  CheckCircleIcon\n} from '@heroicons/react/24/outline';\n\ninterface FleetSummaryProps {\n  stats: {\n    total: number;\n    active: number;\n    charging: number;\n    maintenance: number;\n    idle: number;\n    lowBattery: number;\n    alerts: number;\n    avgBattery: number;\n  };\n}\n\nconst FleetSummary: React.FC<FleetSummaryProps> = ({ stats }) => {\n  const getBatteryColor = (percentage: number) => {\n    if (percentage > 70) return '#238636';\n    if (percentage > 30) return '#d29922';\n    return '#da3633';\n  };\n\n  const summaryItems = [\n    {\n      label: 'Total Drones',\n      value: stats.total,\n      color: '#8b949e',\n      icon: null,\n    },\n    {\n      label: 'Active',\n      value: stats.active,\n      color: '#238636',\n      icon: CheckCircleIcon,\n    },\n    {\n      label: 'Avg Battery',\n      value: `${stats.avgBattery.toFixed(0)}%`,\n      color: getBatteryColor(stats.avgBattery),\n      icon: BoltIcon,\n    },\n    {\n      label: 'Alerts',\n      value: stats.alerts,\n      color: stats.alerts > 0 ? '#d29922' : '#8b949e',\n      icon: ExclamationTriangleIcon,\n      highlight: stats.alerts > 0,\n    },\n  ];\n\n  return (\n    <div className=\"grid grid-cols-4 gap-4\">\n      {summaryItems.map((item, index) => (\n        <motion.div\n          key={item.label}\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.3, delay: index * 0.1 }}\n          className={`text-center p-3 rounded-lg ${\n            item.highlight ? 'bg-dark-tertiary border border-status-warning/30' : 'bg-dark-tertiary'\n          }`}\n        >\n          {item.icon && (\n            <div className=\"flex justify-center mb-1\">\n              <item.icon className=\"w-4 h-4\" style={{ color: item.color }} />\n            </div>\n          )}\n          <div \n            className=\"text-xl font-bold\"\n            style={{ color: item.color }}\n          >\n            {item.value}\n          </div>\n          <div className=\"text-xs text-text-secondary\">{item.label}</div>\n        </motion.div>\n      ))}\n    </div>\n  );\n};\n\nexport default FleetSummary;","import React, { useState } from 'react';\nimport { AnimatePresence } from 'framer-motion';\nimport { XCircleIcon } from '@heroicons/react/24/outline';\nimport { DroneData } from '@/types/fleet';\nimport DroneStatusCard from './DroneStatusCard';\nimport FleetSummary from './FleetSummary';\n\ninterface FleetStatusProps {\n  drones: DroneData[];\n  selectedDroneId?: string;\n  onDroneSelect: (droneId: string) => void;\n  onDroneAction?: (droneId: string, action: string) => void;\n  className?: string;\n}\n\nconst FleetStatus: React.FC<FleetStatusProps> = ({\n  drones,\n  selectedDroneId,\n  onDroneSelect,\n  onDroneAction,\n  className = ''\n}) => {\n  const [filterStatus, setFilterStatus] = useState<'all' | 'active' | 'issues' | 'idle'>('all');\n  const [sortBy, setSortBy] = useState<'name' | 'battery' | 'status' | 'lastUpdate'>('status');\n\n  // Calculate fleet statistics\n  const stats = {\n    total: drones.length,\n    active: drones.filter(d => d.status === 'active' || d.status === 'in_flight').length,\n    charging: drones.filter(d => d.status === 'charging').length,\n    maintenance: drones.filter(d => d.status === 'maintenance' || d.status === 'emergency').length,\n    idle: drones.filter(d => d.status === 'idle').length,\n    lowBattery: drones.filter(d => d.batteryLevel < 30).length,\n    alerts: drones.reduce((sum, d) => sum + (d.alerts?.length || 0), 0),\n    avgBattery: drones.length > 0 ? drones.reduce((sum, d) => sum + d.batteryLevel, 0) / drones.length : 0,\n  };\n\n  // Filter and sort drones\n  const filteredDrones = drones\n    .filter(drone => {\n      switch (filterStatus) {\n        case 'active':\n          return drone.status === 'active' || drone.status === 'in_flight';\n        case 'issues':\n          return drone.status === 'maintenance' || drone.status === 'emergency' || (drone.alerts && drone.alerts.length > 0);\n        case 'idle':\n          return drone.status === 'idle' || drone.status === 'charging';\n        default:\n          return true;\n      }\n    })\n    .sort((a, b) => {\n      switch (sortBy) {\n        case 'name':\n          return a.name.localeCompare(b.name);\n        case 'battery':\n          return b.batteryLevel - a.batteryLevel;\n        case 'status':\n          const statusOrder = { emergency: 0, maintenance: 1, active: 2, in_flight: 2, charging: 3, idle: 4 };\n          return (statusOrder[a.status] || 5) - (statusOrder[b.status] || 5);\n        case 'lastUpdate':\n          return new Date(b.lastUpdate).getTime() - new Date(a.lastUpdate).getTime();\n        default:\n          return 0;\n      }\n    });\n\n  const filterOptions = [\n    { value: 'all', label: `All (${stats.total})`, count: stats.total },\n    { value: 'active', label: `Active (${stats.active})`, count: stats.active },\n    { value: 'issues', label: `Issues (${stats.maintenance})`, count: stats.maintenance },\n    { value: 'idle', label: `Idle (${stats.idle + stats.charging})`, count: stats.idle + stats.charging },\n  ];\n\n  const recentActivity = [\n    { id: '1', type: 'mission_complete', drone: 'DRN001', message: 'Delivery mission completed successfully', timestamp: new Date(Date.now() - 300000) },\n    { id: '2', type: 'battery_low', drone: 'DRN003', message: 'Battery level below 25%', timestamp: new Date(Date.now() - 600000) },\n    { id: '3', type: 'charging_start', drone: 'DRN002', message: 'Started charging at Station Alpha', timestamp: new Date(Date.now() - 900000) },\n    { id: '4', type: 'mission_start', drone: 'DRN004', message: 'Started emergency medical delivery', timestamp: new Date(Date.now() - 1200000) },\n    { id: '5', type: 'maintenance', drone: 'DRN005', message: 'Scheduled maintenance completed', timestamp: new Date(Date.now() - 1800000) },\n  ];\n\n  return (\n    <div className={`h-full flex flex-col ${className}`}>\n      {/* Fleet Summary */}\n      <div className=\"p-4 border-b border-dark-border\">\n        <FleetSummary stats={stats} />\n      </div>\n\n      {/* Controls */}\n      <div className=\"p-4 border-b border-dark-border\">\n        <div className=\"flex flex-col gap-3\">\n          {/* Filter Buttons */}\n          <div className=\"grid grid-cols-2 gap-1\">\n            {filterOptions.map((option) => (\n              <button\n                key={option.value}\n                onClick={() => setFilterStatus(option.value as any)}\n                className={`px-2 py-1 rounded text-xs font-medium transition-all duration-200 ${\n                  filterStatus === option.value\n                    ? 'bg-dark-tertiary text-text-primary border border-dark-border'\n                    : 'text-text-secondary hover:text-text-primary hover:bg-dark-hover'\n                }`}\n              >\n                {option.label}\n              </button>\n            ))}\n          </div>\n\n          {/* Sort Dropdown */}\n          <select\n            value={sortBy}\n            onChange={(e) => setSortBy(e.target.value as any)}\n            className=\"w-full px-2 py-1 bg-dark-tertiary text-text-primary rounded border border-dark-border text-xs focus:outline-none focus:ring-1 focus:ring-status-active\"\n          >\n            <option value=\"status\">Sort by Status</option>\n            <option value=\"name\">Sort by Name</option>\n            <option value=\"battery\">Sort by Battery</option>\n            <option value=\"lastUpdate\">Sort by Update</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Drone Cards */}\n      <div className=\"flex-1 overflow-y-auto\">\n        <div className=\"p-2 space-y-2\">\n          <AnimatePresence mode=\"popLayout\">\n            {filteredDrones.map((drone, index) => (\n              <DroneStatusCard\n                key={drone.id}\n                drone={drone}\n                isSelected={drone.id === selectedDroneId}\n                onSelect={() => onDroneSelect(drone.id)}\n                onAction={onDroneAction}\n                index={index}\n              />\n            ))}\n          </AnimatePresence>\n\n          {filteredDrones.length === 0 && (\n            <div className=\"text-center py-8 text-text-secondary\">\n              <XCircleIcon className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n              <p className=\"text-sm\">No drones match filter</p>\n              <button \n                onClick={() => setFilterStatus('all')}\n                className=\"mt-2 px-2 py-1 bg-dark-tertiary text-text-primary rounded text-xs hover:bg-dark-hover transition-colors\"\n              >\n                Show All\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Activity Feed - Collapsed at bottom */}\n      <div className=\"border-t border-dark-border\">\n        <div className=\"p-3\">\n          <h4 className=\"text-sm font-medium text-text-primary mb-2\">Recent Activity</h4>\n          <div className=\"space-y-1\">\n            {recentActivity.slice(0, 3).map((activity) => (\n              <div key={activity.id} className=\"text-xs text-text-secondary\">\n                <span className=\"font-medium\">{activity.drone}:</span> {activity.message}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FleetStatus;","import React from 'react';\nimport { motion } from 'framer-motion';\nimport { WifiIcon } from '@heroicons/react/24/outline';\n\ninterface ConnectionStatusProps {\n  strength: number; // Signal strength in dBm\n  quality?: 'excellent' | 'good' | 'poor' | 'very_poor';\n  size?: 'sm' | 'md' | 'lg';\n  showLabel?: boolean;\n  showStrength?: boolean;\n  className?: string;\n}\n\nconst ConnectionStatus: React.FC<ConnectionStatusProps> = ({\n  strength,\n  quality,\n  size = 'md',\n  showLabel = false,\n  showStrength = false,\n  className = ''\n}) => {\n  const getConnectionQuality = (signalStrength: number) => {\n    if (signalStrength > -50) return { level: 'Excellent', color: '#238636', bars: 4 };\n    if (signalStrength > -70) return { level: 'Good', color: '#d29922', bars: 3 };\n    if (signalStrength > -85) return { level: 'Fair', color: '#d29922', bars: 2 };\n    if (signalStrength > -95) return { level: 'Poor', color: '#da3633', bars: 1 };\n    return { level: 'Very Poor', color: '#f85149', bars: 0 };\n  };\n\n  const getBarHeight = (barIndex: number) => {\n    switch (size) {\n      case 'sm':\n        return barIndex === 0 ? 'h-2' : barIndex === 1 ? 'h-3' : barIndex === 2 ? 'h-4' : 'h-5';\n      case 'lg':\n        return barIndex === 0 ? 'h-4' : barIndex === 1 ? 'h-6' : barIndex === 2 ? 'h-8' : 'h-10';\n      default:\n        return barIndex === 0 ? 'h-3' : barIndex === 1 ? 'h-4' : barIndex === 2 ? 'h-5' : 'h-6';\n    }\n  };\n\n  const getBarWidth = () => {\n    switch (size) {\n      case 'sm': return 'w-0.5';\n      case 'lg': return 'w-1';\n      default: return 'w-0.5';\n    }\n  };\n\n  const getTextSize = () => {\n    switch (size) {\n      case 'sm': return 'text-xs';\n      case 'lg': return 'text-base';\n      default: return 'text-sm';\n    }\n  };\n\n  const connection = getConnectionQuality(strength);\n  const qualityOverride = quality ? {\n    excellent: { level: 'Excellent', color: '#238636', bars: 4 },\n    good: { level: 'Good', color: '#238636', bars: 3 },\n    poor: { level: 'Poor', color: '#da3633', bars: 2 },\n    very_poor: { level: 'Very Poor', color: '#f85149', bars: 1 }\n  }[quality] : null;\n\n  const displayConfig = qualityOverride || connection;\n\n  return (\n    <div className={`flex items-center gap-2 ${className}`}>\n      {/* Signal Bars */}\n      <div className=\"flex items-end gap-0.5\">\n        {[0, 1, 2, 3].map((barIndex) => (\n          <motion.div\n            key={barIndex}\n            className={`${getBarWidth()} ${getBarHeight(barIndex)} rounded-sm`}\n            style={{ \n              backgroundColor: barIndex < displayConfig.bars ? displayConfig.color : '#30363d' \n            }}\n            initial={{ scaleY: 0 }}\n            animate={{ scaleY: 1 }}\n            transition={{ duration: 0.3, delay: barIndex * 0.1 }}\n          />\n        ))}\n      </div>\n\n      {/* Signal Quality Label */}\n      {showLabel && (\n        <span \n          className={`font-medium ${getTextSize()}`}\n          style={{ color: displayConfig.color }}\n        >\n          {displayConfig.level}\n        </span>\n      )}\n\n      {/* Signal Strength Value */}\n      {showStrength && (\n        <div className={`text-text-secondary ${getTextSize()}`}>\n          <span className=\"font-mono\">{strength}dBm</span>\n        </div>\n      )}\n\n      {/* Connection Icon for very poor signal */}\n      {displayConfig.bars === 0 && (\n        <div className=\"relative\">\n          <WifiIcon className={`${size === 'sm' ? 'w-3 h-3' : 'w-4 h-4'} text-red-500`} />\n          <div className=\"absolute inset-0 flex items-center justify-center\">\n            <div className=\"w-0.5 h-full bg-red-500 rotate-45\"></div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ConnectionStatus;","import React, { useState } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, ReferenceLine } from 'recharts';\nimport { motion } from 'framer-motion';\nimport { DroneData } from '@/types/fleet';\n\ninterface TelemetryChartProps {\n  data: any[];\n  drone: DroneData;\n}\n\nconst TelemetryChart: React.FC<TelemetryChartProps> = ({ data }) => {\n  const [selectedMetric, setSelectedMetric] = useState<'battery' | 'altitude' | 'speed' | 'signal'>('battery');\n\n  const metrics = [\n    { \n      id: 'battery', \n      label: 'Battery Level', \n      color: '#238636', \n      unit: '%',\n      min: 0,\n      max: 100,\n      criticalLevel: 20\n    },\n    { \n      id: 'altitude', \n      label: 'Altitude', \n      color: '#1f6feb', \n      unit: 'm',\n      min: 0,\n      max: Math.max(150, Math.max(...data.map(d => d.altitude || 0)) + 20)\n    },\n    { \n      id: 'speed', \n      label: 'Ground Speed', \n      color: '#d29922', \n      unit: 'm/s',\n      min: 0,\n      max: Math.max(20, Math.max(...data.map(d => d.speed || 0)) + 5)\n    },\n    { \n      id: 'signal', \n      label: 'Signal Strength', \n      color: '#8957e5', \n      unit: 'dBm',\n      min: -100,\n      max: -30,\n      criticalLevel: -90\n    }\n  ];\n\n  const currentMetric = metrics.find(m => m.id === selectedMetric)!;\n\n  const formatData = (data: any[]) => {\n    return data.map(point => ({\n      ...point,\n      time: new Date(point.timestamp).toLocaleTimeString('en-US', { \n        hour12: false, \n        minute: '2-digit', \n        second: '2-digit' \n      })\n    }));\n  };\n\n  const CustomTooltip = ({ active, payload, label }: any) => {\n    if (active && payload && payload.length) {\n      return (\n        <div className=\"bg-dark-secondary border border-dark-border rounded-lg p-3 shadow-lg\">\n          <p className=\"text-text-secondary text-sm\">{`Time: ${label}`}</p>\n          <p className=\"text-text-primary font-semibold\">\n            {`${currentMetric.label}: ${payload[0].value.toFixed(1)}${currentMetric.unit}`}\n          </p>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  if (data.length === 0) {\n    return (\n      <div className=\"text-center text-text-secondary py-8\">\n        <div className=\"text-4xl mb-2\">ð</div>\n        <p>No telemetry data available</p>\n        <p className=\"text-sm\">Charts will appear once data starts flowing</p>\n      </div>\n    );\n  }\n\n  const chartData = formatData(data);\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Metric Selector */}\n      <div className=\"flex flex-wrap gap-2\">\n        {metrics.map((metric) => (\n          <button\n            key={metric.id}\n            onClick={() => setSelectedMetric(metric.id as any)}\n            className={`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${\n              selectedMetric === metric.id\n                ? 'bg-dark-tertiary text-text-primary border border-dark-border'\n                : 'text-text-secondary hover:text-text-primary hover:bg-dark-hover'\n            }`}\n          >\n            <div className=\"flex items-center gap-2\">\n              <div \n                className=\"w-3 h-3 rounded-full\"\n                style={{ backgroundColor: metric.color }}\n              />\n              {metric.label}\n            </div>\n          </button>\n        ))}\n      </div>\n\n      {/* Chart */}\n      <motion.div\n        key={selectedMetric}\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.3 }}\n        className=\"bg-dark-tertiary rounded-lg p-4\"\n      >\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-text-primary font-semibold\">\n            {currentMetric.label} Over Time\n          </h3>\n          <div className=\"text-text-secondary text-sm\">\n            Last {chartData.length} data points\n          </div>\n        </div>\n\n        <div className=\"h-64\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <LineChart data={chartData} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>\n              <CartesianGrid \n                strokeDasharray=\"3 3\" \n                stroke=\"#30363d\" \n              />\n              <XAxis \n                dataKey=\"time\" \n                stroke=\"#8b949e\"\n                fontSize={12}\n                interval=\"preserveStartEnd\"\n              />\n              <YAxis \n                stroke=\"#8b949e\"\n                fontSize={12}\n                domain={[currentMetric.min, currentMetric.max]}\n              />\n              <Tooltip content={<CustomTooltip />} />\n              \n              {/* Critical level reference line */}\n              {currentMetric.criticalLevel !== undefined && (\n                <ReferenceLine \n                  y={currentMetric.criticalLevel} \n                  stroke=\"#da3633\" \n                  strokeDasharray=\"5 5\"\n                  label={{ \n                    value: \"Critical\", \n                    position: \"top\",\n                    fill: \"#da3633\",\n                    fontSize: 10\n                  }}\n                />\n              )}\n              \n              <Line\n                type=\"monotone\"\n                dataKey={selectedMetric}\n                stroke={currentMetric.color}\n                strokeWidth={2}\n                dot={{ fill: currentMetric.color, strokeWidth: 2, r: 3 }}\n                activeDot={{ r: 5, stroke: currentMetric.color, strokeWidth: 2 }}\n                connectNulls={false}\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </div>\n\n        {/* Current Value Display */}\n        <div className=\"mt-4 pt-4 border-t border-dark-border\">\n          <div className=\"flex items-center justify-between\">\n            <span className=\"text-text-secondary\">Current Value:</span>\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-2xl font-bold text-text-primary\">\n                {chartData.length > 0 \n                  ? chartData[chartData.length - 1][selectedMetric]?.toFixed(1) || 'N/A'\n                  : 'N/A'\n                }\n              </span>\n              <span className=\"text-text-secondary\">{currentMetric.unit}</span>\n            </div>\n          </div>\n          \n          {/* Trend Indicator */}\n          {chartData.length > 1 && (\n            <div className=\"flex items-center justify-between mt-2\">\n              <span className=\"text-text-secondary\">Trend:</span>\n              {(() => {\n                const current = chartData[chartData.length - 1][selectedMetric];\n                const previous = chartData[chartData.length - 2][selectedMetric];\n                const diff = current - previous;\n                const isIncreasing = diff > 0;\n                const isDecreasing = diff < 0;\n                \n                return (\n                  <div className={`flex items-center gap-1 text-sm ${\n                    isIncreasing ? 'text-green-400' : isDecreasing ? 'text-red-400' : 'text-text-secondary'\n                  }`}>\n                    <span>\n                      {isIncreasing ? 'â' : isDecreasing ? 'â' : 'â'}\n                    </span>\n                    <span>\n                      {Math.abs(diff).toFixed(2)} {currentMetric.unit}\n                    </span>\n                  </div>\n                );\n              })()}\n            </div>\n          )}\n        </div>\n      </motion.div>\n\n      {/* Statistics Summary */}\n      <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\n        {['min', 'max', 'avg', 'current'].map((stat) => {\n          let value, label;\n          const values = chartData.map(d => d[selectedMetric]).filter(v => v !== undefined && v !== null);\n          \n          switch (stat) {\n            case 'min':\n              value = values.length > 0 ? Math.min(...values) : 0;\n              label = 'Minimum';\n              break;\n            case 'max':\n              value = values.length > 0 ? Math.max(...values) : 0;\n              label = 'Maximum';\n              break;\n            case 'avg':\n              value = values.length > 0 ? values.reduce((a, b) => a + b, 0) / values.length : 0;\n              label = 'Average';\n              break;\n            case 'current':\n              value = values.length > 0 ? values[values.length - 1] : 0;\n              label = 'Current';\n              break;\n            default:\n              value = 0;\n              label = '';\n          }\n          \n          return (\n            <div key={stat} className=\"bg-dark-tertiary rounded-lg p-3\">\n              <div className=\"text-text-secondary text-sm\">{label}</div>\n              <div className=\"text-xl font-bold text-text-primary\">\n                {value.toFixed(1)}\n              </div>\n              <div className=\"text-xs text-text-secondary\">{currentMetric.unit}</div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default TelemetryChart;","import React from 'react';\nimport { motion } from 'framer-motion';\nimport { \n  ExclamationTriangleIcon, \n  XCircleIcon, \n  InformationCircleIcon,\n  ClockIcon,\n  CheckCircleIcon,\n  XMarkIcon\n} from '@heroicons/react/24/outline';\n\ninterface Alert {\n  id: string;\n  severity: 'info' | 'warning' | 'error' | 'critical';\n  message: string;\n  timestamp: string;\n  category?: string;\n  acknowledged?: boolean;\n  resolved?: boolean;\n}\n\ninterface AlertsListProps {\n  alerts: Alert[];\n  droneId: string;\n  onAcknowledge?: (alertId: string) => void;\n  onResolve?: (alertId: string) => void;\n  onDismiss?: (alertId: string) => void;\n}\n\nconst AlertsList: React.FC<AlertsListProps> = ({ \n  alerts, \n  droneId, \n  onAcknowledge, \n  onResolve, \n  onDismiss \n}) => {\n  const getSeverityConfig = (severity: string) => {\n    switch (severity) {\n      case 'critical':\n        return {\n          color: '#f85149',\n          bgColor: '#da3633',\n          icon: XCircleIcon,\n          label: 'Critical',\n        };\n      case 'error':\n        return {\n          color: '#da3633',\n          bgColor: '#da3633',\n          icon: XCircleIcon,\n          label: 'Error',\n        };\n      case 'warning':\n        return {\n          color: '#d29922',\n          bgColor: '#d29922',\n          icon: ExclamationTriangleIcon,\n          label: 'Warning',\n        };\n      case 'info':\n        return {\n          color: '#1f6feb',\n          bgColor: '#1f6feb',\n          icon: InformationCircleIcon,\n          label: 'Info',\n        };\n      default:\n        return {\n          color: '#8b949e',\n          bgColor: '#8b949e',\n          icon: InformationCircleIcon,\n          label: 'Unknown',\n        };\n    }\n  };\n\n  const formatTimeAgo = (timestamp: string) => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffSeconds = Math.floor(diffMs / 1000);\n    const diffMinutes = Math.floor(diffSeconds / 60);\n    const diffHours = Math.floor(diffMinutes / 60);\n    \n    if (diffSeconds < 60) return `${diffSeconds}s ago`;\n    if (diffMinutes < 60) return `${diffMinutes}m ago`;\n    if (diffHours < 24) return `${diffHours}h ago`;\n    return date.toLocaleDateString();\n  };\n\n  // Sort alerts by severity and timestamp\n  const sortedAlerts = [...alerts].sort((a, b) => {\n    const severityOrder = { critical: 4, error: 3, warning: 2, info: 1 };\n    const severityDiff = (severityOrder[b.severity] || 0) - (severityOrder[a.severity] || 0);\n    if (severityDiff !== 0) return severityDiff;\n    \n    return new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime();\n  });\n\n  const activeAlerts = sortedAlerts.filter(alert => !alert.resolved);\n  const resolvedAlerts = sortedAlerts.filter(alert => alert.resolved);\n\n  if (alerts.length === 0) {\n    return (\n      <div className=\"text-center py-8\">\n        <CheckCircleIcon className=\"w-12 h-12 mx-auto text-status-operational mb-3\" />\n        <h3 className=\"text-lg font-semibold text-text-primary mb-2\">No Active Alerts</h3>\n        <p className=\"text-text-secondary\">All systems are operating normally</p>\n      </div>\n    );\n  }\n\n  const AlertItem: React.FC<{ alert: Alert; index: number }> = ({ alert, index }) => {\n    const config = getSeverityConfig(alert.severity);\n    const IconComponent = config.icon;\n\n    return (\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.3, delay: index * 0.1 }}\n        className={`bg-dark-tertiary rounded-lg border-l-4 p-4 ${\n          alert.acknowledged ? 'opacity-75' : ''\n        } ${alert.resolved ? 'opacity-50' : ''}`}\n        style={{ borderLeftColor: config.color }}\n      >\n        <div className=\"flex items-start justify-between\">\n          <div className=\"flex items-start gap-3 flex-1\">\n            <div className=\"flex-shrink-0 mt-0.5\">\n              <IconComponent className=\"w-5 h-5\" style={{ color: config.color }} />\n            </div>\n            \n            <div className=\"flex-1\">\n              <div className=\"flex items-center gap-2 mb-1\">\n                <span \n                  className=\"px-2 py-1 rounded text-xs font-medium\"\n                  style={{ \n                    backgroundColor: config.bgColor + '20', \n                    color: config.color \n                  }}\n                >\n                  {config.label}\n                </span>\n                \n                {alert.category && (\n                  <span className=\"px-2 py-1 bg-dark-border text-text-secondary rounded text-xs\">\n                    {alert.category}\n                  </span>\n                )}\n                \n                {alert.acknowledged && (\n                  <span className=\"px-2 py-1 bg-blue-900/30 text-blue-400 rounded text-xs\">\n                    Acknowledged\n                  </span>\n                )}\n                \n                {alert.resolved && (\n                  <span className=\"px-2 py-1 bg-green-900/30 text-green-400 rounded text-xs\">\n                    Resolved\n                  </span>\n                )}\n              </div>\n              \n              <p className=\"text-text-primary text-sm mb-2\">{alert.message}</p>\n              \n              <div className=\"flex items-center gap-4 text-xs text-text-secondary\">\n                <div className=\"flex items-center gap-1\">\n                  <ClockIcon className=\"w-3 h-3\" />\n                  {formatTimeAgo(alert.timestamp)}\n                </div>\n                \n                <div className=\"flex items-center gap-1\">\n                  <span>Drone:</span>\n                  <span className=\"font-mono\">{droneId}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          {/* Action Buttons */}\n          <div className=\"flex items-center gap-2 ml-3\">\n            {!alert.resolved && !alert.acknowledged && onAcknowledge && (\n              <button\n                onClick={() => onAcknowledge(alert.id)}\n                className=\"px-2 py-1 bg-blue-900/30 text-blue-400 hover:bg-blue-900/50 rounded text-xs transition-colors\"\n                title=\"Acknowledge alert\"\n              >\n                Ack\n              </button>\n            )}\n            \n            {alert.acknowledged && !alert.resolved && onResolve && (\n              <button\n                onClick={() => onResolve(alert.id)}\n                className=\"px-2 py-1 bg-green-900/30 text-green-400 hover:bg-green-900/50 rounded text-xs transition-colors\"\n                title=\"Mark as resolved\"\n              >\n                Resolve\n              </button>\n            )}\n            \n            {onDismiss && (\n              <button\n                onClick={() => onDismiss(alert.id)}\n                className=\"p-1 text-text-secondary hover:text-text-primary transition-colors\"\n                title=\"Dismiss alert\"\n              >\n                <XMarkIcon className=\"w-4 h-4\" />\n              </button>\n            )}\n          </div>\n        </div>\n      </motion.div>\n    );\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Active Alerts */}\n      {activeAlerts.length > 0 && (\n        <div>\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold text-text-primary\">\n              Active Alerts ({activeAlerts.length})\n            </h3>\n            \n            {activeAlerts.filter(a => a.severity === 'critical' || a.severity === 'error').length > 0 && (\n              <div className=\"flex items-center gap-1 text-status-critical text-sm\">\n                <ExclamationTriangleIcon className=\"w-4 h-4\" />\n                Attention Required\n              </div>\n            )}\n          </div>\n          \n          <div className=\"space-y-3\">\n            {activeAlerts.map((alert, index) => (\n              <AlertItem key={alert.id} alert={alert} index={index} />\n            ))}\n          </div>\n        </div>\n      )}\n      \n      {/* Resolved Alerts */}\n      {resolvedAlerts.length > 0 && (\n        <div>\n          <h3 className=\"text-lg font-semibold text-text-primary mb-4\">\n            Recent Resolved ({resolvedAlerts.length})\n          </h3>\n          \n          <div className=\"space-y-3\">\n            {resolvedAlerts.slice(0, 5).map((alert, index) => (\n              <AlertItem key={alert.id} alert={alert} index={index} />\n            ))}\n          </div>\n          \n          {resolvedAlerts.length > 5 && (\n            <p className=\"text-text-secondary text-sm mt-3 text-center\">\n              +{resolvedAlerts.length - 5} more resolved alerts\n            </p>\n          )}\n        </div>\n      )}\n      \n      {/* Alert Statistics */}\n      <div className=\"bg-dark-tertiary rounded-lg p-4\">\n        <h4 className=\"font-semibold text-text-primary mb-3\">Alert Summary</h4>\n        \n        <div className=\"grid grid-cols-2 gap-4 text-sm\">\n          <div>\n            <span className=\"text-text-secondary\">Total Alerts</span>\n            <div className=\"text-xl font-bold text-text-primary\">{alerts.length}</div>\n          </div>\n          \n          <div>\n            <span className=\"text-text-secondary\">Active</span>\n            <div className=\"text-xl font-bold text-status-warning\">{activeAlerts.length}</div>\n          </div>\n          \n          <div>\n            <span className=\"text-text-secondary\">Critical</span>\n            <div className=\"text-xl font-bold text-status-critical\">\n              {alerts.filter(a => a.severity === 'critical' && !a.resolved).length}\n            </div>\n          </div>\n          \n          <div>\n            <span className=\"text-text-secondary\">Resolved</span>\n            <div className=\"text-xl font-bold text-status-operational\">{resolvedAlerts.length}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AlertsList;","import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  Battery0Icon as BatteryIcon, \n  SignalIcon, \n  GlobeAltIcon as CompassIcon,\n  RocketLaunchIcon as SpeedIcon,\n  ExclamationTriangleIcon,\n  CheckCircleIcon,\n  MapPinIcon,\n  WifiIcon,\n  CpuChipIcon,\n  FireIcon as TemperatureIcon\n} from '@heroicons/react/24/outline';\nimport { DroneData } from '@/types/fleet';\nimport BatteryIndicator from '../BatteryIndicator';\nimport ConnectionStatus from '../ConnectionStatus';\nimport TelemetryChart from './TelemetryChart';\nimport AlertsList from './AlertsList';\n\ninterface TelemetryPanelProps {\n  drone: DroneData | null;\n  isLive?: boolean;\n  className?: string;\n}\n\nconst TelemetryPanel: React.FC<TelemetryPanelProps> = ({ \n  drone, \n  isLive = true,\n  className = '' \n}) => {\n  const [activeTab, setActiveTab] = useState<'overview' | 'charts' | 'alerts' | 'system'>('overview');\n  const [telemetryHistory, setTelemetryHistory] = useState<any[]>([]);\n\n  // Simulate telemetry history for charts\n  useEffect(() => {\n    if (drone && isLive) {\n      const newDataPoint = {\n        timestamp: Date.now(),\n        battery: drone.batteryLevel,\n        altitude: drone.position.alt,\n        speed: drone.speed,\n        signalStrength: drone.signalStrength,\n      };\n      \n      setTelemetryHistory(prev => {\n        const updated = [...prev, newDataPoint];\n        // Keep last 50 data points\n        return updated.slice(-50);\n      });\n    }\n  }, [drone, isLive]);\n\n  if (!drone) {\n    return (\n      <div className={`h-full w-full flex items-center justify-center ${className}`}>\n        <div className=\"text-center text-text-secondary\">\n          <CpuChipIcon className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n          <h3 className=\"text-lg font-semibold mb-2\">No Drone Selected</h3>\n          <p className=\"text-sm\">Select a drone from the map or fleet list to view telemetry data.</p>\n        </div>\n      </div>\n    );\n  }\n\n  const formatLastUpdate = (timestamp: string) => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffSeconds = Math.floor(diffMs / 1000);\n    \n    if (diffSeconds < 60) return `${diffSeconds}s ago`;\n    if (diffSeconds < 3600) return `${Math.floor(diffSeconds / 60)}m ago`;\n    return `${Math.floor(diffSeconds / 3600)}h ago`;\n  };\n\n  const getStatusColor = (status: string): string => {\n    switch (status.toLowerCase()) {\n      case 'active':\n      case 'in_flight':\n        return '#238636';\n      case 'charging':\n      case 'returning':\n        return '#d29922';\n      case 'maintenance':\n      case 'emergency':\n        return '#da3633';\n      case 'idle':\n      default:\n        return '#8b949e';\n    }\n  };\n\n  const tabs = [\n    { id: 'overview', label: 'Overview', icon: CpuChipIcon },\n    { id: 'charts', label: 'Charts', icon: SpeedIcon },\n    { id: 'alerts', label: 'Alerts', icon: ExclamationTriangleIcon, count: drone.alerts?.length || 0 },\n    { id: 'system', label: 'System', icon: WifiIcon },\n  ];\n\n  return (\n    <div className={`h-full w-full flex flex-col overflow-hidden ${className}`}>\n      {/* Header */}\n      <div className=\"flex-shrink-0 p-3 border-b border-dark-border\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <div>\n            <h2 className=\"text-lg font-semibold text-text-primary\">{drone.name}</h2>\n            <p className=\"text-text-secondary text-xs\">{drone.id}</p>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            {isLive && (\n              <div className=\"flex items-center gap-1\">\n                <div className=\"w-2 h-2 bg-status-operational rounded-full animate-pulse\"></div>\n                <span className=\"text-xs text-text-secondary\">Live</span>\n              </div>\n            )}\n            <div className={`px-2 py-0.5 rounded text-xs font-medium border`}\n                 style={{ \n                   backgroundColor: getStatusColor(drone.status) + '20',\n                   color: getStatusColor(drone.status),\n                   borderColor: getStatusColor(drone.status) + '40'\n                 }}>\n              {drone.status.toUpperCase()}\n            </div>\n          </div>\n        </div>\n\n        {/* Tab Navigation */}\n        <div className=\"flex space-x-0.5\">\n          {tabs.map((tab) => (\n            <button\n              key={tab.id}\n              onClick={() => setActiveTab(tab.id as any)}\n              className={`px-2 py-1 rounded text-xs font-medium transition-all duration-200 flex items-center gap-1 ${\n                activeTab === tab.id\n                  ? 'bg-dark-tertiary text-text-primary border border-dark-border'\n                  : 'text-text-secondary hover:text-text-primary hover:bg-dark-hover'\n              }`}\n            >\n              <tab.icon className=\"w-3 h-3\" />\n              {tab.label}\n              {tab.count !== undefined && tab.count > 0 && (\n                <span className=\"bg-status-critical text-white text-xs rounded-full px-1 py-0.5 min-w-[14px] text-center\">\n                  {tab.count}\n                </span>\n              )}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-hidden\">\n        <div className=\"h-full overflow-y-auto p-3\">\n        <AnimatePresence mode=\"wait\">\n          {activeTab === 'overview' && (\n            <motion.div\n              key=\"overview\"\n              initial={{ opacity: 0, x: 20 }}\n              animate={{ opacity: 1, x: 0 }}\n              exit={{ opacity: 0, x: -20 }}\n              transition={{ duration: 0.2 }}\n              className=\"space-y-4\"\n            >\n              {/* Key Metrics Grid */}\n              <div className=\"grid grid-cols-2 gap-3\">\n                {/* Battery */}\n                <div className=\"bg-dark-tertiary rounded p-2\">\n                  <div className=\"flex items-center gap-1 mb-1\">\n                    <BatteryIcon className=\"w-4 h-4 text-text-secondary\" />\n                    <span className=\"text-xs text-text-secondary\">Battery</span>\n                  </div>\n                  <BatteryIndicator \n                    level={drone.batteryLevel} \n                    voltage={drone.batteryVoltage}\n                    showLabel={true}\n                    size=\"sm\"\n                  />\n                </div>\n\n                {/* Connection */}\n                <div className=\"bg-dark-tertiary rounded p-2\">\n                  <div className=\"flex items-center gap-1 mb-1\">\n                    <SignalIcon className=\"w-4 h-4 text-text-secondary\" />\n                    <span className=\"text-xs text-text-secondary\">Signal</span>\n                  </div>\n                  <ConnectionStatus \n                    strength={drone.signalStrength}\n                    quality={drone.connectionQuality}\n                    showLabel={true}\n                    size=\"sm\"\n                  />\n                </div>\n\n                {/* Altitude */}\n                <div className=\"bg-dark-tertiary rounded p-2\">\n                  <div className=\"flex items-center gap-1 mb-1\">\n                    <MapPinIcon className=\"w-4 h-4 text-text-secondary\" />\n                    <span className=\"text-xs text-text-secondary\">Altitude</span>\n                  </div>\n                  <div className=\"text-lg font-bold text-text-primary\">\n                    {drone.position.alt.toFixed(1)}\n                  </div>\n                  <div className=\"text-xs text-text-secondary\">meters</div>\n                </div>\n\n                {/* Speed */}\n                <div className=\"bg-dark-tertiary rounded p-2\">\n                  <div className=\"flex items-center gap-1 mb-1\">\n                    <SpeedIcon className=\"w-4 h-4 text-text-secondary\" />\n                    <span className=\"text-xs text-text-secondary\">Speed</span>\n                  </div>\n                  <div className=\"text-lg font-bold text-text-primary\">\n                    {drone.speed.toFixed(1)}\n                  </div>\n                  <div className=\"text-xs text-text-secondary\">m/s</div>\n                </div>\n              </div>\n\n              {/* Position & Orientation */}\n              <div className=\"bg-dark-tertiary rounded p-3\">\n                <h3 className=\"font-medium text-text-primary mb-2 flex items-center gap-1\">\n                  <CompassIcon className=\"w-4 h-4\" />\n                  Position & Orientation\n                </h3>\n                <div className=\"grid grid-cols-1 gap-2 text-xs\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-text-secondary\">Latitude</span>\n                    <span className=\"font-mono text-text-primary\">\n                      {drone.position.lat.toFixed(6)}Â°\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-text-secondary\">Longitude</span>\n                    <span className=\"font-mono text-text-primary\">\n                      {drone.position.lng.toFixed(6)}Â°\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-text-secondary\">Heading</span>\n                    <span className=\"font-mono text-text-primary\">\n                      {drone.heading.toFixed(1)}Â°\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Mission Status */}\n              {drone.currentMission && (\n                <div className=\"bg-dark-tertiary rounded p-3\">\n                  <h3 className=\"font-medium text-text-primary mb-2 flex items-center gap-1\">\n                    <CheckCircleIcon className=\"w-4 h-4\" />\n                    Current Mission\n                  </h3>\n                  <div className=\"space-y-1 text-xs\">\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-text-secondary\">Mission</span>\n                      <span className=\"text-text-primary truncate ml-2\">{drone.currentMission.name}</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-text-secondary\">Progress</span>\n                      <span className=\"text-text-primary\">{drone.currentMission.progress}%</span>\n                    </div>\n                    {drone.currentMission.eta && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-text-secondary\">ETA</span>\n                        <span className=\"text-text-primary\">{drone.currentMission.eta}</span>\n                      </div>\n                    )}\n                    <div className=\"w-full bg-dark-border rounded-full h-1.5 mt-2\">\n                      <div \n                        className=\"bg-status-active h-1.5 rounded-full transition-all duration-300\"\n                        style={{ width: `${drone.currentMission.progress}%` }}\n                      />\n                    </div>\n                  </div>\n                </div>\n              )}\n            </motion.div>\n          )}\n\n          {activeTab === 'charts' && (\n            <motion.div\n              key=\"charts\"\n              initial={{ opacity: 0, x: 20 }}\n              animate={{ opacity: 1, x: 0 }}\n              exit={{ opacity: 0, x: -20 }}\n              transition={{ duration: 0.2 }}\n            >\n              <TelemetryChart data={telemetryHistory} drone={drone} />\n            </motion.div>\n          )}\n\n          {activeTab === 'alerts' && (\n            <motion.div\n              key=\"alerts\"\n              initial={{ opacity: 0, x: 20 }}\n              animate={{ opacity: 1, x: 0 }}\n              exit={{ opacity: 0, x: -20 }}\n              transition={{ duration: 0.2 }}\n            >\n              <AlertsList alerts={drone.alerts || []} droneId={drone.id} />\n            </motion.div>\n          )}\n\n          {activeTab === 'system' && (\n            <motion.div\n              key=\"system\"\n              initial={{ opacity: 0, x: 20 }}\n              animate={{ opacity: 1, x: 0 }}\n              exit={{ opacity: 0, x: -20 }}\n              transition={{ duration: 0.2 }}\n              className=\"space-y-4\"\n            >\n              {/* System Information */}\n              <div className=\"bg-dark-tertiary rounded-lg p-4\">\n                <h3 className=\"font-semibold text-text-primary mb-3\">System Information</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-text-secondary\">Firmware</span>\n                    <span className=\"text-text-primary font-mono\">{drone.firmware || 'v1.12.3'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-text-secondary\">Hardware</span>\n                    <span className=\"text-text-primary\">{drone.hardware || 'Pixhawk 4'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-text-secondary\">Uptime</span>\n                    <span className=\"text-text-primary\">{drone.uptime || '2h 34m'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-text-secondary\">Last Update</span>\n                    <span className=\"text-text-primary\">{formatLastUpdate(drone.lastUpdate)}</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Environmental */}\n              <div className=\"bg-dark-tertiary rounded-lg p-4\">\n                <h3 className=\"font-semibold text-text-primary mb-3 flex items-center gap-2\">\n                  <TemperatureIcon className=\"w-5 h-5\" />\n                  Environmental\n                </h3>\n                <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                  <div>\n                    <span className=\"text-text-secondary\">Temperature</span>\n                    <div className=\"font-mono text-text-primary\">\n                      {drone.temperature || 28.5}Â°C\n                    </div>\n                  </div>\n                  <div>\n                    <span className=\"text-text-secondary\">Humidity</span>\n                    <div className=\"font-mono text-text-primary\">\n                      {drone.humidity || 65}%\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TelemetryPanel;","import { DroneData, MissionData, FleetAlert } from '@/types/fleet';\n\n// WebSocket connection states\nexport enum ConnectionState {\n  CONNECTING = 'connecting',\n  CONNECTED = 'connected',\n  DISCONNECTED = 'disconnected',\n  RECONNECTING = 'reconnecting',\n  ERROR = 'error'\n}\n\n// Message types from telemetry service\nexport interface TelemetryMessage {\n  type: 'drone_update' | 'mission_update' | 'fleet_alert' | 'heartbeat';\n  timestamp: string;\n  data: any;\n}\n\nexport interface DroneUpdateMessage extends TelemetryMessage {\n  type: 'drone_update';\n  data: DroneData;\n}\n\nexport interface MissionUpdateMessage extends TelemetryMessage {\n  type: 'mission_update';\n  data: MissionData;\n}\n\nexport interface FleetAlertMessage extends TelemetryMessage {\n  type: 'fleet_alert';\n  data: FleetAlert;\n}\n\nexport interface HeartbeatMessage extends TelemetryMessage {\n  type: 'heartbeat';\n  data: { server_time: string; connected_clients: number };\n}\n\n// Connection configuration\ninterface WebSocketConfig {\n  url: string;\n  reconnectInterval: number;\n  maxReconnectAttempts: number;\n  heartbeatInterval: number;\n  connectionTimeout: number;\n}\n\n// Default configuration\nconst DEFAULT_CONFIG: WebSocketConfig = {\n  url: 'ws://localhost:3001/telemetry',\n  reconnectInterval: 3000, // 3 seconds\n  maxReconnectAttempts: 10,\n  heartbeatInterval: 30000, // 30 seconds\n  connectionTimeout: 10000, // 10 seconds\n};\n\n// Event callback types\ntype ConnectionStateCallback = (state: ConnectionState, error?: Error) => void;\ntype MessageCallback = (message: TelemetryMessage) => void;\ntype DroneUpdateCallback = (drone: DroneData) => void;\ntype MissionUpdateCallback = (mission: MissionData) => void;\ntype FleetAlertCallback = (alert: FleetAlert) => void;\n\nexport class TelemetryWebSocketService {\n  private ws: WebSocket | null = null;\n  private config: WebSocketConfig;\n  private connectionState: ConnectionState = ConnectionState.DISCONNECTED;\n  private reconnectAttempts = 0;\n  private reconnectTimer: number | null = null;\n  private heartbeatTimer: number | null = null;\n  private connectionTimer: number | null = null;\n\n  // Event callbacks\n  private onConnectionStateChange: ConnectionStateCallback | null = null;\n  private onMessage: MessageCallback | null = null;\n  private onDroneUpdate: DroneUpdateCallback | null = null;\n  private onMissionUpdate: MissionUpdateCallback | null = null;\n  private onFleetAlert: FleetAlertCallback | null = null;\n\n  // Statistics\n  private stats = {\n    messagesReceived: 0,\n    messagesProcessed: 0,\n    lastMessageTime: null as Date | null,\n    connectionUptime: null as Date | null,\n    reconnectCount: 0\n  };\n\n  constructor(config?: Partial<WebSocketConfig>) {\n    this.config = { ...DEFAULT_CONFIG, ...config };\n  }\n\n  // Public API\n  connect(): void {\n    if (this.connectionState === ConnectionState.CONNECTED || \n        this.connectionState === ConnectionState.CONNECTING) {\n      console.warn('WebSocket already connected or connecting');\n      return;\n    }\n\n    this.setConnectionState(ConnectionState.CONNECTING);\n    this.clearTimers();\n\n    try {\n      this.ws = new WebSocket(this.config.url);\n      this.setupEventHandlers();\n      this.startConnectionTimeout();\n    } catch (error) {\n      console.error('Failed to create WebSocket connection:', error);\n      this.setConnectionState(ConnectionState.ERROR, error as Error);\n      this.scheduleReconnect();\n    }\n  }\n\n  disconnect(): void {\n    console.log('Disconnecting from telemetry service...');\n    this.clearTimers();\n    \n    if (this.ws) {\n      this.ws.close(1000, 'Client disconnect');\n      this.ws = null;\n    }\n    \n    this.setConnectionState(ConnectionState.DISCONNECTED);\n    this.reconnectAttempts = 0;\n  }\n\n  // Event listeners\n  setConnectionStateCallback(callback: ConnectionStateCallback): void {\n    this.onConnectionStateChange = callback;\n  }\n\n  onTelemetryMessage(callback: MessageCallback): void {\n    this.onMessage = callback;\n  }\n\n  onDroneDataUpdate(callback: DroneUpdateCallback): void {\n    this.onDroneUpdate = callback;\n  }\n\n  onMissionDataUpdate(callback: MissionUpdateCallback): void {\n    this.onMissionUpdate = callback;\n  }\n\n  onFleetAlertReceived(callback: FleetAlertCallback): void {\n    this.onFleetAlert = callback;\n  }\n\n  // Getters\n  getConnectionState(): ConnectionState {\n    return this.connectionState;\n  }\n\n  getStatistics() {\n    return {\n      ...this.stats,\n      connectionState: this.connectionState,\n      reconnectAttempts: this.reconnectAttempts,\n      uptime: this.stats.connectionUptime \n        ? Date.now() - this.stats.connectionUptime.getTime()\n        : 0\n    };\n  }\n\n  isConnected(): boolean {\n    return this.connectionState === ConnectionState.CONNECTED;\n  }\n\n  // Private methods\n  private setupEventHandlers(): void {\n    if (!this.ws) return;\n\n    this.ws.onopen = () => {\n      console.log('Connected to telemetry service');\n      this.clearConnectionTimeout();\n      this.setConnectionState(ConnectionState.CONNECTED);\n      this.reconnectAttempts = 0;\n      this.stats.connectionUptime = new Date();\n      this.stats.reconnectCount++;\n      this.startHeartbeat();\n    };\n\n    this.ws.onmessage = (event) => {\n      try {\n        const message: TelemetryMessage = JSON.parse(event.data);\n        this.handleMessage(message);\n      } catch (error) {\n        console.error('Failed to parse telemetry message:', error, event.data);\n      }\n    };\n\n    this.ws.onclose = (event) => {\n      console.log('WebSocket connection closed:', event.code, event.reason);\n      this.clearTimers();\n      \n      if (event.code !== 1000) { // Not a normal closure\n        this.setConnectionState(ConnectionState.DISCONNECTED);\n        this.scheduleReconnect();\n      } else {\n        this.setConnectionState(ConnectionState.DISCONNECTED);\n      }\n    };\n\n    this.ws.onerror = (error) => {\n      console.error('WebSocket error:', error);\n      this.setConnectionState(ConnectionState.ERROR, new Error('WebSocket connection error'));\n    };\n  }\n\n  private handleMessage(message: TelemetryMessage): void {\n    this.stats.messagesReceived++;\n    this.stats.lastMessageTime = new Date();\n\n    // Call general message callback\n    if (this.onMessage) {\n      this.onMessage(message);\n    }\n\n    // Handle specific message types\n    try {\n      switch (message.type) {\n        case 'drone_update':\n          const droneMessage = message as DroneUpdateMessage;\n          if (this.onDroneUpdate) {\n            this.onDroneUpdate(droneMessage.data);\n          }\n          break;\n\n        case 'mission_update':\n          const missionMessage = message as MissionUpdateMessage;\n          if (this.onMissionUpdate) {\n            this.onMissionUpdate(missionMessage.data);\n          }\n          break;\n\n        case 'fleet_alert':\n          const alertMessage = message as FleetAlertMessage;\n          if (this.onFleetAlert) {\n            this.onFleetAlert(alertMessage.data);\n          }\n          break;\n\n        case 'heartbeat':\n          // Just log heartbeat for debugging\n          console.debug('Heartbeat received from server');\n          break;\n\n        default:\n          console.warn('Unknown message type:', message.type);\n      }\n\n      this.stats.messagesProcessed++;\n    } catch (error) {\n      console.error('Failed to process telemetry message:', error, message);\n    }\n  }\n\n  private setConnectionState(state: ConnectionState, error?: Error): void {\n    if (this.connectionState !== state) {\n      this.connectionState = state;\n      console.log(`WebSocket state changed to: ${state}`);\n      \n      if (this.onConnectionStateChange) {\n        this.onConnectionStateChange(state, error);\n      }\n    }\n  }\n\n  private scheduleReconnect(): void {\n    if (this.reconnectAttempts >= this.config.maxReconnectAttempts) {\n      console.error('Max reconnect attempts reached');\n      this.setConnectionState(ConnectionState.ERROR, new Error('Max reconnect attempts exceeded'));\n      return;\n    }\n\n    this.reconnectAttempts++;\n    this.setConnectionState(ConnectionState.RECONNECTING);\n    \n    console.log(`Attempting to reconnect in ${this.config.reconnectInterval}ms (attempt ${this.reconnectAttempts}/${this.config.maxReconnectAttempts})`);\n    \n    this.reconnectTimer = setTimeout(() => {\n      this.connect();\n    }, this.config.reconnectInterval);\n  }\n\n  private startHeartbeat(): void {\n    this.heartbeatTimer = setInterval(() => {\n      if (this.ws?.readyState === WebSocket.OPEN) {\n        // Send ping to server\n        try {\n          this.ws.send(JSON.stringify({ type: 'ping', timestamp: new Date().toISOString() }));\n        } catch (error) {\n          console.error('Failed to send heartbeat:', error);\n        }\n      }\n    }, this.config.heartbeatInterval);\n  }\n\n  private startConnectionTimeout(): void {\n    this.connectionTimer = setTimeout(() => {\n      if (this.connectionState === ConnectionState.CONNECTING) {\n        console.error('Connection timeout');\n        this.setConnectionState(ConnectionState.ERROR, new Error('Connection timeout'));\n        this.ws?.close();\n        this.scheduleReconnect();\n      }\n    }, this.config.connectionTimeout);\n  }\n\n  private clearConnectionTimeout(): void {\n    if (this.connectionTimer) {\n      clearTimeout(this.connectionTimer);\n      this.connectionTimer = null;\n    }\n  }\n\n  private clearTimers(): void {\n    if (this.reconnectTimer) {\n      clearTimeout(this.reconnectTimer);\n      this.reconnectTimer = null;\n    }\n    \n    if (this.heartbeatTimer) {\n      clearInterval(this.heartbeatTimer);\n      this.heartbeatTimer = null;\n    }\n    \n    this.clearConnectionTimeout();\n  }\n}\n\n// Singleton instance\nexport const telemetryService = new TelemetryWebSocketService();","import React from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  WifiIcon, \n  ExclamationTriangleIcon, \n  ArrowPathIcon,\n  XCircleIcon,\n  CheckCircleIcon\n} from '@heroicons/react/24/outline';\nimport { ConnectionState } from '@/services/websocket';\n\ninterface ConnectionStatusIndicatorProps {\n  connectionState: ConnectionState;\n  isConnected: boolean;\n  error?: string;\n  className?: string;\n}\n\nconst ConnectionStatusIndicator: React.FC<ConnectionStatusIndicatorProps> = ({\n  connectionState,\n  error,\n  className = ''\n}) => {\n  const getStatusConfig = () => {\n    switch (connectionState) {\n      case ConnectionState.CONNECTED:\n        return {\n          icon: CheckCircleIcon,\n          color: '#238636',\n          bgColor: '#238636',\n          text: 'Connected',\n          description: 'Real-time telemetry active',\n          pulse: false,\n        };\n      case ConnectionState.CONNECTING:\n        return {\n          icon: ArrowPathIcon,\n          color: '#d29922',\n          bgColor: '#d29922',\n          text: 'Connecting',\n          description: 'Establishing connection...',\n          pulse: true,\n        };\n      case ConnectionState.RECONNECTING:\n        return {\n          icon: ArrowPathIcon,\n          color: '#d29922',\n          bgColor: '#d29922',\n          text: 'Reconnecting',\n          description: 'Attempting to reconnect...',\n          pulse: true,\n        };\n      case ConnectionState.ERROR:\n        return {\n          icon: ExclamationTriangleIcon,\n          color: '#da3633',\n          bgColor: '#da3633',\n          text: 'Error',\n          description: error || 'Connection failed',\n          pulse: false,\n        };\n      case ConnectionState.DISCONNECTED:\n      default:\n        return {\n          icon: XCircleIcon,\n          color: '#8b949e',\n          bgColor: '#8b949e',\n          text: 'Disconnected',\n          description: 'No telemetry connection',\n          pulse: false,\n        };\n    }\n  };\n\n  const config = getStatusConfig();\n  const StatusIcon = config.icon;\n\n  return (\n    <div className={`flex items-center gap-3 ${className}`}>\n      {/* Status Indicator */}\n      <div className=\"flex items-center gap-2\">\n        <div className=\"relative\">\n          {/* Pulse animation for connecting states */}\n          <AnimatePresence>\n            {config.pulse && (\n              <motion.div\n                className=\"absolute inset-0 rounded-full\"\n                style={{ backgroundColor: config.color }}\n                initial={{ scale: 1, opacity: 0.3 }}\n                animate={{ scale: 1.5, opacity: 0 }}\n                exit={{ scale: 1, opacity: 0.3 }}\n                transition={{\n                  duration: 1.5,\n                  repeat: Infinity,\n                  repeatType: 'loop',\n                }}\n              />\n            )}\n          </AnimatePresence>\n\n          {/* Main status icon */}\n          <motion.div\n            className=\"w-8 h-8 rounded-full border-2 flex items-center justify-center\"\n            style={{\n              backgroundColor: config.bgColor + '20',\n              borderColor: config.color,\n            }}\n            animate={config.pulse ? { rotate: 360 } : {}}\n            transition={config.pulse ? { duration: 2, repeat: Infinity, ease: 'linear' } : {}}\n          >\n            <StatusIcon className=\"w-4 h-4\" style={{ color: config.color }} />\n          </motion.div>\n        </div>\n\n        {/* Status Text */}\n        <div className=\"text-sm\">\n          <div className=\"font-medium\" style={{ color: config.color }}>\n            {config.text}\n          </div>\n          <div className=\"text-text-muted text-xs\">\n            {config.description}\n          </div>\n        </div>\n      </div>\n\n      {/* Telemetry Service Info */}\n      <div className=\"hidden md:flex items-center gap-1 text-xs text-text-secondary\">\n        <WifiIcon className=\"w-3 h-3\" />\n        <span>ws://localhost:3001/telemetry</span>\n      </div>\n\n      {/* Connection Details (on hover/click) */}\n      {(connectionState === ConnectionState.ERROR || error) && (\n        <motion.div\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: 1, scale: 1 }}\n          className=\"hidden lg:block\"\n        >\n          <div className=\"bg-dark-tertiary border border-red-800 rounded-lg p-2 max-w-xs\">\n            <div className=\"text-xs text-red-300 font-medium mb-1\">Connection Error</div>\n            <div className=\"text-xs text-text-secondary\">\n              {error || 'Unable to connect to telemetry service'}\n            </div>\n            <div className=\"text-xs text-text-muted mt-1\">\n              Check if the telemetry service is running on port 3001\n            </div>\n          </div>\n        </motion.div>\n      )}\n    </div>\n  );\n};\n\nexport default ConnectionStatusIndicator;","import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  ShieldCheckIcon,\n  ShieldExclamationIcon,\n  ExclamationTriangleIcon,\n  BoltIcon,\n  ClockIcon,\n  CheckCircleIcon,\n  XCircleIcon,\n  BellIcon\n} from '@heroicons/react/24/outline';\n\ninterface SafetyAlert {\n  id: string;\n  droneId?: string;\n  severity: 'info' | 'warning' | 'critical';\n  type: string;\n  message: string;\n  category: string;\n  timestamp: string;\n  data?: any;\n  resolved: boolean;\n  acknowledged: boolean;\n}\n\ninterface SafetyStatus {\n  overall: 'safe' | 'caution' | 'warning' | 'critical';\n  lastCheck: number;\n  criticalAlerts: number;\n  warningAlerts: number;\n  activeDrones: number;\n  dronesAtRisk: number;\n  totalAlerts: number;\n}\n\ninterface SafetyPanelProps {\n  className?: string;\n}\n\nconst SafetyPanel: React.FC<SafetyPanelProps> = ({ className = '' }) => {\n  const [safetyStatus, setSafetyStatus] = useState<SafetyStatus>({\n    overall: 'safe',\n    lastCheck: Date.now(),\n    criticalAlerts: 0,\n    warningAlerts: 0,\n    activeDrones: 0,\n    dronesAtRisk: 0,\n    totalAlerts: 0\n  });\n\n  const [alerts, setAlerts] = useState<SafetyAlert[]>([]);\n  const [isConnected, setIsConnected] = useState(false);\n  const [showAllAlerts, setShowAllAlerts] = useState(false);\n\n  useEffect(() => {\n    // Initialize safety WebSocket connection\n    const initSafetyConnection = () => {\n      try {\n        const ws = new WebSocket('ws://localhost:3005/safety-ws');\n        \n        ws.onopen = () => {\n          console.log('Safety WebSocket connected');\n          setIsConnected(true);\n          \n          // Subscribe to safety alerts\n          ws.send(JSON.stringify({\n            type: 'subscribe',\n            channels: ['battery_alerts', 'safety_alerts', 'emergency_alerts', 'all_alerts']\n          }));\n          \n          // Request current alerts\n          ws.send(JSON.stringify({\n            type: 'get_alerts'\n          }));\n        };\n        \n        ws.onmessage = (event) => {\n          try {\n            const message = JSON.parse(event.data);\n            handleSafetyMessage(message);\n          } catch (error) {\n            console.error('Failed to parse safety message:', error);\n          }\n        };\n        \n        ws.onclose = () => {\n          console.log('Safety WebSocket disconnected');\n          setIsConnected(false);\n          // Attempt to reconnect after 5 seconds\n          setTimeout(initSafetyConnection, 5000);\n        };\n        \n        ws.onerror = (error) => {\n          console.error('Safety WebSocket error:', error);\n          setIsConnected(false);\n        };\n        \n        return ws;\n      } catch (error) {\n        console.error('Failed to initialize safety connection:', error);\n        setIsConnected(false);\n        return null;\n      }\n    };\n\n    const ws = initSafetyConnection();\n    return () => {\n      if (ws) {\n        ws.close();\n      }\n    };\n  }, []);\n\n  const handleSafetyMessage = (message: any) => {\n    switch (message.type) {\n      case 'battery_alert':\n      case 'safety_alert':\n      case 'emergency_alert':\n        // Add new alert to the list\n        setAlerts(prev => [message.data, ...prev.slice(0, 19)]); // Keep last 20 alerts\n        break;\n        \n      case 'system_safety_status':\n        setSafetyStatus(message.data.status);\n        break;\n        \n      case 'alerts_data':\n        setAlerts(message.data.alerts || []);\n        break;\n        \n      case 'alert_resolved':\n        // Remove resolved alert\n        setAlerts(prev => prev.filter(alert => alert.id !== message.data.alertId));\n        break;\n    }\n  };\n\n  const getSafetyStatusColor = (status: string) => {\n    switch (status) {\n      case 'safe':\n        return 'text-green-400 bg-green-900/20';\n      case 'caution':\n        return 'text-yellow-400 bg-yellow-900/20';\n      case 'warning':\n        return 'text-orange-400 bg-orange-900/20';\n      case 'critical':\n        return 'text-red-400 bg-red-900/20';\n      default:\n        return 'text-gray-400 bg-gray-900/20';\n    }\n  };\n\n  const getSafetyIcon = (status: string) => {\n    switch (status) {\n      case 'safe':\n        return <ShieldCheckIcon className=\"w-5 h-5\" />;\n      case 'caution':\n      case 'warning':\n        return <ShieldExclamationIcon className=\"w-5 h-5\" />;\n      case 'critical':\n        return <ExclamationTriangleIcon className=\"w-5 h-5\" />;\n      default:\n        return <ShieldCheckIcon className=\"w-5 h-5\" />;\n    }\n  };\n\n  const getAlertIcon = (alert: SafetyAlert) => {\n    if (alert.type === 'battery') {\n      return <BoltIcon className=\"w-4 h-4\" />;\n    }\n    \n    switch (alert.severity) {\n      case 'critical':\n        return <ExclamationTriangleIcon className=\"w-4 h-4\" />;\n      case 'warning':\n        return <ShieldExclamationIcon className=\"w-4 h-4\" />;\n      default:\n        return <BellIcon className=\"w-4 h-4\" />;\n    }\n  };\n\n  const getAlertSeverityColor = (severity: string) => {\n    switch (severity) {\n      case 'critical':\n        return 'text-red-400 bg-red-900/20 border-red-500/30';\n      case 'warning':\n        return 'text-orange-400 bg-orange-900/20 border-orange-500/30';\n      case 'info':\n        return 'text-blue-400 bg-blue-900/20 border-blue-500/30';\n      default:\n        return 'text-gray-400 bg-gray-900/20 border-gray-500/30';\n    }\n  };\n\n  const formatTimestamp = (timestamp: string) => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diff = now.getTime() - date.getTime();\n    \n    if (diff < 60000) {\n      return 'Just now';\n    } else if (diff < 3600000) {\n      return `${Math.floor(diff / 60000)}m ago`;\n    } else if (diff < 86400000) {\n      return `${Math.floor(diff / 3600000)}h ago`;\n    } else {\n      return date.toLocaleDateString();\n    }\n  };\n\n  const acknowledgeAlert = async (alertId: string) => {\n    try {\n      // In a real implementation, this would call the API\n      console.log(`Acknowledging alert: ${alertId}`);\n      \n      // Update local state\n      setAlerts(prev => \n        prev.map(alert => \n          alert.id === alertId \n            ? { ...alert, acknowledged: true }\n            : alert\n        )\n      );\n    } catch (error) {\n      console.error('Failed to acknowledge alert:', error);\n    }\n  };\n\n  const resolveAlert = async (alertId: string) => {\n    try {\n      // In a real implementation, this would call the API\n      console.log(`Resolving alert: ${alertId}`);\n      \n      // Remove from local state\n      setAlerts(prev => prev.filter(alert => alert.id !== alertId));\n    } catch (error) {\n      console.error('Failed to resolve alert:', error);\n    }\n  };\n\n  const visibleAlerts = showAllAlerts ? alerts : alerts.slice(0, 5);\n\n  return (\n    <div className={`bg-dark-secondary rounded-lg border border-dark-border ${className}`}>\n      {/* Header */}\n      <div className=\"p-4 border-b border-dark-border\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h3 className=\"text-lg font-semibold text-text-primary\">Safety Monitor</h3>\n          <div className=\"flex items-center gap-2\">\n            <div className={`w-2 h-2 rounded-full ${isConnected ? 'bg-green-400' : 'bg-red-400'}`} />\n            <span className=\"text-xs text-text-secondary\">\n              {isConnected ? 'Connected' : 'Disconnected'}\n            </span>\n          </div>\n        </div>\n\n        {/* Overall Safety Status */}\n        <div className={`flex items-center gap-3 p-3 rounded-lg border ${getSafetyStatusColor(safetyStatus.overall)}`}>\n          {getSafetyIcon(safetyStatus.overall)}\n          <div className=\"flex-1\">\n            <div className=\"font-medium capitalize\">\n              System Status: {safetyStatus.overall}\n            </div>\n            <div className=\"text-sm opacity-80\">\n              {safetyStatus.dronesAtRisk > 0 \n                ? `${safetyStatus.dronesAtRisk} drone${safetyStatus.dronesAtRisk > 1 ? 's' : ''} at risk`\n                : 'All drones operating safely'\n              }\n            </div>\n          </div>\n          <div className=\"text-right text-sm\">\n            <div>{safetyStatus.totalAlerts} alerts</div>\n            <div className=\"opacity-70\">\n              {safetyStatus.criticalAlerts} critical\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Safety Metrics */}\n      <div className=\"p-4 border-b border-dark-border\">\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div className=\"bg-dark-tertiary rounded-lg p-3\">\n            <div className=\"text-2xl font-bold text-text-primary\">\n              {safetyStatus.activeDrones}\n            </div>\n            <div className=\"text-sm text-text-secondary\">Active Drones</div>\n          </div>\n          <div className=\"bg-dark-tertiary rounded-lg p-3\">\n            <div className=\"text-2xl font-bold text-red-400\">\n              {safetyStatus.criticalAlerts}\n            </div>\n            <div className=\"text-sm text-text-secondary\">Critical Alerts</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Recent Alerts */}\n      <div className=\"flex-1 flex flex-col\">\n        <div className=\"flex items-center justify-between p-4 pb-2\">\n          <h4 className=\"font-medium text-text-primary\">Recent Alerts</h4>\n          {alerts.length > 5 && (\n            <button\n              onClick={() => setShowAllAlerts(!showAllAlerts)}\n              className=\"text-xs text-status-active hover:text-status-active/80 transition-colors\"\n            >\n              {showAllAlerts ? 'Show Less' : `Show All (${alerts.length})`}\n            </button>\n          )}\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto px-4 pb-4 space-y-2\">\n          <AnimatePresence>\n            {visibleAlerts.length > 0 ? (\n              visibleAlerts.map((alert) => (\n                <motion.div\n                  key={alert.id}\n                  initial={{ opacity: 0, y: -20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  exit={{ opacity: 0, x: -100 }}\n                  className={`p-3 rounded-lg border ${getAlertSeverityColor(alert.severity)}`}\n                >\n                  <div className=\"flex items-start gap-2\">\n                    {getAlertIcon(alert)}\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center gap-2 mb-1\">\n                        <span className=\"text-xs font-medium uppercase tracking-wide\">\n                          {alert.type.replace('_', ' ')}\n                        </span>\n                        {alert.droneId && (\n                          <span className=\"text-xs text-text-secondary\">\n                            {alert.droneId}\n                          </span>\n                        )}\n                        <span className=\"text-xs text-text-secondary ml-auto\">\n                          {formatTimestamp(alert.timestamp)}\n                        </span>\n                      </div>\n                      <div className=\"text-sm text-text-primary mb-2\">\n                        {alert.message}\n                      </div>\n                      \n                      {/* Battery-specific data */}\n                      {alert.type === 'battery' && alert.data && (\n                        <div className=\"text-xs text-text-secondary mb-2\">\n                          Battery: {alert.data.batteryLevel}% \n                          {alert.data.batteryVoltage && ` (${alert.data.batteryVoltage}V)`}\n                        </div>\n                      )}\n                      \n                      {/* Action buttons */}\n                      <div className=\"flex items-center gap-2\">\n                        {!alert.acknowledged && (\n                          <button\n                            onClick={() => acknowledgeAlert(alert.id)}\n                            className=\"flex items-center gap-1 text-xs text-status-active hover:text-status-active/80 transition-colors\"\n                          >\n                            <CheckCircleIcon className=\"w-3 h-3\" />\n                            Acknowledge\n                          </button>\n                        )}\n                        {alert.acknowledged && !alert.resolved && (\n                          <button\n                            onClick={() => resolveAlert(alert.id)}\n                            className=\"flex items-center gap-1 text-xs text-green-400 hover:text-green-300 transition-colors\"\n                          >\n                            <XCircleIcon className=\"w-3 h-3\" />\n                            Resolve\n                          </button>\n                        )}\n                        {alert.acknowledged && (\n                          <span className=\"flex items-center gap-1 text-xs text-green-400\">\n                            <CheckCircleIcon className=\"w-3 h-3\" />\n                            Acknowledged\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </motion.div>\n              ))\n            ) : (\n              <div className=\"text-center py-8 text-text-secondary\">\n                <ShieldCheckIcon className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n                <div className=\"text-sm\">No active safety alerts</div>\n                <div className=\"text-xs opacity-70 mt-1\">All systems operating normally</div>\n              </div>\n            )}\n          </AnimatePresence>\n        </div>\n      </div>\n\n      {/* Last Update */}\n      <div className=\"px-4 py-2 border-t border-dark-border\">\n        <div className=\"flex items-center gap-1 text-xs text-text-secondary\">\n          <ClockIcon className=\"w-3 h-3\" />\n          Last update: {formatTimestamp(new Date(safetyStatus.lastCheck).toISOString())}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SafetyPanel;","import React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  PlusIcon,\n  MapPinIcon,\n  TrashIcon,\n  PencilIcon,\n  CheckIcon,\n  XMarkIcon,\n  ChevronUpIcon,\n  ChevronDownIcon\n} from '@heroicons/react/24/outline';\nimport { Waypoint, Position } from '@/types/fleet';\n\ninterface WaypointManagerProps {\n  waypoints: Waypoint[];\n  onWaypointsChange: (waypoints: Waypoint[]) => void;\n  disabled?: boolean;\n  className?: string;\n}\n\ninterface WaypointFormData {\n  position: Position;\n  action: Waypoint['action'];\n  hoverTime?: number;\n  notes?: string;\n}\n\nconst WaypointManager: React.FC<WaypointManagerProps> = ({\n  waypoints,\n  onWaypointsChange,\n  disabled = false,\n  className = ''\n}) => {\n  const [editingIndex, setEditingIndex] = useState<number | null>(null);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [formData, setFormData] = useState<WaypointFormData>({\n    position: { lat: 37.7749, lng: -122.4194, alt: 50 },\n    action: 'navigation',\n    hoverTime: 0,\n    notes: ''\n  });\n\n  // Action options with icons and descriptions\n  const actionOptions = [\n    { value: 'navigation', label: 'Navigate', icon: 'ð§­', description: 'Fly to location' },\n    { value: 'pickup', label: 'Pickup', icon: 'ð¦', description: 'Pickup item' },\n    { value: 'delivery', label: 'Delivery', icon: 'ð', description: 'Deliver item' },\n    { value: 'hover', label: 'Hover', icon: 'ð', description: 'Hover in place' },\n    { value: 'survey', label: 'Survey', icon: 'ð', description: 'Survey area' },\n    { value: 'landing', label: 'Land', icon: 'ð¬', description: 'Land drone' },\n    { value: 'takeoff', label: 'Takeoff', icon: 'ð«', description: 'Takeoff drone' }\n  ];\n\n  const resetForm = () => {\n    setFormData({\n      position: { lat: 37.7749, lng: -122.4194, alt: 50 },\n      action: 'navigation',\n      hoverTime: 0,\n      notes: ''\n    });\n  };\n\n  const handleAddWaypoint = () => {\n    if (!formData.position.lat || !formData.position.lng) return;\n\n    const newWaypoint: Waypoint = {\n      id: `waypoint-${Date.now()}`,\n      position: formData.position,\n      action: formData.action,\n      hoverTime: formData.hoverTime || 0,\n      notes: formData.notes || '',\n      completed: false\n    };\n\n    onWaypointsChange([...waypoints, newWaypoint]);\n    resetForm();\n    setShowAddForm(false);\n  };\n\n  const handleEditWaypoint = (index: number) => {\n    const waypoint = waypoints[index];\n    setFormData({\n      position: waypoint.position,\n      action: waypoint.action,\n      hoverTime: waypoint.hoverTime,\n      notes: waypoint.notes\n    });\n    setEditingIndex(index);\n  };\n\n  const handleSaveEdit = () => {\n    if (editingIndex === null) return;\n\n    const updatedWaypoints = [...waypoints];\n    updatedWaypoints[editingIndex] = {\n      ...updatedWaypoints[editingIndex],\n      position: formData.position,\n      action: formData.action,\n      hoverTime: formData.hoverTime || 0,\n      notes: formData.notes || ''\n    };\n\n    onWaypointsChange(updatedWaypoints);\n    setEditingIndex(null);\n    resetForm();\n  };\n\n  const handleCancelEdit = () => {\n    setEditingIndex(null);\n    setShowAddForm(false);\n    resetForm();\n  };\n\n  const handleDeleteWaypoint = (index: number) => {\n    const updatedWaypoints = waypoints.filter((_, i) => i !== index);\n    onWaypointsChange(updatedWaypoints);\n  };\n\n  const handleMoveWaypoint = (index: number, direction: 'up' | 'down') => {\n    if (direction === 'up' && index === 0) return;\n    if (direction === 'down' && index === waypoints.length - 1) return;\n\n    const updatedWaypoints = [...waypoints];\n    const newIndex = direction === 'up' ? index - 1 : index + 1;\n    \n    [updatedWaypoints[index], updatedWaypoints[newIndex]] = \n    [updatedWaypoints[newIndex], updatedWaypoints[index]];\n\n    onWaypointsChange(updatedWaypoints);\n  };\n\n  const getActionOption = (action: string) => {\n    return actionOptions.find(opt => opt.value === action) || actionOptions[0];\n  };\n\n  const calculateDistance = (pos1: Position, pos2: Position) => {\n    const R = 6371000; // Earth's radius in meters\n    const lat1Rad = pos1.lat * Math.PI / 180;\n    const lat2Rad = pos2.lat * Math.PI / 180;\n    const deltaLat = (pos2.lat - pos1.lat) * Math.PI / 180;\n    const deltaLng = (pos2.lng - pos1.lng) * Math.PI / 180;\n\n    const a = Math.sin(deltaLat / 2) * Math.sin(deltaLat / 2) +\n              Math.cos(lat1Rad) * Math.cos(lat2Rad) *\n              Math.sin(deltaLng / 2) * Math.sin(deltaLng / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n    return Math.round(R * c);\n  };\n\n  return (\n    <div className={`space-y-4 ${className}`}>\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h3 className=\"text-lg font-semibold text-text-primary\">Waypoints</h3>\n          <p className=\"text-sm text-text-secondary\">\n            {waypoints.length} waypoint{waypoints.length !== 1 ? 's' : ''}\n            {waypoints.length > 1 && (\n              <span className=\"ml-2\">\n                Total distance: ~{waypoints.reduce((total, waypoint, index) => {\n                  if (index === 0) return total;\n                  return total + calculateDistance(waypoints[index - 1].position, waypoint.position);\n                }, 0)}m\n              </span>\n            )}\n          </p>\n        </div>\n        \n        {!disabled && (\n          <button\n            onClick={() => setShowAddForm(true)}\n            disabled={showAddForm || editingIndex !== null}\n            className=\"flex items-center gap-2 px-3 py-2 bg-status-active hover:bg-status-active/80 \n                     text-white rounded-lg text-sm font-medium transition-colors\n                     disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            <PlusIcon className=\"w-4 h-4\" />\n            Add Waypoint\n          </button>\n        )}\n      </div>\n\n      {/* Waypoint List */}\n      <div className=\"space-y-3\">\n        <AnimatePresence>\n          {waypoints.map((waypoint, index) => (\n            <motion.div\n              key={waypoint.id || index}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n              className=\"bg-dark-tertiary rounded-lg border border-dark-border\"\n            >\n              {editingIndex === index ? (\n                // Edit Form\n                <div className=\"p-4 space-y-4\">\n                  <WaypointForm\n                    data={formData}\n                    onChange={setFormData}\n                    actionOptions={actionOptions}\n                  />\n                  \n                  <div className=\"flex justify-end gap-2\">\n                    <button\n                      onClick={handleCancelEdit}\n                      className=\"flex items-center gap-1 px-3 py-2 text-text-secondary hover:text-text-primary \n                               transition-colors text-sm\"\n                    >\n                      <XMarkIcon className=\"w-4 h-4\" />\n                      Cancel\n                    </button>\n                    <button\n                      onClick={handleSaveEdit}\n                      className=\"flex items-center gap-1 px-3 py-2 bg-status-active hover:bg-status-active/80 \n                               text-white rounded transition-colors text-sm\"\n                    >\n                      <CheckIcon className=\"w-4 h-4\" />\n                      Save\n                    </button>\n                  </div>\n                </div>\n              ) : (\n                // Display View\n                <div className=\"p-4\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-3 mb-2\">\n                        <span className=\"text-lg\">{getActionOption(waypoint.action).icon}</span>\n                        <div>\n                          <h4 className=\"font-medium text-text-primary\">\n                            {index + 1}. {getActionOption(waypoint.action).label}\n                          </h4>\n                          <p className=\"text-sm text-text-secondary\">\n                            {getActionOption(waypoint.action).description}\n                          </p>\n                        </div>\n                        {waypoint.completed && (\n                          <span className=\"px-2 py-1 bg-status-operational/20 text-status-operational \n                                         text-xs font-medium rounded-full\">\n                            â Completed\n                          </span>\n                        )}\n                      </div>\n                      \n                      <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                        <div>\n                          <span className=\"text-text-secondary\">Position:</span>\n                          <div className=\"font-mono text-text-primary\">\n                            {waypoint.position.lat.toFixed(6)}, {waypoint.position.lng.toFixed(6)}\n                          </div>\n                          <div className=\"font-mono text-text-secondary\">\n                            Alt: {waypoint.position.alt}m\n                          </div>\n                        </div>\n                        \n                        <div>\n                          {waypoint.action === 'hover' && waypoint.hoverTime && (\n                            <div>\n                              <span className=\"text-text-secondary\">Hover Time:</span>\n                              <div className=\"text-text-primary\">{waypoint.hoverTime}s</div>\n                            </div>\n                          )}\n                          {index > 0 && (\n                            <div>\n                              <span className=\"text-text-secondary\">Distance:</span>\n                              <div className=\"text-text-primary\">\n                                ~{calculateDistance(waypoints[index - 1].position, waypoint.position)}m\n                              </div>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                      \n                      {waypoint.notes && (\n                        <div className=\"mt-2 p-2 bg-dark-hover rounded text-sm\">\n                          <span className=\"text-text-secondary\">Notes:</span>\n                          <div className=\"text-text-primary mt-1\">{waypoint.notes}</div>\n                        </div>\n                      )}\n                    </div>\n\n                    {!disabled && !waypoint.completed && (\n                      <div className=\"flex items-center gap-1 ml-4\">\n                        {/* Move buttons */}\n                        <button\n                          onClick={() => handleMoveWaypoint(index, 'up')}\n                          disabled={index === 0}\n                          className=\"p-1 text-text-secondary hover:text-text-primary transition-colors\n                                   disabled:opacity-30 disabled:cursor-not-allowed\"\n                          title=\"Move up\"\n                        >\n                          <ChevronUpIcon className=\"w-4 h-4\" />\n                        </button>\n                        <button\n                          onClick={() => handleMoveWaypoint(index, 'down')}\n                          disabled={index === waypoints.length - 1}\n                          className=\"p-1 text-text-secondary hover:text-text-primary transition-colors\n                                   disabled:opacity-30 disabled:cursor-not-allowed\"\n                          title=\"Move down\"\n                        >\n                          <ChevronDownIcon className=\"w-4 h-4\" />\n                        </button>\n                        \n                        {/* Edit button */}\n                        <button\n                          onClick={() => handleEditWaypoint(index)}\n                          disabled={editingIndex !== null || showAddForm}\n                          className=\"p-1 text-text-secondary hover:text-status-warning transition-colors\n                                   disabled:opacity-30 disabled:cursor-not-allowed\"\n                          title=\"Edit waypoint\"\n                        >\n                          <PencilIcon className=\"w-4 h-4\" />\n                        </button>\n                        \n                        {/* Delete button */}\n                        <button\n                          onClick={() => handleDeleteWaypoint(index)}\n                          disabled={editingIndex !== null || showAddForm}\n                          className=\"p-1 text-text-secondary hover:text-status-critical transition-colors\n                                   disabled:opacity-30 disabled:cursor-not-allowed\"\n                          title=\"Delete waypoint\"\n                        >\n                          <TrashIcon className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n            </motion.div>\n          ))}\n        </AnimatePresence>\n\n        {/* Add Waypoint Form */}\n        <AnimatePresence>\n          {showAddForm && (\n            <motion.div\n              initial={{ opacity: 0, height: 0 }}\n              animate={{ opacity: 1, height: 'auto' }}\n              exit={{ opacity: 0, height: 0 }}\n              className=\"bg-dark-tertiary rounded-lg border border-dark-border p-4\"\n            >\n              <h4 className=\"text-text-primary font-medium mb-4 flex items-center gap-2\">\n                <MapPinIcon className=\"w-5 h-5\" />\n                Add New Waypoint\n              </h4>\n              \n              <div className=\"space-y-4\">\n                <WaypointForm\n                  data={formData}\n                  onChange={setFormData}\n                  actionOptions={actionOptions}\n                />\n                \n                <div className=\"flex justify-end gap-2\">\n                  <button\n                    onClick={handleCancelEdit}\n                    className=\"flex items-center gap-1 px-3 py-2 text-text-secondary hover:text-text-primary \n                             transition-colors text-sm\"\n                  >\n                    <XMarkIcon className=\"w-4 h-4\" />\n                    Cancel\n                  </button>\n                  <button\n                    onClick={handleAddWaypoint}\n                    disabled={!formData.position.lat || !formData.position.lng}\n                    className=\"flex items-center gap-1 px-3 py-2 bg-status-active hover:bg-status-active/80 \n                             text-white rounded transition-colors text-sm\n                             disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    <PlusIcon className=\"w-4 h-4\" />\n                    Add Waypoint\n                  </button>\n                </div>\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n\n      {/* Empty State */}\n      {waypoints.length === 0 && (\n        <div className=\"text-center py-8 text-text-secondary\">\n          <MapPinIcon className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n          <h4 className=\"text-lg font-medium mb-2\">No waypoints added</h4>\n          <p className=\"text-sm mb-4\">Add waypoints to define the mission route</p>\n          {!disabled && (\n            <button\n              onClick={() => setShowAddForm(true)}\n              className=\"px-4 py-2 bg-status-active hover:bg-status-active/80 text-white rounded-lg\n                       transition-colors text-sm font-medium\"\n            >\n              Add First Waypoint\n            </button>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Waypoint Form Component\ninterface WaypointFormProps {\n  data: WaypointFormData;\n  onChange: (data: WaypointFormData) => void;\n  actionOptions: Array<{\n    value: string;\n    label: string;\n    icon: string;\n    description: string;\n  }>;\n}\n\nconst WaypointForm: React.FC<WaypointFormProps> = ({ data, onChange, actionOptions }) => {\n  return (\n    <div className=\"space-y-4\">\n      {/* Position */}\n      <div>\n        <label className=\"block text-sm font-medium text-text-primary mb-2\">\n          Position\n        </label>\n        <div className=\"grid grid-cols-3 gap-2\">\n          <div>\n            <input\n              type=\"number\"\n              step=\"0.000001\"\n              placeholder=\"Latitude\"\n              value={data.position.lat}\n              onChange={(e) => onChange({\n                ...data,\n                position: { ...data.position, lat: parseFloat(e.target.value) || 0 }\n              })}\n              className=\"w-full px-3 py-2 bg-dark-hover border border-dark-border rounded text-sm\n                       text-text-primary focus:outline-none focus:ring-1 focus:ring-status-active\"\n            />\n            <span className=\"text-xs text-text-secondary\">Latitude</span>\n          </div>\n          <div>\n            <input\n              type=\"number\"\n              step=\"0.000001\"\n              placeholder=\"Longitude\"\n              value={data.position.lng}\n              onChange={(e) => onChange({\n                ...data,\n                position: { ...data.position, lng: parseFloat(e.target.value) || 0 }\n              })}\n              className=\"w-full px-3 py-2 bg-dark-hover border border-dark-border rounded text-sm\n                       text-text-primary focus:outline-none focus:ring-1 focus:ring-status-active\"\n            />\n            <span className=\"text-xs text-text-secondary\">Longitude</span>\n          </div>\n          <div>\n            <input\n              type=\"number\"\n              min=\"0\"\n              max=\"1000\"\n              placeholder=\"Altitude\"\n              value={data.position.alt}\n              onChange={(e) => onChange({\n                ...data,\n                position: { ...data.position, alt: parseInt(e.target.value) || 0 }\n              })}\n              className=\"w-full px-3 py-2 bg-dark-hover border border-dark-border rounded text-sm\n                       text-text-primary focus:outline-none focus:ring-1 focus:ring-status-active\"\n            />\n            <span className=\"text-xs text-text-secondary\">Altitude (m)</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Action */}\n      <div>\n        <label className=\"block text-sm font-medium text-text-primary mb-2\">\n          Action\n        </label>\n        <select\n          value={data.action}\n          onChange={(e) => onChange({\n            ...data,\n            action: e.target.value as Waypoint['action']\n          })}\n          className=\"w-full px-3 py-2 bg-dark-hover border border-dark-border rounded text-sm\n                   text-text-primary focus:outline-none focus:ring-1 focus:ring-status-active\"\n        >\n          {actionOptions.map(option => (\n            <option key={option.value} value={option.value}>\n              {option.icon} {option.label} - {option.description}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      {/* Hover Time (conditional) */}\n      {data.action === 'hover' && (\n        <div>\n          <label className=\"block text-sm font-medium text-text-primary mb-2\">\n            Hover Time (seconds)\n          </label>\n          <input\n            type=\"number\"\n            min=\"1\"\n            max=\"3600\"\n            value={data.hoverTime || 0}\n            onChange={(e) => onChange({\n              ...data,\n              hoverTime: parseInt(e.target.value) || 0\n            })}\n            className=\"w-full px-3 py-2 bg-dark-hover border border-dark-border rounded text-sm\n                     text-text-primary focus:outline-none focus:ring-1 focus:ring-status-active\"\n          />\n        </div>\n      )}\n\n      {/* Notes */}\n      <div>\n        <label className=\"block text-sm font-medium text-text-primary mb-2\">\n          Notes (optional)\n        </label>\n        <textarea\n          rows={2}\n          placeholder=\"Additional notes about this waypoint...\"\n          value={data.notes || ''}\n          onChange={(e) => onChange({\n            ...data,\n            notes: e.target.value\n          })}\n          className=\"w-full px-3 py-2 bg-dark-hover border border-dark-border rounded text-sm\n                   text-text-primary focus:outline-none focus:ring-1 focus:ring-status-active\n                   resize-none\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default WaypointManager;","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\"),\n  shim = require(\"use-sync-external-store/shim\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useSyncExternalStore = shim.useSyncExternalStore,\n  useRef = React.useRef,\n  useEffect = React.useEffect,\n  useMemo = React.useMemo,\n  useDebugValue = React.useDebugValue;\nexports.useSyncExternalStoreWithSelector = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot,\n  selector,\n  isEqual\n) {\n  var instRef = useRef(null);\n  if (null === instRef.current) {\n    var inst = { hasValue: !1, value: null };\n    instRef.current = inst;\n  } else inst = instRef.current;\n  instRef = useMemo(\n    function () {\n      function memoizedSelector(nextSnapshot) {\n        if (!hasMemo) {\n          hasMemo = !0;\n          memoizedSnapshot = nextSnapshot;\n          nextSnapshot = selector(nextSnapshot);\n          if (void 0 !== isEqual && inst.hasValue) {\n            var currentSelection = inst.value;\n            if (isEqual(currentSelection, nextSnapshot))\n              return (memoizedSelection = currentSelection);\n          }\n          return (memoizedSelection = nextSnapshot);\n        }\n        currentSelection = memoizedSelection;\n        if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n        var nextSelection = selector(nextSnapshot);\n        if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n          return (memoizedSnapshot = nextSnapshot), currentSelection;\n        memoizedSnapshot = nextSnapshot;\n        return (memoizedSelection = nextSelection);\n      }\n      var hasMemo = !1,\n        memoizedSnapshot,\n        memoizedSelection,\n        maybeGetServerSnapshot =\n          void 0 === getServerSnapshot ? null : getServerSnapshot;\n      return [\n        function () {\n          return memoizedSelector(getSnapshot());\n        },\n        null === maybeGetServerSnapshot\n          ? void 0\n          : function () {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n      ];\n    },\n    [getSnapshot, getServerSnapshot, selector, isEqual]\n  );\n  var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n  useEffect(\n    function () {\n      inst.hasValue = !0;\n      inst.value = value;\n    },\n    [value]\n  );\n  useDebugValue(value);\n  return value;\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nlet didWarnAboutEqualityFn = false;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity, equalityFn) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && equalityFn && !didWarnAboutEqualityFn) {\n    console.warn(\n      \"[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937\"\n    );\n    didWarnAboutEqualityFn = true;\n  }\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...a) => api.dispatch(...a), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (_e) {\n  }\n  if (!extensionConnector) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\n      console.warn(\n        \"[zustand devtools middleware] Please install/enable Redux devtools extension\"\n      );\n    }\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? { type: anonymousActionType || \"anonymous\" } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...a) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && a[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...a);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, f) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) f(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nconst combine = (initialState, create) => (...a) => Object.assign({}, initialState, create(...a));\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (_e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, options == null ? void 0 : options.replacer)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst oldImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    getStorage: () => localStorage,\n    serialize: JSON.stringify,\n    deserialize: JSON.parse,\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage;\n  try {\n    storage = options.getStorage();\n  } catch (_e) {\n  }\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const thenableSerialize = toThenable(options.serialize);\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    let errorInSync;\n    const thenable = thenableSerialize({ state, version: options.version }).then(\n      (serializedValue) => storage.setItem(options.name, serializedValue)\n    ).catch((e) => {\n      errorInSync = e;\n    });\n    if (errorInSync) {\n      throw errorInSync;\n    }\n    return thenable;\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => cb(get()));\n    const postRehydrationCallback = ((_a = options.onRehydrateStorage) == null ? void 0 : _a.call(options, get())) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((storageValue) => {\n      if (storageValue) {\n        return options.deserialize(storageValue);\n      }\n    }).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.getStorage) {\n        storage = newOptions.getStorage();\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  hydrate();\n  return stateFromStorage || configResult;\n};\nconst newImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return [\n              true,\n              options.migrate(\n                deserializedStorageValue.state,\n                deserializedStorageValue.version\n              )\n            ];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persistImpl = (config, baseOptions) => {\n  if (\"getStorage\" in baseOptions || \"serialize\" in baseOptions || \"deserialize\" in baseOptions) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead.\"\n      );\n    }\n    return oldImpl(config, baseOptions);\n  }\n  return newImpl(config, baseOptions);\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","import { create } from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\nimport { MissionData } from '@/types/fleet';\n\ninterface MissionStats {\n  total: number;\n  pending: number;\n  active: number;\n  completed: number;\n  failed: number;\n  cancelled: number;\n  avg_progress: number;\n  today: number;\n}\n\ninterface MissionStore {\n  // State\n  missions: Record<string, MissionData>;\n  activeMissions: MissionData[];\n  selectedMissionId: string | null;\n  missionStats: MissionStats | null;\n  \n  // WebSocket connection state\n  wsConnected: boolean;\n  wsError: string | null;\n  lastUpdate: string | null;\n\n  // Loading states\n  loading: boolean;\n  creating: boolean;\n  updating: boolean;\n  deleting: boolean;\n\n  // Actions\n  setMissions: (missions: MissionData[]) => void;\n  setActiveMissions: (missions: MissionData[]) => void;\n  setMissionStats: (stats: MissionStats) => void;\n  selectMission: (missionId: string | null) => void;\n  \n  // CRUD operations\n  createMission: (missionData: Partial<MissionData>) => Promise<MissionData>;\n  updateMission: (missionId: string, updates: Partial<MissionData>) => Promise<MissionData>;\n  deleteMission: (missionId: string) => Promise<void>;\n  assignMissionToDrone: (missionId: string, droneId: string) => Promise<void>;\n  updateMissionProgress: (missionId: string, progress: number, currentWaypoint?: number) => Promise<void>;\n  \n  // WebSocket actions\n  setWsConnected: (connected: boolean) => void;\n  setWsError: (error: string | null) => void;\n  handleMissionEvent: (event: string, data: any) => void;\n  \n  // Utility functions\n  getMissionById: (missionId: string) => MissionData | undefined;\n  getMissionsByDrone: (droneId: string) => MissionData[];\n  getMissionsByStatus: (status: MissionData['status']) => MissionData[];\n  clearMissions: () => void;\n}\n\nconst API_BASE_URL = 'http://localhost:3001/api';\nconst WS_URL = 'ws://localhost:3001/ws';\n\nlet wsConnection: WebSocket | null = null;\nlet reconnectAttempts = 0;\nconst maxReconnectAttempts = 5;\n\nconst useMissionStore = create<MissionStore>()(\n  subscribeWithSelector((set, get) => ({\n    // Initial state\n    missions: {},\n    activeMissions: [],\n    selectedMissionId: null,\n    missionStats: null,\n    \n    wsConnected: false,\n    wsError: null,\n    lastUpdate: null,\n    \n    loading: false,\n    creating: false,\n    updating: false,\n    deleting: false,\n\n    // State setters\n    setMissions: (missions) => {\n      const missionMap: Record<string, MissionData> = {};\n      missions.forEach(mission => {\n        missionMap[mission.id] = mission;\n      });\n      \n      set({\n        missions: missionMap,\n        lastUpdate: new Date().toISOString()\n      });\n    },\n\n    setActiveMissions: (missions) => set({ activeMissions: missions }),\n    setMissionStats: (stats) => set({ missionStats: stats }),\n    selectMission: (missionId) => set({ selectedMissionId: missionId }),\n\n    // CRUD operations\n    createMission: async (missionData) => {\n      set({ creating: true });\n      \n      try {\n        const response = await fetch(`${API_BASE_URL}/missions`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(missionData),\n        });\n\n        if (!response.ok) {\n          const error = await response.json();\n          throw new Error(error.message || 'Failed to create mission');\n        }\n\n        const result = await response.json();\n        const mission = result.data;\n\n        // Update local state\n        set((state) => ({\n          missions: {\n            ...state.missions,\n            [mission.id]: mission\n          },\n          creating: false,\n          lastUpdate: new Date().toISOString()\n        }));\n\n        return mission;\n      } catch (error) {\n        set({ creating: false });\n        throw error;\n      }\n    },\n\n    updateMission: async (missionId, updates) => {\n      set({ updating: true });\n      \n      try {\n        const response = await fetch(`${API_BASE_URL}/missions/${missionId}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(updates),\n        });\n\n        if (!response.ok) {\n          const error = await response.json();\n          throw new Error(error.message || 'Failed to update mission');\n        }\n\n        const result = await response.json();\n        const mission = result.data;\n\n        // Update local state\n        set((state) => ({\n          missions: {\n            ...state.missions,\n            [missionId]: mission\n          },\n          updating: false,\n          lastUpdate: new Date().toISOString()\n        }));\n\n        return mission;\n      } catch (error) {\n        set({ updating: false });\n        throw error;\n      }\n    },\n\n    deleteMission: async (missionId) => {\n      set({ deleting: true });\n      \n      try {\n        const response = await fetch(`${API_BASE_URL}/missions/${missionId}`, {\n          method: 'DELETE',\n        });\n\n        if (!response.ok) {\n          const error = await response.json();\n          throw new Error(error.message || 'Failed to delete mission');\n        }\n\n        // Update local state\n        set((state) => {\n          const { [missionId]: deleted, ...remainingMissions } = state.missions;\n          return {\n            missions: remainingMissions,\n            selectedMissionId: state.selectedMissionId === missionId ? null : state.selectedMissionId,\n            activeMissions: state.activeMissions.filter(m => m.id !== missionId),\n            deleting: false,\n            lastUpdate: new Date().toISOString()\n          };\n        });\n      } catch (error) {\n        set({ deleting: false });\n        throw error;\n      }\n    },\n\n    assignMissionToDrone: async (missionId, droneId) => {\n      try {\n        const response = await fetch(`${API_BASE_URL}/missions/${missionId}/assign`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ droneId }),\n        });\n\n        if (!response.ok) {\n          const error = await response.json();\n          throw new Error(error.message || 'Failed to assign mission');\n        }\n\n        const result = await response.json();\n        const mission = result.data;\n\n        // Update local state\n        set((state) => ({\n          missions: {\n            ...state.missions,\n            [missionId]: mission\n          },\n          lastUpdate: new Date().toISOString()\n        }));\n      } catch (error) {\n        throw error;\n      }\n    },\n\n    updateMissionProgress: async (missionId, progress, currentWaypoint) => {\n      try {\n        const response = await fetch(`${API_BASE_URL}/missions/${missionId}/progress`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ progress, currentWaypoint }),\n        });\n\n        if (!response.ok) {\n          const error = await response.json();\n          throw new Error(error.message || 'Failed to update progress');\n        }\n\n        // Update local state\n        set((state) => {\n          const mission = state.missions[missionId];\n          if (mission) {\n            return {\n              missions: {\n                ...state.missions,\n                [missionId]: {\n                  ...mission,\n                  progress,\n                  currentWaypoint: currentWaypoint ?? mission.currentWaypoint\n                }\n              },\n              lastUpdate: new Date().toISOString()\n            };\n          }\n          return state;\n        });\n      } catch (error) {\n        throw error;\n      }\n    },\n\n    // WebSocket actions\n    setWsConnected: (connected) => set({ wsConnected: connected }),\n    setWsError: (error) => set({ wsError: error }),\n\n    handleMissionEvent: (event, data) => {\n      const state = get();\n      \n      switch (event) {\n        case 'mission_created':\n          set({\n            missions: {\n              ...state.missions,\n              [data.id]: data\n            },\n            lastUpdate: new Date().toISOString()\n          });\n          break;\n\n        case 'mission_updated':\n          set({\n            missions: {\n              ...state.missions,\n              [data.id]: data\n            },\n            lastUpdate: new Date().toISOString()\n          });\n          break;\n\n        case 'mission_deleted':\n          const { [data.id]: deleted, ...remainingMissions } = state.missions;\n          set({\n            missions: remainingMissions,\n            selectedMissionId: state.selectedMissionId === data.id ? null : state.selectedMissionId,\n            activeMissions: state.activeMissions.filter(m => m.id !== data.id),\n            lastUpdate: new Date().toISOString()\n          });\n          break;\n\n        case 'mission_assigned':\n          if (state.missions[data.missionId]) {\n            set({\n              missions: {\n                ...state.missions,\n                [data.missionId]: data.mission\n              },\n              lastUpdate: new Date().toISOString()\n            });\n          }\n          break;\n\n        case 'mission_progress':\n          const mission = state.missions[data.missionId];\n          if (mission) {\n            set({\n              missions: {\n                ...state.missions,\n                [data.missionId]: {\n                  ...mission,\n                  progress: data.progress,\n                  currentWaypoint: data.currentWaypoint,\n                  status: data.status || mission.status\n                }\n              },\n              lastUpdate: new Date().toISOString()\n            });\n          }\n          break;\n\n        default:\n          console.log('Unknown mission event:', event, data);\n      }\n    },\n\n    // Utility functions\n    getMissionById: (missionId) => get().missions[missionId],\n    \n    getMissionsByDrone: (droneId) => {\n      const missions = Object.values(get().missions);\n      return missions.filter(mission => mission.assignedDrone === droneId);\n    },\n    \n    getMissionsByStatus: (status) => {\n      const missions = Object.values(get().missions);\n      return missions.filter(mission => mission.status === status);\n    },\n    \n    clearMissions: () => set({\n      missions: {},\n      activeMissions: [],\n      selectedMissionId: null,\n      missionStats: null,\n      lastUpdate: null\n    })\n  }))\n);\n\n// WebSocket connection management\nconst connectWebSocket = () => {\n  if (wsConnection?.readyState === WebSocket.OPEN) {\n    return;\n  }\n\n  try {\n    wsConnection = new WebSocket(WS_URL);\n    \n    wsConnection.onopen = () => {\n      console.log('Mission WebSocket connected');\n      useMissionStore.getState().setWsConnected(true);\n      useMissionStore.getState().setWsError(null);\n      reconnectAttempts = 0;\n\n      // Subscribe to mission updates\n      wsConnection?.send(JSON.stringify({\n        type: 'subscribe_missions',\n        requestId: `sub-${Date.now()}`\n      }));\n    };\n\n    wsConnection.onmessage = (event) => {\n      try {\n        const message = JSON.parse(event.data);\n        const { type, data } = message;\n\n        // Handle specific mission events\n        if (type.startsWith('mission_') || type.startsWith('waypoint_')) {\n          useMissionStore.getState().handleMissionEvent(type, data);\n        }\n\n        // Handle other message types\n        switch (type) {\n          case 'mission_stats':\n            useMissionStore.getState().setMissionStats(data);\n            break;\n          \n          case 'active_missions':\n            useMissionStore.getState().setActiveMissions(data);\n            break;\n            \n          default:\n            // Log other message types for debugging\n            console.log('Mission WebSocket message:', type, data);\n        }\n      } catch (error) {\n        console.error('Error parsing WebSocket message:', error);\n      }\n    };\n\n    wsConnection.onclose = (event) => {\n      console.log('Mission WebSocket disconnected:', event.code, event.reason);\n      useMissionStore.getState().setWsConnected(false);\n      \n      // Attempt to reconnect\n      if (reconnectAttempts < maxReconnectAttempts) {\n        reconnectAttempts++;\n        setTimeout(connectWebSocket, 2000 * reconnectAttempts);\n      }\n    };\n\n    wsConnection.onerror = (error) => {\n      console.error('Mission WebSocket error:', error);\n      useMissionStore.getState().setWsError('WebSocket connection error');\n    };\n\n  } catch (error) {\n    console.error('Failed to create WebSocket connection:', error);\n    useMissionStore.getState().setWsError('Failed to connect to mission service');\n  }\n};\n\n// Initialize WebSocket connection\nexport const initializeMissionWebSocket = () => {\n  connectWebSocket();\n};\n\n// Hook to get selected mission\nexport const useSelectedMission = () => {\n  const { selectedMissionId, missions } = useMissionStore();\n  return selectedMissionId ? missions[selectedMissionId] : null;\n};\n\n// Hook to get missions for a specific drone\nexport const useDroneMissions = (droneId: string) => {\n  return useMissionStore((state) => state.getMissionsByDrone(droneId));\n};\n\n// Hook to get missions by status\nexport const useMissionsByStatus = (status: MissionData['status']) => {\n  return useMissionStore((state) => state.getMissionsByStatus(status));\n};\n\n// Hook for WebSocket connection status\nexport const useMissionWebSocketStatus = () => {\n  return useMissionStore((state) => ({\n    connected: state.wsConnected,\n    error: state.wsError,\n    lastUpdate: state.lastUpdate\n  }));\n};\n\nexport default useMissionStore;","import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport {\n  RocketLaunchIcon,\n  XMarkIcon,\n  CheckIcon,\n  ExclamationTriangleIcon\n} from '@heroicons/react/24/outline';\nimport { MissionData, Waypoint } from '@/types/fleet';\nimport WaypointManager from '../WaypointManager';\nimport useMissionStore from '@/store/mission';\n\ninterface MissionCreatorProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onMissionCreated?: (mission: MissionData) => void;\n}\n\ninterface MissionFormData {\n  name: string;\n  description: string;\n  priority: number;\n  waypoints: Waypoint[];\n}\n\nconst MissionCreator: React.FC<MissionCreatorProps> = ({\n  isOpen,\n  onClose,\n  onMissionCreated\n}) => {\n  const { createMission, creating } = useMissionStore();\n  const [formData, setFormData] = useState<MissionFormData>({\n    name: '',\n    description: '',\n    priority: 5,\n    waypoints: []\n  });\n  const [error, setError] = useState<string | null>(null);\n\n  const priorityOptions = [\n    { value: 1, label: 'Very Low', color: 'text-gray-400' },\n    { value: 2, label: 'Low', color: 'text-blue-400' },\n    { value: 3, label: 'Low-Medium', color: 'text-blue-300' },\n    { value: 4, label: 'Medium-Low', color: 'text-yellow-400' },\n    { value: 5, label: 'Medium', color: 'text-yellow-300' },\n    { value: 6, label: 'Medium-High', color: 'text-orange-400' },\n    { value: 7, label: 'High', color: 'text-orange-300' },\n    { value: 8, label: 'High-Critical', color: 'text-red-400' },\n    { value: 9, label: 'Critical', color: 'text-red-300' },\n    { value: 10, label: 'Emergency', color: 'text-red-200' }\n  ];\n\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      description: '',\n      priority: 5,\n      waypoints: []\n    });\n    setError(null);\n  };\n\n  const handleClose = () => {\n    resetForm();\n    onClose();\n  };\n\n  const validateForm = () => {\n    if (!formData.name.trim()) {\n      setError('Mission name is required');\n      return false;\n    }\n\n    if (formData.name.length > 100) {\n      setError('Mission name must be less than 100 characters');\n      return false;\n    }\n\n    if (formData.waypoints.length === 0) {\n      setError('At least one waypoint is required');\n      return false;\n    }\n\n    if (formData.waypoints.length > 50) {\n      setError('Maximum 50 waypoints allowed');\n      return false;\n    }\n\n    // Validate waypoints\n    for (let i = 0; i < formData.waypoints.length; i++) {\n      const waypoint = formData.waypoints[i];\n      \n      if (!waypoint.position.lat || !waypoint.position.lng) {\n        setError(`Waypoint ${i + 1}: Invalid coordinates`);\n        return false;\n      }\n\n      if (Math.abs(waypoint.position.lat) > 90) {\n        setError(`Waypoint ${i + 1}: Invalid latitude (must be -90 to 90)`);\n        return false;\n      }\n\n      if (Math.abs(waypoint.position.lng) > 180) {\n        setError(`Waypoint ${i + 1}: Invalid longitude (must be -180 to 180)`);\n        return false;\n      }\n\n      if (waypoint.position.alt < 0 || waypoint.position.alt > 1000) {\n        setError(`Waypoint ${i + 1}: Invalid altitude (must be 0-1000m)`);\n        return false;\n      }\n\n      if (waypoint.action === 'hover' && (!waypoint.hoverTime || waypoint.hoverTime <= 0)) {\n        setError(`Waypoint ${i + 1}: Hover time required for hover action`);\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n\n    if (!validateForm()) {\n      return;\n    }\n\n    try {\n      const mission = await createMission({\n        name: formData.name.trim(),\n        description: formData.description.trim(),\n        priority: formData.priority,\n        waypoints: formData.waypoints.map((waypoint, index) => ({\n          ...waypoint,\n          sequence: index\n        })),\n        status: 'pending'\n      });\n\n      onMissionCreated?.(mission);\n      handleClose();\n    } catch (err: any) {\n      setError(err.message || 'Failed to create mission');\n    }\n  };\n\n  const getPriorityOption = (priority: number) => {\n    return priorityOptions.find(opt => opt.value === priority) || priorityOptions[4];\n  };\n\n  const calculateEstimatedDuration = () => {\n    if (formData.waypoints.length < 2) return 0;\n    \n    let totalTime = 0;\n    const speed = 10; // m/s average speed\n    \n    for (let i = 1; i < formData.waypoints.length; i++) {\n      const prev = formData.waypoints[i - 1];\n      const curr = formData.waypoints[i];\n      \n      // Calculate distance\n      const R = 6371000;\n      const lat1Rad = prev.position.lat * Math.PI / 180;\n      const lat2Rad = curr.position.lat * Math.PI / 180;\n      const deltaLat = (curr.position.lat - prev.position.lat) * Math.PI / 180;\n      const deltaLng = (curr.position.lng - prev.position.lng) * Math.PI / 180;\n\n      const a = Math.sin(deltaLat / 2) * Math.sin(deltaLat / 2) +\n                Math.cos(lat1Rad) * Math.cos(lat2Rad) *\n                Math.sin(deltaLng / 2) * Math.sin(deltaLng / 2);\n      const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n      const distance = R * c;\n      \n      totalTime += distance / speed;\n      \n      // Add hover time\n      if (curr.hoverTime) {\n        totalTime += curr.hoverTime;\n      }\n    }\n    \n    return Math.round(totalTime);\n  };\n\n  const formatDuration = (seconds: number) => {\n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor((seconds % 3600) / 60);\n    const secs = seconds % 60;\n    \n    if (hours > 0) {\n      return `${hours}h ${minutes}m ${secs}s`;\n    } else if (minutes > 0) {\n      return `${minutes}m ${secs}s`;\n    } else {\n      return `${secs}s`;\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[10001] p-4\">\n      <motion.div\n        initial={{ opacity: 0, scale: 0.95 }}\n        animate={{ opacity: 1, scale: 1 }}\n        exit={{ opacity: 0, scale: 0.95 }}\n        className=\"bg-dark-secondary rounded-lg border border-dark-border shadow-xl\n                   w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden\"\n      >\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-dark-border\">\n          <div className=\"flex items-center gap-3\">\n            <RocketLaunchIcon className=\"w-6 h-6 text-status-active\" />\n            <h2 className=\"text-xl font-semibold text-text-primary\">Create New Mission</h2>\n          </div>\n          <button\n            onClick={handleClose}\n            className=\"p-2 hover:bg-dark-hover rounded-lg transition-colors\"\n          >\n            <XMarkIcon className=\"w-5 h-5 text-text-secondary\" />\n          </button>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"flex flex-col flex-1 min-h-0\">\n          <div className=\"flex-1 overflow-y-auto p-6 space-y-6 scrollbar-thin scrollbar-thumb-dark-border scrollbar-track-transparent\">\n            {/* Error Message */}\n            {error && (\n              <div className=\"flex items-center gap-2 p-3 bg-status-critical/10 border border-status-critical/20 \n                            rounded-lg text-status-critical\">\n                <ExclamationTriangleIcon className=\"w-5 h-5 flex-shrink-0\" />\n                <span className=\"text-sm\">{error}</span>\n              </div>\n            )}\n\n            {/* Basic Information */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <div className=\"space-y-4\">\n                <h3 className=\"text-lg font-medium text-text-primary\">Mission Details</h3>\n                \n                {/* Mission Name */}\n                <div>\n                  <label className=\"block text-sm font-medium text-text-primary mb-2\">\n                    Mission Name *\n                  </label>\n                  <input\n                    type=\"text\"\n                    required\n                    maxLength={100}\n                    placeholder=\"e.g., Emergency Medical Delivery\"\n                    value={formData.name}\n                    onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                    className=\"w-full px-3 py-2 bg-dark-tertiary border border-dark-border rounded-lg\n                             text-text-primary placeholder-text-secondary focus:outline-none \n                             focus:ring-2 focus:ring-status-active\"\n                  />\n                  <div className=\"text-xs text-text-secondary mt-1\">\n                    {formData.name.length}/100 characters\n                  </div>\n                </div>\n\n                {/* Description */}\n                <div>\n                  <label className=\"block text-sm font-medium text-text-primary mb-2\">\n                    Description\n                  </label>\n                  <textarea\n                    rows={3}\n                    maxLength={1000}\n                    placeholder=\"Describe the mission objectives and requirements...\"\n                    value={formData.description}\n                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                    className=\"w-full px-3 py-2 bg-dark-tertiary border border-dark-border rounded-lg\n                             text-text-primary placeholder-text-secondary focus:outline-none \n                             focus:ring-2 focus:ring-status-active resize-none\"\n                  />\n                </div>\n\n                {/* Priority */}\n                <div>\n                  <label className=\"block text-sm font-medium text-text-primary mb-2\">\n                    Priority\n                  </label>\n                  <select\n                    value={formData.priority}\n                    onChange={(e) => setFormData({ ...formData, priority: parseInt(e.target.value) })}\n                    className=\"w-full px-3 py-2 bg-dark-tertiary border border-dark-border rounded-lg\n                             text-text-primary focus:outline-none focus:ring-2 focus:ring-status-active\"\n                  >\n                    {priorityOptions.map(option => (\n                      <option key={option.value} value={option.value} className=\"bg-dark-tertiary\">\n                        {option.value} - {option.label}\n                      </option>\n                    ))}\n                  </select>\n                  <div className={`text-xs mt-1 ${getPriorityOption(formData.priority).color}`}>\n                    {getPriorityOption(formData.priority).label}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"space-y-4\">\n                <h3 className=\"text-lg font-medium text-text-primary\">Mission Summary</h3>\n                \n                <div className=\"bg-dark-tertiary rounded-lg p-4 space-y-3\">\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <div>\n                      <span className=\"text-text-secondary\">Waypoints:</span>\n                      <div className=\"text-text-primary font-medium\">{formData.waypoints.length}</div>\n                    </div>\n                    <div>\n                      <span className=\"text-text-secondary\">Priority:</span>\n                      <div className={`font-medium ${getPriorityOption(formData.priority).color}`}>\n                        {getPriorityOption(formData.priority).label}\n                      </div>\n                    </div>\n                  </div>\n                  \n                  {formData.waypoints.length > 1 && (\n                    <div className=\"text-sm\">\n                      <span className=\"text-text-secondary\">Estimated Duration:</span>\n                      <div className=\"text-text-primary font-medium\">\n                        {formatDuration(calculateEstimatedDuration())}\n                      </div>\n                    </div>\n                  )}\n                  \n                  <div className=\"text-xs text-text-secondary\">\n                    Status: <span className=\"text-status-warning\">Pending Assignment</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Waypoint Manager */}\n            <div>\n              <WaypointManager\n                waypoints={formData.waypoints}\n                onWaypointsChange={(waypoints) => {\n                  setFormData({ ...formData, waypoints });\n                  setError(null); // Clear error when waypoints change\n                }}\n              />\n            </div>\n          </div>\n\n          {/* Footer */}\n          <div className=\"flex-shrink-0 flex items-center justify-between p-6 border-t border-dark-border bg-dark-tertiary\">\n            <div className=\"text-sm text-text-secondary\">\n              {formData.waypoints.length > 0 ? (\n                <span>Mission ready to create with {formData.waypoints.length} waypoints</span>\n              ) : (\n                <span>Add waypoints to define the mission route</span>\n              )}\n            </div>\n            \n            <div className=\"flex gap-3\">\n              <button\n                type=\"button\"\n                onClick={handleClose}\n                disabled={creating}\n                className=\"px-4 py-2 text-text-secondary hover:text-text-primary transition-colors\n                         disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                disabled={creating || !formData.name.trim() || formData.waypoints.length === 0}\n                className=\"flex items-center gap-2 px-6 py-2 bg-status-active hover:bg-status-active/80 \n                         text-white rounded-lg font-medium transition-colors\n                         disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {creating ? (\n                  <>\n                    <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\n                    Creating...\n                  </>\n                ) : (\n                  <>\n                    <CheckIcon className=\"w-4 h-4\" />\n                    Create Mission\n                  </>\n                )}\n              </button>\n            </div>\n          </div>\n        </form>\n      </motion.div>\n    </div>\n  );\n};\n\nexport default MissionCreator;","import { DroneData, MissionData, FleetAlert } from '@/types/fleet';\n\n// Flight pattern types for realistic drone movement simulation\ninterface BasePattern {\n  type: string;\n  speed: number;\n}\n\ninterface CircularPattern extends BasePattern {\n  type: 'circular';\n  center: { lat: number; lng: number };\n  radius: number;\n  currentAngle: number;\n}\n\ninterface LinearPattern extends BasePattern {\n  type: 'linear';\n  start: { lat: number; lng: number };\n  end: { lat: number; lng: number };\n  progress: number;\n  direction: number;\n}\n\ninterface WaypointPattern extends BasePattern {\n  type: 'waypoint';\n  waypoints: Array<{ lat: number; lng: number }>;\n  currentWaypoint: number;\n  progress: number;\n}\n\ninterface StationaryPattern extends BasePattern {\n  type: 'stationary';\n  center: { lat: number; lng: number };\n  radius: number;\n  currentAngle: number;\n}\n\ntype FlightPattern = CircularPattern | LinearPattern | WaypointPattern | StationaryPattern;\n\n// Mock data for development and testing - 5 realistic drones\nexport const mockDrones: DroneData[] = [\n  {\n    id: 'drone-001',\n    name: 'Alpha-1',\n    status: 'in_flight',\n    position: { lat: 37.7749, lng: -122.4194, alt: 120.5 },\n    batteryLevel: 87,\n    batteryVoltage: 22.4,\n    speed: 12.3,\n    heading: 245,\n    signalStrength: -45,\n    connectionQuality: 'excellent',\n    lastUpdate: new Date().toISOString(),\n    currentMission: {\n      id: 'mission-001',\n      name: 'Downtown Delivery Route',\n      progress: 65,\n      eta: '14:30',\n      status: 'active'\n    },\n    alerts: [\n      {\n        id: 'alert-001',\n        severity: 'warning',\n        message: 'Approaching restricted airspace',\n        timestamp: new Date(Date.now() - 300000).toISOString(),\n        category: 'navigation'\n      }\n    ],\n    temperature: 28.5,\n    humidity: 65,\n    firmware: 'v1.12.3',\n    hardware: 'Pixhawk 4 Mini',\n    uptime: '2h 34m',\n    totalFlightTime: 847,\n    totalMissions: 23,\n    lastMaintenance: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString()\n  },\n  {\n    id: 'drone-002',\n    name: 'Beta-2',\n    status: 'charging',\n    position: { lat: 37.7849, lng: -122.4094, alt: 2.1 },\n    batteryLevel: 23,\n    batteryVoltage: 18.2,\n    speed: 0,\n    heading: 0,\n    signalStrength: -52,\n    connectionQuality: 'good',\n    lastUpdate: new Date().toISOString(),\n    alerts: [\n      {\n        id: 'alert-002',\n        severity: 'info',\n        message: 'Charging in progress - 47 minutes remaining',\n        timestamp: new Date(Date.now() - 600000).toISOString(),\n        category: 'system'\n      }\n    ],\n    temperature: 32.1,\n    humidity: 68,\n    firmware: 'v1.12.3',\n    hardware: 'Pixhawk 4 Pro',\n    uptime: '5h 12m',\n    totalFlightTime: 1203,\n    totalMissions: 31,\n    lastMaintenance: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString()\n  },\n  {\n    id: 'drone-003',\n    name: 'Charlie-3',\n    status: 'in_flight',\n    position: { lat: 37.7649, lng: -122.4294, alt: 89.2 },\n    batteryLevel: 45,\n    batteryVoltage: 20.1,\n    speed: 8.7,\n    heading: 180,\n    signalStrength: -67,\n    connectionQuality: 'good',\n    lastUpdate: new Date().toISOString(),\n    currentMission: {\n      id: 'mission-002',\n      name: 'Harbor Security Patrol',\n      progress: 38,\n      eta: '15:45',\n      status: 'active'\n    },\n    temperature: 30.8,\n    humidity: 72,\n    firmware: 'v1.12.3',\n    hardware: 'Pixhawk 4 Mini',\n    uptime: '1h 58m',\n    totalFlightTime: 592,\n    totalMissions: 18,\n    lastMaintenance: new Date(Date.now() - 14 * 24 * 60 * 60 * 1000).toISOString()\n  },\n  {\n    id: 'drone-004',\n    name: 'Delta-4',\n    status: 'active',\n    position: { lat: 37.7549, lng: -122.4394, alt: 45.8 },\n    batteryLevel: 92,\n    batteryVoltage: 23.1,\n    speed: 6.2,\n    heading: 90,\n    signalStrength: -38,\n    connectionQuality: 'excellent',\n    lastUpdate: new Date().toISOString(),\n    currentMission: {\n      id: 'mission-003',\n      name: 'Medical Supply Delivery',\n      progress: 15,\n      eta: '16:20',\n      status: 'active'\n    },\n    temperature: 26.3,\n    humidity: 58,\n    firmware: 'v1.12.3',\n    hardware: 'Pixhawk 4 Pro',\n    uptime: '8h 45m',\n    totalFlightTime: 1847,\n    totalMissions: 45,\n    lastMaintenance: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString()\n  },\n  {\n    id: 'drone-005',\n    name: 'Echo-5',\n    status: 'maintenance',\n    position: { lat: 37.7449, lng: -122.4494, alt: 0 },\n    batteryLevel: 78,\n    batteryVoltage: 21.8,\n    speed: 0,\n    heading: 0,\n    signalStrength: -88,\n    connectionQuality: 'poor',\n    lastUpdate: new Date(Date.now() - 900000).toISOString(),\n    alerts: [\n      {\n        id: 'alert-003',\n        severity: 'critical',\n        message: 'Motor #3 temperature exceeds safe limits',\n        timestamp: new Date(Date.now() - 1200000).toISOString(),\n        category: 'hardware'\n      },\n      {\n        id: 'alert-004',\n        severity: 'warning',\n        message: 'GPS signal degraded - position accuracy reduced',\n        timestamp: new Date(Date.now() - 800000).toISOString(),\n        category: 'navigation'\n      },\n      {\n        id: 'alert-005',\n        severity: 'info',\n        message: 'Scheduled maintenance required',\n        timestamp: new Date(Date.now() - 600000).toISOString(),\n        category: 'maintenance'\n      }\n    ],\n    temperature: 45.2,\n    humidity: 55,\n    firmware: 'v1.12.2',\n    hardware: 'Pixhawk 4 Mini',\n    uptime: '12h 22m',\n    totalFlightTime: 2341,\n    totalMissions: 67,\n    lastMaintenance: new Date(Date.now() - 21 * 24 * 60 * 60 * 1000).toISOString()\n  }\n];\n\nexport const mockMissions: MissionData[] = [\n  {\n    id: 'mission-001',\n    name: 'Downtown Delivery',\n    progress: 65,\n    eta: '14:30',\n    status: 'active',\n    waypoints: [\n      {\n        id: 'wp-001',\n        position: { lat: 37.7749, lng: -122.4194, alt: 120 },\n        action: 'pickup',\n        completed: true\n      },\n      {\n        id: 'wp-002',\n        position: { lat: 37.7849, lng: -122.4094, alt: 100 },\n        action: 'delivery',\n        completed: false\n      }\n    ],\n    assignedDrone: 'drone-001',\n    priority: 1,\n    createdAt: new Date(Date.now() - 3600000).toISOString(),\n    startedAt: new Date(Date.now() - 1800000).toISOString()\n  },\n  {\n    id: 'mission-002',\n    name: 'Harbor Patrol',\n    progress: 38,\n    eta: '15:45',\n    status: 'active',\n    waypoints: [\n      {\n        id: 'wp-003',\n        position: { lat: 37.7649, lng: -122.4294, alt: 80 },\n        action: 'survey',\n        completed: false\n      }\n    ],\n    assignedDrone: 'drone-003',\n    priority: 2,\n    createdAt: new Date(Date.now() - 7200000).toISOString(),\n    startedAt: new Date(Date.now() - 2700000).toISOString()\n  }\n];\n\nexport const mockAlerts: FleetAlert[] = [\n  {\n    id: 'fleet-alert-001',\n    severity: 'critical',\n    message: 'Drone Echo-5 motor temperature critical',\n    timestamp: new Date(Date.now() - 1200000).toISOString(),\n    droneId: 'drone-005',\n    droneName: 'Echo-5',\n    type: 'system',\n    priority: 1,\n    details: {\n      temperature: 45.2,\n      threshold: 40.0\n    }\n  },\n  {\n    id: 'fleet-alert-002',\n    severity: 'warning',\n    message: 'Drone Alpha-1 approaching restricted airspace',\n    timestamp: new Date(Date.now() - 300000).toISOString(),\n    droneId: 'drone-001',\n    droneName: 'Alpha-1',\n    type: 'safety',\n    priority: 2,\n    details: {\n      zone: 'SFO_RESTRICTED',\n      distance: 150\n    }\n  }\n];\n\n// Simulate real-time data updates for development\nexport class MockTelemetryService {\n  private updateInterval: number | null = null;\n  private onDroneUpdate?: (drone: DroneData) => void;\n  private droneFlightPatterns: Map<string, FlightPattern> = new Map();\n\n  constructor() {\n    // Initialize flight patterns for each drone\n    this.initializeFlightPatterns();\n  }\n\n  private initializeFlightPatterns() {\n    // Alpha-1 - Circular patrol pattern\n    this.droneFlightPatterns.set('drone-001', {\n      type: 'circular',\n      center: { lat: 37.7749, lng: -122.4194 },\n      radius: 0.002, // ~200m\n      currentAngle: 0,\n      speed: 0.0001 // degrees per update\n    });\n\n    // Beta-2 - Stationary (charging)\n    this.droneFlightPatterns.set('drone-002', {\n      type: 'stationary',\n      center: { lat: 37.7849, lng: -122.4094 },\n      radius: 0,\n      currentAngle: 0,\n      speed: 0\n    });\n\n    // Charlie-3 - Linear patrol\n    this.droneFlightPatterns.set('drone-003', {\n      type: 'linear',\n      start: { lat: 37.7649, lng: -122.4294 },\n      end: { lat: 37.7549, lng: -122.4094 },\n      progress: 0.3,\n      direction: 1,\n      speed: 0.01\n    });\n\n    // Delta-4 - Waypoint mission\n    this.droneFlightPatterns.set('drone-004', {\n      type: 'waypoint',\n      waypoints: [\n        { lat: 37.7549, lng: -122.4394 },\n        { lat: 37.7649, lng: -122.4294 },\n        { lat: 37.7749, lng: -122.4094 },\n      ],\n      currentWaypoint: 0,\n      progress: 0.15,\n      speed: 0.005\n    });\n\n    // Echo-5 - Stationary (maintenance)\n    this.droneFlightPatterns.set('drone-005', {\n      type: 'stationary',\n      center: { lat: 37.7449, lng: -122.4494 },\n      radius: 0,\n      currentAngle: 0,\n      speed: 0\n    });\n  }\n\n  start() {\n    console.log('ð§ Starting enhanced mock telemetry service for 5 drones');\n    console.log('ð Flight patterns initialized: Circular patrol, Linear patrol, Waypoint mission');\n    \n    this.updateInterval = setInterval(() => {\n      // Update each drone with realistic patterns\n      mockDrones.forEach((drone, index) => {\n        this.updateDroneRealistic(drone);\n        \n        // Stagger updates to simulate real network timing\n        setTimeout(() => {\n          if (this.onDroneUpdate) {\n            this.onDroneUpdate({ ...drone });\n          }\n        }, index * 200); // 200ms between drone updates\n      });\n    }, 1500); // Update every 1.5 seconds\n  }\n\n  private updateDroneRealistic(drone: DroneData) {\n    const pattern = this.droneFlightPatterns.get(drone.id);\n    if (!pattern) return;\n\n    // Update position based on flight pattern\n    this.updatePosition(drone, pattern);\n\n    // Update telemetry data realistically\n    this.updateTelemetry(drone);\n\n    // Update mission progress for active drones\n    this.updateMissionProgress(drone);\n\n    // Simulate occasional alerts\n    this.simulateAlerts(drone);\n\n    // Always update timestamp\n    drone.lastUpdate = new Date().toISOString();\n  }\n\n  private updatePosition(drone: DroneData, pattern: FlightPattern) {\n    switch (pattern.type) {\n      case 'circular':\n        pattern.currentAngle += pattern.speed;\n        drone.position.lat = pattern.center.lat + Math.cos(pattern.currentAngle) * pattern.radius;\n        drone.position.lng = pattern.center.lng + Math.sin(pattern.currentAngle) * pattern.radius;\n        drone.position.alt = 80 + Math.sin(pattern.currentAngle * 2) * 20; // Varying altitude\n        drone.heading = (pattern.currentAngle * 180 / Math.PI + 90) % 360;\n        drone.speed = 8 + Math.random() * 4; // 8-12 m/s\n        break;\n\n      case 'linear':\n        const linear = pattern as LinearPattern;\n        linear.progress += linear.direction * linear.speed;\n        \n        if (linear.progress >= 1 || linear.progress <= 0) {\n          linear.direction *= -1; // Reverse direction\n          linear.progress = Math.max(0, Math.min(1, linear.progress));\n        }\n        \n        drone.position.lat = linear.start.lat + (linear.end.lat - linear.start.lat) * linear.progress;\n        drone.position.lng = linear.start.lng + (linear.end.lng - linear.start.lng) * linear.progress;\n        drone.position.alt = 60 + Math.sin(linear.progress * Math.PI) * 30;\n        \n        const deltaLat = linear.end.lat - linear.start.lat;\n        const deltaLng = linear.end.lng - linear.start.lng;\n        drone.heading = (Math.atan2(deltaLng, deltaLat) * 180 / Math.PI * linear.direction) % 360;\n        drone.speed = 6 + Math.random() * 3;\n        break;\n\n      case 'waypoint':\n        const waypoint = pattern as WaypointPattern;\n        waypoint.progress += waypoint.speed;\n        \n        if (waypoint.progress >= 1) {\n          waypoint.currentWaypoint = (waypoint.currentWaypoint + 1) % waypoint.waypoints.length;\n          waypoint.progress = 0;\n        }\n        \n        const currentWP = waypoint.waypoints[waypoint.currentWaypoint];\n        const nextWP = waypoint.waypoints[(waypoint.currentWaypoint + 1) % waypoint.waypoints.length];\n        \n        drone.position.lat = currentWP.lat + (nextWP.lat - currentWP.lat) * waypoint.progress;\n        drone.position.lng = currentWP.lng + (nextWP.lng - currentWP.lng) * waypoint.progress;\n        drone.position.alt = 45 + Math.random() * 10;\n        \n        const wpDeltaLat = nextWP.lat - currentWP.lat;\n        const wpDeltaLng = nextWP.lng - currentWP.lng;\n        drone.heading = Math.atan2(wpDeltaLng, wpDeltaLat) * 180 / Math.PI;\n        drone.speed = 5 + Math.random() * 3;\n        break;\n\n      case 'stationary':\n        // Small random movement to simulate GPS drift\n        drone.position.lat += (Math.random() - 0.5) * 0.000005;\n        drone.position.lng += (Math.random() - 0.5) * 0.000005;\n        drone.speed = 0;\n        break;\n    }\n  }\n\n  private updateTelemetry(drone: DroneData) {\n    // Battery drain simulation\n    if (drone.status === 'active' || drone.status === 'in_flight') {\n      drone.batteryLevel = Math.max(5, drone.batteryLevel - 0.08 - Math.random() * 0.05);\n      drone.batteryVoltage = 18.0 + (drone.batteryLevel / 100) * 5.5;\n    } else if (drone.status === 'charging') {\n      drone.batteryLevel = Math.min(100, drone.batteryLevel + 0.3 + Math.random() * 0.2);\n      drone.batteryVoltage = 18.0 + (drone.batteryLevel / 100) * 5.5;\n    }\n\n    // Signal strength variation\n    const baseSignal = drone.signalStrength;\n    drone.signalStrength = baseSignal + (Math.random() - 0.5) * 10;\n    \n    // Update connection quality based on signal\n    if (drone.signalStrength > -50) drone.connectionQuality = 'excellent';\n    else if (drone.signalStrength > -70) drone.connectionQuality = 'good';\n    else if (drone.signalStrength > -90) drone.connectionQuality = 'poor';\n    else drone.connectionQuality = 'very_poor';\n\n    // Temperature simulation\n    const baseTempVariation = (Math.random() - 0.5) * 2;\n    drone.temperature = (drone.temperature || 28) + baseTempVariation;\n    \n    // Add heat from motors during flight\n    if (drone.status === 'active' || drone.status === 'in_flight') {\n      drone.temperature = Math.min(50, (drone.temperature || 28) + 0.1);\n    }\n\n    // Humidity variation\n    drone.humidity = Math.max(40, Math.min(85, (drone.humidity || 60) + (Math.random() - 0.5) * 5));\n  }\n\n  private updateMissionProgress(drone: DroneData) {\n    if (drone.currentMission && (drone.status === 'active' || drone.status === 'in_flight')) {\n      drone.currentMission.progress = Math.min(99, drone.currentMission.progress + 0.2 + Math.random() * 0.3);\n      \n      // Update ETA based on progress\n      const remainingPercent = 100 - drone.currentMission.progress;\n      const estimatedMinutes = Math.round(remainingPercent * 2); // 2 minutes per percent roughly\n      const etaTime = new Date(Date.now() + estimatedMinutes * 60000);\n      drone.currentMission.eta = etaTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n    }\n  }\n\n  private simulateAlerts(drone: DroneData) {\n    // Low battery alert\n    if (drone.batteryLevel < 20 && !drone.alerts?.some(a => a.category === 'battery')) {\n      drone.alerts = drone.alerts || [];\n      drone.alerts.unshift({\n        id: `alert-battery-${Date.now()}`,\n        severity: drone.batteryLevel < 15 ? 'critical' : 'warning',\n        message: `Battery level ${drone.batteryLevel.toFixed(1)}% - ${drone.batteryLevel < 15 ? 'Return to base immediately' : 'Consider returning to base'}`,\n        timestamp: new Date().toISOString(),\n        category: 'battery'\n      });\n    }\n\n    // High temperature alert\n    if ((drone.temperature || 0) > 40 && !drone.alerts?.some(a => a.message.includes('temperature'))) {\n      drone.alerts = drone.alerts || [];\n      drone.alerts.unshift({\n        id: `alert-temp-${Date.now()}`,\n        severity: 'warning',\n        message: `Temperature elevated: ${drone.temperature?.toFixed(1)}Â°C`,\n        timestamp: new Date().toISOString(),\n        category: 'system'\n      });\n    }\n\n    // Remove old alerts (keep last 3)\n    if (drone.alerts && drone.alerts.length > 3) {\n      drone.alerts = drone.alerts.slice(0, 3);\n    }\n  }\n\n  stop() {\n    if (this.updateInterval) {\n      clearInterval(this.updateInterval);\n      this.updateInterval = null;\n    }\n    console.log('ð§ Mock telemetry service stopped');\n  }\n\n  onDroneDataUpdate(callback: (drone: DroneData) => void) {\n    this.onDroneUpdate = callback;\n  }\n}\n\nexport const mockTelemetryService = new MockTelemetryService();","import { create } from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\nimport { DroneData, MissionData, FleetAlert } from '@/types/fleet';\nimport { telemetryService, ConnectionState } from '@/services/websocket';\nimport { mockDrones, mockMissions, mockAlerts, mockTelemetryService } from '@/services/mockData';\n\ninterface FleetStore {\n  // Connection state\n  connectionState: ConnectionState;\n  connectionError: string | null;\n  lastUpdate: Date | null;\n\n  // Fleet data\n  drones: Record<string, DroneData>;\n  missions: Record<string, MissionData>;\n  alerts: FleetAlert[];\n  selectedDroneId: string | null;\n\n  // Statistics\n  stats: {\n    messagesReceived: number;\n    messagesProcessed: number;\n    connectionUptime: number;\n    reconnectCount: number;\n  };\n\n  // Actions\n  setConnectionState: (state: ConnectionState, error?: string) => void;\n  updateDrone: (drone: DroneData) => void;\n  updateMission: (mission: MissionData) => void;\n  addAlert: (alert: FleetAlert) => void;\n  dismissAlert: (alertId: string) => void;\n  selectDrone: (droneId: string | null) => void;\n  updateStats: (stats: any) => void;\n\n  // Fleet operations\n  getDroneById: (id: string) => DroneData | undefined;\n  getActiveDrones: () => DroneData[];\n  getDronesWithIssues: () => DroneData[];\n  getIdleDrones: () => DroneData[];\n  getCriticalAlerts: () => FleetAlert[];\n  getFleetSummary: () => {\n    total: number;\n    active: number;\n    idle: number;\n    issues: number;\n    charging: number;\n    maintenance: number;\n    avgBattery: number;\n    avgSignal: number;\n  };\n\n  // WebSocket integration\n  connect: () => void;\n  disconnect: () => void;\n  isConnected: () => boolean;\n}\n\nexport const useFleetStore = create<FleetStore>()(\n  subscribeWithSelector((set, get) => ({\n    // Initial state\n    connectionState: ConnectionState.DISCONNECTED,\n    connectionError: null,\n    lastUpdate: null,\n    drones: {},\n    missions: {},\n    alerts: [],\n    selectedDroneId: null,\n    stats: {\n      messagesReceived: 0,\n      messagesProcessed: 0,\n      connectionUptime: 0,\n      reconnectCount: 0,\n    },\n\n    // Actions\n    setConnectionState: (state: ConnectionState, error?: string) => {\n      set({\n        connectionState: state,\n        connectionError: error || null,\n      });\n    },\n\n    updateDrone: (drone: DroneData) => {\n      set((state) => ({\n        drones: {\n          ...state.drones,\n          [drone.id]: {\n            ...drone,\n            lastUpdate: new Date().toISOString(),\n          },\n        },\n        lastUpdate: new Date(),\n      }));\n    },\n\n    updateMission: (mission: MissionData) => {\n      set((state) => ({\n        missions: {\n          ...state.missions,\n          [mission.id]: mission,\n        },\n        lastUpdate: new Date(),\n      }));\n    },\n\n    addAlert: (alert: FleetAlert) => {\n      set((state) => ({\n        alerts: [alert, ...state.alerts.slice(0, 99)], // Keep last 100 alerts\n        lastUpdate: new Date(),\n      }));\n    },\n\n    dismissAlert: (alertId: string) => {\n      set((state) => ({\n        alerts: state.alerts.filter((alert) => alert.id !== alertId),\n      }));\n    },\n\n    selectDrone: (droneId: string | null) => {\n      set({ selectedDroneId: droneId });\n    },\n\n    updateStats: (stats: any) => {\n      set({ stats });\n    },\n\n    // Fleet operations\n    getDroneById: (id: string) => {\n      return get().drones[id];\n    },\n\n    getActiveDrones: () => {\n      const { drones } = get();\n      return Object.values(drones).filter(\n        (drone) => drone.status === 'active' || drone.status === 'in_flight'\n      );\n    },\n\n    getDronesWithIssues: () => {\n      const { drones } = get();\n      return Object.values(drones).filter(\n        (drone) =>\n          drone.status === 'maintenance' ||\n          drone.status === 'emergency' ||\n          drone.batteryLevel < 20 ||\n          drone.signalStrength < -90 ||\n          (drone.alerts && drone.alerts.length > 0)\n      );\n    },\n\n    getIdleDrones: () => {\n      const { drones } = get();\n      return Object.values(drones).filter((drone) => drone.status === 'idle');\n    },\n\n    getCriticalAlerts: () => {\n      const { alerts } = get();\n      return alerts.filter((alert) => alert.severity === 'critical');\n    },\n\n    getFleetSummary: () => {\n      const { drones } = get();\n      const droneList = Object.values(drones);\n\n      if (droneList.length === 0) {\n        return {\n          total: 0,\n          active: 0,\n          idle: 0,\n          issues: 0,\n          charging: 0,\n          maintenance: 0,\n          avgBattery: 0,\n          avgSignal: 0,\n        };\n      }\n\n      const summary = droneList.reduce(\n        (acc, drone) => {\n          acc.total++;\n          \n          switch (drone.status) {\n            case 'active':\n            case 'in_flight':\n              acc.active++;\n              break;\n            case 'idle':\n              acc.idle++;\n              break;\n            case 'charging':\n              acc.charging++;\n              break;\n            case 'maintenance':\n            case 'emergency':\n              acc.maintenance++;\n              break;\n          }\n\n          if (\n            drone.batteryLevel < 20 ||\n            drone.signalStrength < -90 ||\n            (drone.alerts && drone.alerts.length > 0)\n          ) {\n            acc.issues++;\n          }\n\n          acc.totalBattery += drone.batteryLevel;\n          acc.totalSignal += drone.signalStrength;\n\n          return acc;\n        },\n        {\n          total: 0,\n          active: 0,\n          idle: 0,\n          issues: 0,\n          charging: 0,\n          maintenance: 0,\n          totalBattery: 0,\n          totalSignal: 0,\n        }\n      );\n\n      return {\n        total: summary.total,\n        active: summary.active,\n        idle: summary.idle,\n        issues: summary.issues,\n        charging: summary.charging,\n        maintenance: summary.maintenance,\n        avgBattery: Math.round(summary.totalBattery / summary.total),\n        avgSignal: Math.round(summary.totalSignal / summary.total),\n      };\n    },\n\n    // WebSocket integration\n    connect: () => {\n      const store = get();\n      \n      // Set up event handlers\n      telemetryService.setConnectionStateCallback((state, error) => {\n        store.setConnectionState(state, error?.message);\n        \n        // If connection fails, fall back to mock data for development\n        if (state === ConnectionState.ERROR || state === ConnectionState.DISCONNECTED) {\n          setTimeout(() => {\n            console.log('ð§ WebSocket connection failed, using mock data for development');\n            \n            // Load initial mock data\n            mockDrones.forEach(drone => store.updateDrone(drone));\n            mockMissions.forEach(mission => store.updateMission(mission));\n            mockAlerts.forEach(alert => store.addAlert(alert));\n            \n            // Set up mock telemetry updates\n            mockTelemetryService.onDroneDataUpdate((drone) => {\n              store.updateDrone(drone);\n            });\n            \n            mockTelemetryService.start();\n          }, 1000);\n        }\n      });\n\n      telemetryService.onDroneDataUpdate((drone) => {\n        store.updateDrone(drone);\n      });\n\n      telemetryService.onMissionDataUpdate((mission) => {\n        store.updateMission(mission);\n      });\n\n      telemetryService.onFleetAlertReceived((alert) => {\n        store.addAlert(alert);\n      });\n\n      // Update stats periodically\n      const updateStats = () => {\n        const stats = telemetryService.getStatistics();\n        store.updateStats(stats);\n      };\n\n      setInterval(updateStats, 5000); // Update every 5 seconds\n\n      // Connect to telemetry service\n      telemetryService.connect();\n    },\n\n    disconnect: () => {\n      telemetryService.disconnect();\n      set({\n        connectionState: ConnectionState.DISCONNECTED,\n        connectionError: null,\n      });\n    },\n\n    isConnected: () => {\n      return get().connectionState === ConnectionState.CONNECTED;\n    },\n  }))\n);\n\n// Auto-connect when store is created\nlet isAutoConnectInitialized = false;\n\nexport const initializeFleetStore = () => {\n  if (!isAutoConnectInitialized) {\n    isAutoConnectInitialized = true;\n    \n    // Connect to telemetry service on store initialization\n    const { connect } = useFleetStore.getState();\n    connect();\n\n    // Subscribe to connection state changes for logging\n    useFleetStore.subscribe(\n      (state) => state.connectionState,\n      (connectionState, prevConnectionState) => {\n        if (prevConnectionState && connectionState !== prevConnectionState) {\n          console.log(`Fleet store connection state: ${prevConnectionState} â ${connectionState}`);\n        }\n      }\n    );\n\n    // Subscribe to drone updates for logging\n    useFleetStore.subscribe(\n      (state) => Object.keys(state.drones).length,\n      (droneCount, prevDroneCount) => {\n        if (prevDroneCount !== undefined && droneCount !== prevDroneCount) {\n          console.log(`Fleet store drone count: ${prevDroneCount} â ${droneCount}`);\n        }\n      }\n    );\n  }\n};\n\n// Selectors for common data patterns\nexport const useFleetSummary = () => useFleetStore((state) => state.getFleetSummary());\nexport const useActiveDrones = () => useFleetStore((state) => state.getActiveDrones());\nexport const useDronesWithIssues = () => useFleetStore((state) => state.getDronesWithIssues());\nexport const useSelectedDrone = (): DroneData | null => {\n  const selectedDroneId = useFleetStore((state) => state.selectedDroneId);\n  const getDroneById = useFleetStore((state) => state.getDroneById);\n  return selectedDroneId ? getDroneById(selectedDroneId) || null : null;\n};\nexport const useCriticalAlerts = () => useFleetStore((state) => state.getCriticalAlerts());\nexport const useConnectionStatus = () => useFleetStore((state) => ({\n  state: state.connectionState,\n  error: state.connectionError,\n  isConnected: state.isConnected(),\n  lastUpdate: state.lastUpdate,\n}));","import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport {\n  UserIcon,\n  CheckCircleIcon,\n  XCircleIcon,\n  ClockIcon,\n  MapPinIcon,\n  Battery0Icon,\n  SignalIcon,\n  ExclamationTriangleIcon,\n  ArrowRightIcon\n} from '@heroicons/react/24/outline';\nimport { MissionData, DroneData } from '@/types/fleet';\nimport { useFleetStore } from '@/store/fleet';\nimport useMissionStore from '@/store/mission';\n\ninterface DroneAssignmentProps {\n  mission: MissionData;\n  isOpen: boolean;\n  onClose: () => void;\n  onAssigned?: (missionId: string, droneId: string) => void;\n}\n\ninterface DroneCompatibility {\n  drone: DroneData;\n  compatible: boolean;\n  score: number;\n  issues: string[];\n  warnings: string[];\n}\n\nconst DroneAssignment: React.FC<DroneAssignmentProps> = ({\n  mission,\n  isOpen,\n  onClose,\n  onAssigned\n}) => {\n  const drones = useFleetStore((state) => Object.values(state.drones));\n  const { assignMissionToDrone, missions } = useMissionStore();\n  const [selectedDroneId, setSelectedDroneId] = useState<string | null>(null);\n  const [assigning, setAssigning] = useState(false);\n  const [droneCompatibility, setDroneCompatibility] = useState<DroneCompatibility[]>([]);\n\n  useEffect(() => {\n    if (isOpen) {\n      analyzeDroneCompatibility();\n    }\n  }, [isOpen, mission, drones]);\n\n  const analyzeDroneCompatibility = () => {\n    const compatibility: DroneCompatibility[] = drones.map(drone => {\n      const issues: string[] = [];\n      const warnings: string[] = [];\n      let score = 100;\n\n      // Check drone status\n      if (drone.status === 'maintenance' || drone.status === 'emergency') {\n        issues.push(`Drone is in ${drone.status} mode`);\n        score -= 100;\n      }\n\n      if (drone.status === 'charging') {\n        warnings.push('Drone is currently charging');\n        score -= 20;\n      }\n\n      // Check battery level\n      if (drone.batteryLevel < 30) {\n        issues.push(`Low battery: ${drone.batteryLevel}%`);\n        score -= 50;\n      } else if (drone.batteryLevel < 50) {\n        warnings.push(`Medium battery: ${drone.batteryLevel}%`);\n        score -= 20;\n      }\n\n      // Check signal strength\n      if (drone.signalStrength < 50) {\n        warnings.push(`Weak signal: ${drone.signalStrength}%`);\n        score -= 10;\n      }\n\n      // Check existing mission assignment\n      const existingMission = Object.values(missions).find(m => \n        m.assignedDrone === drone.id && ['pending', 'active', 'paused'].includes(m.status)\n      );\n      if (existingMission) {\n        issues.push(`Already assigned to: ${existingMission.name}`);\n        score -= 80;\n      }\n\n      // Check distance to first waypoint\n      if (mission.waypoints && mission.waypoints.length > 0) {\n        const firstWaypoint = mission.waypoints[0];\n        const distance = calculateDistance(drone.position, firstWaypoint.position);\n        if (distance > 50000) { // 50km\n          warnings.push(`Far from start: ${(distance / 1000).toFixed(1)}km`);\n          score -= 15;\n        }\n      }\n\n      // Priority bonus/penalty\n      if (mission.priority >= 8) {\n        score += 10; // High priority missions get slight preference\n      }\n\n      // Flight time consideration\n      if (drone.totalFlightTime && drone.totalFlightTime > 3600) { // 1 hour\n        warnings.push('Drone has been flying for extended time');\n        score -= 5;\n      }\n\n      const compatible = score > 0 && issues.length === 0;\n\n      return {\n        drone,\n        compatible,\n        score: Math.max(0, score),\n        issues,\n        warnings\n      };\n    });\n\n    // Sort by compatibility score (best first)\n    compatibility.sort((a, b) => b.score - a.score);\n    setDroneCompatibility(compatibility);\n  };\n\n  const calculateDistance = (pos1: { lat: number; lng: number }, pos2: { lat: number; lng: number }) => {\n    const R = 6371000; // Earth's radius in meters\n    const lat1Rad = pos1.lat * Math.PI / 180;\n    const lat2Rad = pos2.lat * Math.PI / 180;\n    const deltaLat = (pos2.lat - pos1.lat) * Math.PI / 180;\n    const deltaLng = (pos2.lng - pos1.lng) * Math.PI / 180;\n\n    const a = Math.sin(deltaLat / 2) * Math.sin(deltaLat / 2) +\n              Math.cos(lat1Rad) * Math.cos(lat2Rad) *\n              Math.sin(deltaLng / 2) * Math.sin(deltaLng / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n    return R * c;\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'active':\n      case 'in_flight':\n        return 'text-status-operational bg-status-operational/10';\n      case 'idle':\n        return 'text-status-active bg-status-active/10';\n      case 'charging':\n        return 'text-status-warning bg-status-warning/10';\n      case 'maintenance':\n      case 'emergency':\n        return 'text-status-critical bg-status-critical/10';\n      default:\n        return 'text-text-secondary bg-text-secondary/10';\n    }\n  };\n\n  const getBatteryColor = (level: number) => {\n    if (level > 70) return 'text-status-operational';\n    if (level > 30) return 'text-status-warning';\n    return 'text-status-critical';\n  };\n\n  const getCompatibilityIndicator = (compatibility: DroneCompatibility) => {\n    if (!compatibility.compatible) {\n      return <XCircleIcon className=\"w-5 h-5 text-status-critical\" />;\n    }\n    if (compatibility.score >= 80) {\n      return <CheckCircleIcon className=\"w-5 h-5 text-status-operational\" />;\n    }\n    if (compatibility.score >= 60) {\n      return <ClockIcon className=\"w-5 h-5 text-status-warning\" />;\n    }\n    return <ExclamationTriangleIcon className=\"w-5 h-5 text-status-warning\" />;\n  };\n\n  const handleAssign = async () => {\n    if (!selectedDroneId) return;\n\n    setAssigning(true);\n    try {\n      await assignMissionToDrone(mission.id, selectedDroneId);\n      onAssigned?.(mission.id, selectedDroneId);\n      onClose();\n    } catch (error) {\n      console.error('Failed to assign mission:', error);\n    } finally {\n      setAssigning(false);\n    }\n  };\n\n  const estimateFlightTime = (compatibility: DroneCompatibility) => {\n    if (!mission.waypoints || mission.waypoints.length === 0) return null;\n    \n    const speed = 10; // m/s average speed\n    let totalTime = 0;\n    let currentPos = compatibility.drone.position;\n    \n    // Time to reach first waypoint\n    const distanceToStart = calculateDistance(currentPos, mission.waypoints[0].position);\n    totalTime += distanceToStart / speed;\n    \n    // Time for mission waypoints\n    for (let i = 1; i < mission.waypoints.length; i++) {\n      const distance = calculateDistance(mission.waypoints[i - 1].position, mission.waypoints[i].position);\n      totalTime += distance / speed;\n      \n      if (mission.waypoints[i].hoverTime) {\n        totalTime += mission.waypoints[i].hoverTime!;\n      }\n    }\n    \n    return totalTime;\n  };\n\n  const formatTime = (seconds: number) => {\n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor((seconds % 3600) / 60);\n    if (hours > 0) {\n      return `${hours}h ${minutes}m`;\n    }\n    return `${minutes}m`;\n  };\n\n  if (!isOpen) return null;\n\n  const selectedCompatibility = droneCompatibility.find(d => d.drone.id === selectedDroneId);\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[10001] p-4\">\n      <motion.div\n        initial={{ opacity: 0, scale: 0.95 }}\n        animate={{ opacity: 1, scale: 1 }}\n        exit={{ opacity: 0, scale: 0.95 }}\n        className=\"bg-dark-secondary rounded-lg border border-dark-border shadow-xl\n                   w-full max-w-4xl max-h-[90vh] overflow-hidden\"\n      >\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-dark-border\">\n          <div>\n            <h2 className=\"text-xl font-semibold text-text-primary\">Assign Mission to Drone</h2>\n            <p className=\"text-text-secondary mt-1\">\n              Mission: <span className=\"font-medium\">{mission.name}</span>\n            </p>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-dark-hover rounded-lg transition-colors\"\n          >\n            <XCircleIcon className=\"w-5 h-5 text-text-secondary\" />\n          </button>\n        </div>\n\n        <div className=\"flex h-full\">\n          {/* Drone List */}\n          <div className=\"w-1/2 border-r border-dark-border\">\n            <div className=\"p-4 border-b border-dark-border\">\n              <h3 className=\"font-medium text-text-primary\">Available Drones ({droneCompatibility.length})</h3>\n              <p className=\"text-sm text-text-secondary mt-1\">\n                Select a drone to assign this mission\n              </p>\n            </div>\n\n            <div className=\"overflow-y-auto max-h-[60vh] p-4 space-y-3\">\n              {droneCompatibility.map((compatibility) => (\n                <motion.div\n                  key={compatibility.drone.id}\n                  className={`p-4 rounded-lg border cursor-pointer transition-all\n                    ${selectedDroneId === compatibility.drone.id\n                      ? 'border-status-active bg-status-active/5'\n                      : 'border-dark-border hover:border-dark-hover bg-dark-tertiary hover:bg-dark-hover'\n                    }\n                    ${!compatibility.compatible ? 'opacity-50' : ''}\n                  `}\n                  onClick={() => compatibility.compatible && setSelectedDroneId(compatibility.drone.id)}\n                  whileHover={compatibility.compatible ? { scale: 1.02 } : {}}\n                  whileTap={compatibility.compatible ? { scale: 0.98 } : {}}\n                >\n                  <div className=\"flex items-start justify-between mb-3\">\n                    <div className=\"flex items-center gap-3\">\n                      {getCompatibilityIndicator(compatibility)}\n                      <div>\n                        <h4 className=\"font-medium text-text-primary\">{compatibility.drone.name}</h4>\n                        <p className=\"text-sm text-text-secondary\">{compatibility.drone.id}</p>\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex flex-col items-end gap-1\">\n                      <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(compatibility.drone.status)}`}>\n                        {compatibility.drone.status.toUpperCase()}\n                      </span>\n                      <div className=\"text-sm font-medium text-text-primary\">\n                        Score: {compatibility.score}/100\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Drone Stats */}\n                  <div className=\"grid grid-cols-3 gap-3 mb-3 text-sm\">\n                    <div className=\"flex items-center gap-1\">\n                      <Battery0Icon className={`w-4 h-4 ${getBatteryColor(compatibility.drone.batteryLevel)}`} />\n                      <span className={getBatteryColor(compatibility.drone.batteryLevel)}>\n                        {compatibility.drone.batteryLevel}%\n                      </span>\n                    </div>\n                    <div className=\"flex items-center gap-1\">\n                      <SignalIcon className=\"w-4 h-4 text-text-secondary\" />\n                      <span className=\"text-text-primary\">{compatibility.drone.signalStrength}%</span>\n                    </div>\n                    <div className=\"flex items-center gap-1\">\n                      <MapPinIcon className=\"w-4 h-4 text-text-secondary\" />\n                      <span className=\"text-text-primary text-xs\">\n                        {compatibility.drone.position.lat.toFixed(3)}, {compatibility.drone.position.lng.toFixed(3)}\n                      </span>\n                    </div>\n                  </div>\n\n                  {/* Issues and Warnings */}\n                  {compatibility.issues.length > 0 && (\n                    <div className=\"mb-2\">\n                      {compatibility.issues.map((issue, index) => (\n                        <div key={index} className=\"flex items-center gap-2 text-xs text-status-critical\">\n                          <XCircleIcon className=\"w-3 h-3\" />\n                          {issue}\n                        </div>\n                      ))}\n                    </div>\n                  )}\n\n                  {compatibility.warnings.length > 0 && (\n                    <div className=\"mb-2\">\n                      {compatibility.warnings.map((warning, index) => (\n                        <div key={index} className=\"flex items-center gap-2 text-xs text-status-warning\">\n                          <ExclamationTriangleIcon className=\"w-3 h-3\" />\n                          {warning}\n                        </div>\n                      ))}\n                    </div>\n                  )}\n\n                  {/* Flight Time Estimate */}\n                  {compatibility.compatible && (\n                    <div className=\"text-xs text-text-secondary\">\n                      Estimated flight time: {formatTime(estimateFlightTime(compatibility) || 0)}\n                    </div>\n                  )}\n                </motion.div>\n              ))}\n            </div>\n          </div>\n\n          {/* Assignment Details */}\n          <div className=\"w-1/2 flex flex-col\">\n            {selectedCompatibility ? (\n              <>\n                <div className=\"p-4 border-b border-dark-border\">\n                  <h3 className=\"font-medium text-text-primary mb-2\">Assignment Preview</h3>\n                  <div className=\"flex items-center gap-3 p-3 bg-dark-tertiary rounded-lg\">\n                    <div className=\"text-center\">\n                      <div className=\"font-medium text-text-primary\">{mission.name}</div>\n                      <div className=\"text-xs text-text-secondary\">Mission</div>\n                    </div>\n                    <ArrowRightIcon className=\"w-5 h-5 text-status-active\" />\n                    <div className=\"text-center\">\n                      <div className=\"font-medium text-text-primary\">{selectedCompatibility.drone.name}</div>\n                      <div className=\"text-xs text-text-secondary\">Drone</div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex-1 p-4 overflow-y-auto\">\n                  {/* Mission Details */}\n                  <div className=\"space-y-4\">\n                    <div>\n                      <h4 className=\"font-medium text-text-primary mb-2\">Mission Details</h4>\n                      <div className=\"bg-dark-tertiary rounded-lg p-3 space-y-2 text-sm\">\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-text-secondary\">Priority:</span>\n                          <span className=\"text-text-primary font-medium\">Level {mission.priority}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-text-secondary\">Waypoints:</span>\n                          <span className=\"text-text-primary font-medium\">{mission.waypoints?.length || 0}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-text-secondary\">Status:</span>\n                          <span className=\"text-status-warning font-medium\">{mission.status.toUpperCase()}</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Drone Readiness */}\n                    <div>\n                      <h4 className=\"font-medium text-text-primary mb-2\">Drone Readiness</h4>\n                      <div className=\"bg-dark-tertiary rounded-lg p-3 space-y-2 text-sm\">\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-text-secondary\">Compatibility Score:</span>\n                          <span className=\"text-text-primary font-medium\">{selectedCompatibility.score}/100</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-text-secondary\">Battery Level:</span>\n                          <span className={`font-medium ${getBatteryColor(selectedCompatibility.drone.batteryLevel)}`}>\n                            {selectedCompatibility.drone.batteryLevel}%\n                          </span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-text-secondary\">Signal Strength:</span>\n                          <span className=\"text-text-primary font-medium\">{selectedCompatibility.drone.signalStrength}%</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-text-secondary\">Current Status:</span>\n                          <span className=\"text-text-primary font-medium\">{selectedCompatibility.drone.status.toUpperCase()}</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Flight Estimate */}\n                    <div>\n                      <h4 className=\"font-medium text-text-primary mb-2\">Flight Estimate</h4>\n                      <div className=\"bg-dark-tertiary rounded-lg p-3 space-y-2 text-sm\">\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-text-secondary\">Estimated Duration:</span>\n                          <span className=\"text-text-primary font-medium\">\n                            {formatTime(estimateFlightTime(selectedCompatibility) || 0)}\n                          </span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-text-secondary\">Distance to Start:</span>\n                          <span className=\"text-text-primary font-medium\">\n                            {mission.waypoints && mission.waypoints.length > 0 \n                              ? `${(calculateDistance(selectedCompatibility.drone.position, mission.waypoints[0].position) / 1000).toFixed(1)}km`\n                              : 'N/A'\n                            }\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Warnings/Issues */}\n                    {(selectedCompatibility.issues.length > 0 || selectedCompatibility.warnings.length > 0) && (\n                      <div>\n                        <h4 className=\"font-medium text-text-primary mb-2\">Considerations</h4>\n                        <div className=\"space-y-2\">\n                          {selectedCompatibility.issues.map((issue, index) => (\n                            <div key={index} className=\"flex items-start gap-2 p-2 bg-status-critical/10 rounded text-sm\">\n                              <XCircleIcon className=\"w-4 h-4 text-status-critical mt-0.5\" />\n                              <span className=\"text-status-critical\">{issue}</span>\n                            </div>\n                          ))}\n                          {selectedCompatibility.warnings.map((warning, index) => (\n                            <div key={index} className=\"flex items-start gap-2 p-2 bg-status-warning/10 rounded text-sm\">\n                              <ExclamationTriangleIcon className=\"w-4 h-4 text-status-warning mt-0.5\" />\n                              <span className=\"text-status-warning\">{warning}</span>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* Assignment Actions */}\n                <div className=\"p-4 border-t border-dark-border\">\n                  <div className=\"flex justify-between items-center\">\n                    <div className=\"text-sm text-text-secondary\">\n                      {selectedCompatibility.compatible \n                        ? 'Ready to assign mission' \n                        : 'Cannot assign due to compatibility issues'\n                      }\n                    </div>\n                    \n                    <div className=\"flex gap-3\">\n                      <button\n                        onClick={onClose}\n                        disabled={assigning}\n                        className=\"px-4 py-2 text-text-secondary hover:text-text-primary transition-colors\n                                 disabled:opacity-50 disabled:cursor-not-allowed\"\n                      >\n                        Cancel\n                      </button>\n                      <button\n                        onClick={handleAssign}\n                        disabled={!selectedCompatibility.compatible || assigning}\n                        className=\"flex items-center gap-2 px-6 py-2 bg-status-active hover:bg-status-active/80 \n                                 text-white rounded-lg font-medium transition-colors\n                                 disabled:opacity-50 disabled:cursor-not-allowed\"\n                      >\n                        {assigning ? (\n                          <>\n                            <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\n                            Assigning...\n                          </>\n                        ) : (\n                          <>\n                            <UserIcon className=\"w-4 h-4\" />\n                            Assign Mission\n                          </>\n                        )}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </>\n            ) : (\n              <div className=\"flex-1 flex items-center justify-center p-8\">\n                <div className=\"text-center\">\n                  <UserIcon className=\"w-12 h-12 mx-auto text-text-secondary opacity-50 mb-4\" />\n                  <h3 className=\"text-lg font-medium text-text-primary mb-2\">Select a Drone</h3>\n                  <p className=\"text-text-secondary\">\n                    Choose a drone from the list to see assignment details\n                  </p>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </motion.div>\n    </div>\n  );\n};\n\nexport default DroneAssignment;","import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport {\n  UserIcon,\n  CheckCircleIcon,\n  XCircleIcon,\n  ExclamationTriangleIcon\n} from '@heroicons/react/24/outline';\nimport { MissionData } from '@/types/fleet';\nimport { useFleetStore } from '@/store/fleet';\nimport useMissionStore from '@/store/mission';\n\ninterface QuickAssignmentProps {\n  mission: MissionData;\n  onAssigned?: (missionId: string, droneId: string) => void;\n  className?: string;\n}\n\nconst QuickAssignment: React.FC<QuickAssignmentProps> = ({\n  mission,\n  onAssigned,\n  className = ''\n}) => {\n  const drones = useFleetStore((state) => Object.values(state.drones));\n  const { assignMissionToDrone, missions } = useMissionStore();\n  const [assigning, setAssigning] = useState(false);\n  const [showOptions, setShowOptions] = useState(false);\n\n  // Find best available drone\n  const getAvailableDrones = () => {\n    return drones.filter(drone => {\n      // Must not be in maintenance or emergency\n      if (drone.status === 'maintenance' || drone.status === 'emergency') {\n        return false;\n      }\n\n      // Must have sufficient battery\n      if (drone.batteryLevel < 30) {\n        return false;\n      }\n\n      // Must not have active mission\n      const hasActiveMission = Object.values(missions).some(m => \n        m.assignedDrone === drone.id && ['pending', 'active', 'paused'].includes(m.status)\n      );\n      if (hasActiveMission) {\n        return false;\n      }\n\n      return true;\n    });\n  };\n\n  const getBestDrone = () => {\n    const availableDrones = getAvailableDrones();\n    if (availableDrones.length === 0) return null;\n\n    // Score drones based on multiple factors\n    const scoredDrones = availableDrones.map(drone => {\n      let score = 0;\n      \n      // Battery score (0-30 points)\n      score += Math.floor(drone.batteryLevel * 0.3);\n      \n      // Signal strength score (0-20 points)\n      score += Math.floor(drone.signalStrength * 0.2);\n      \n      // Status preference (idle > charging > in_flight/active)\n      if (drone.status === 'idle') score += 30;\n      else if (drone.status === 'charging') score += 20;\n      else if (drone.status === 'active' || drone.status === 'in_flight') score += 10;\n      \n      // Distance to mission start (if waypoints available)\n      if (mission.waypoints && mission.waypoints.length > 0) {\n        const distance = calculateDistance(drone.position, mission.waypoints[0].position);\n        // Closer is better (max 20 points, decreases with distance)\n        const distanceScore = Math.max(0, 20 - (distance / 5000)); // 5km = 0 points\n        score += distanceScore;\n      }\n\n      return { drone, score };\n    });\n\n    // Return the highest scored drone\n    scoredDrones.sort((a, b) => b.score - a.score);\n    return scoredDrones[0]?.drone || null;\n  };\n\n  const calculateDistance = (pos1: { lat: number; lng: number }, pos2: { lat: number; lng: number }) => {\n    const R = 6371000; // Earth's radius in meters\n    const lat1Rad = pos1.lat * Math.PI / 180;\n    const lat2Rad = pos2.lat * Math.PI / 180;\n    const deltaLat = (pos2.lat - pos1.lat) * Math.PI / 180;\n    const deltaLng = (pos2.lng - pos1.lng) * Math.PI / 180;\n\n    const a = Math.sin(deltaLat / 2) * Math.sin(deltaLat / 2) +\n              Math.cos(lat1Rad) * Math.cos(lat2Rad) *\n              Math.sin(deltaLng / 2) * Math.sin(deltaLng / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n    return R * c;\n  };\n\n  const handleQuickAssign = async (droneId: string) => {\n    setAssigning(true);\n    try {\n      await assignMissionToDrone(mission.id, droneId);\n      onAssigned?.(mission.id, droneId);\n      setShowOptions(false);\n    } catch (error) {\n      console.error('Failed to assign mission:', error);\n    } finally {\n      setAssigning(false);\n    }\n  };\n\n  const availableDrones = getAvailableDrones();\n  const bestDrone = getBestDrone();\n\n  if (mission.assignedDrone) {\n    const assignedDrone = drones.find(d => d.id === mission.assignedDrone);\n    return (\n      <div className={`flex items-center gap-2 text-sm ${className}`}>\n        <CheckCircleIcon className=\"w-4 h-4 text-status-operational\" />\n        <span className=\"text-text-secondary\">Assigned to:</span>\n        <span className=\"text-text-primary font-medium\">\n          {assignedDrone?.name || mission.assignedDrone}\n        </span>\n      </div>\n    );\n  }\n\n  if (availableDrones.length === 0) {\n    return (\n      <div className={`flex items-center gap-2 text-sm text-status-critical ${className}`}>\n        <XCircleIcon className=\"w-4 h-4\" />\n        <span>No available drones</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`relative ${className}`}>\n      {!showOptions ? (\n        <div className=\"flex items-center gap-2\">\n          {bestDrone && (\n            <>\n              <button\n                onClick={() => handleQuickAssign(bestDrone.id)}\n                disabled={assigning}\n                className=\"flex items-center gap-2 px-3 py-2 bg-status-active hover:bg-status-active/80 \n                         text-white rounded-lg text-sm font-medium transition-colors\n                         disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {assigning ? (\n                  <>\n                    <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\n                    Assigning...\n                  </>\n                ) : (\n                  <>\n                    <UserIcon className=\"w-4 h-4\" />\n                    Auto-assign to {bestDrone.name}\n                  </>\n                )}\n              </button>\n              \n              <button\n                onClick={() => setShowOptions(true)}\n                className=\"px-3 py-2 border border-dark-border hover:border-dark-hover \n                         text-text-secondary hover:text-text-primary rounded-lg text-sm transition-colors\"\n              >\n                Choose Drone ({availableDrones.length} available)\n              </button>\n            </>\n          )}\n        </div>\n      ) : (\n        <motion.div\n          initial={{ opacity: 0, y: -10 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"absolute top-0 left-0 z-10 bg-dark-secondary border border-dark-border \n                     rounded-lg shadow-lg p-3 min-w-80\"\n        >\n          <div className=\"flex items-center justify-between mb-3\">\n            <h4 className=\"font-medium text-text-primary\">Choose Drone</h4>\n            <button\n              onClick={() => setShowOptions(false)}\n              className=\"text-text-secondary hover:text-text-primary\"\n            >\n              <XCircleIcon className=\"w-4 h-4\" />\n            </button>\n          </div>\n\n          <div className=\"space-y-2 max-h-60 overflow-y-auto\">\n            {availableDrones.map(drone => {\n              const isBest = drone.id === bestDrone?.id;\n              const hasWarning = drone.batteryLevel < 50 || drone.signalStrength < 70;\n              \n              return (\n                <button\n                  key={drone.id}\n                  onClick={() => handleQuickAssign(drone.id)}\n                  disabled={assigning}\n                  className=\"w-full p-3 text-left border border-dark-border hover:border-dark-hover \n                           rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\n                           hover:bg-dark-hover\"\n                >\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"font-medium text-text-primary\">{drone.name}</span>\n                      {isBest && (\n                        <span className=\"px-2 py-0.5 bg-status-active text-white text-xs rounded-full\">\n                          Best Match\n                        </span>\n                      )}\n                    </div>\n                    {hasWarning && (\n                      <ExclamationTriangleIcon className=\"w-4 h-4 text-status-warning\" />\n                    )}\n                  </div>\n                  \n                  <div className=\"grid grid-cols-3 gap-2 text-xs text-text-secondary\">\n                    <div>\n                      <span className=\"text-text-secondary\">Battery:</span>\n                      <div className={`font-medium ${\n                        drone.batteryLevel > 70 ? 'text-status-operational' : \n                        drone.batteryLevel > 30 ? 'text-status-warning' : 'text-status-critical'\n                      }`}>\n                        {drone.batteryLevel}%\n                      </div>\n                    </div>\n                    <div>\n                      <span className=\"text-text-secondary\">Signal:</span>\n                      <div className=\"text-text-primary font-medium\">{drone.signalStrength}%</div>\n                    </div>\n                    <div>\n                      <span className=\"text-text-secondary\">Status:</span>\n                      <div className=\"text-text-primary font-medium capitalize\">{drone.status}</div>\n                    </div>\n                  </div>\n                  \n                  {mission.waypoints && mission.waypoints.length > 0 && (\n                    <div className=\"mt-2 text-xs text-text-secondary\">\n                      Distance to start: {(calculateDistance(drone.position, mission.waypoints[0].position) / 1000).toFixed(1)}km\n                    </div>\n                  )}\n                </button>\n              );\n            })}\n          </div>\n        </motion.div>\n      )}\n    </div>\n  );\n};\n\nexport default QuickAssignment;","import React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  PlusIcon,\n  MagnifyingGlassIcon,\n  FunnelIcon,\n  EyeIcon,\n  PencilIcon,\n  TrashIcon,\n  PlayIcon,\n  PauseIcon,\n  StopIcon,\n  UserIcon\n} from '@heroicons/react/24/outline';\nimport { MissionData } from '@/types/fleet';\nimport useMissionStore from '@/store/mission';\nimport MissionCreator from '../MissionCreator';\nimport DroneAssignment from '../DroneAssignment';\nimport QuickAssignment from '../QuickAssignment';\n\ninterface MissionListProps {\n  className?: string;\n}\n\nconst MissionList: React.FC<MissionListProps> = ({ className = '' }) => {\n  const {\n    missions,\n    missionStats,\n    selectedMissionId,\n    selectMission,\n    deleteMission,\n    updateMission\n  } = useMissionStore();\n\n  const [showCreator, setShowCreator] = useState(false);\n  const [selectedMissionForAssignment, setSelectedMissionForAssignment] = useState<MissionData | null>(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [statusFilter, setStatusFilter] = useState<'all' | MissionData['status']>('all');\n  const [priorityFilter, setPriorityFilter] = useState<'all' | 'high' | 'medium' | 'low'>('all');\n\n  // Convert missions object to array\n  const missionList = Object.values(missions);\n\n  // Filter missions\n  const filteredMissions = missionList.filter(mission => {\n    // Search filter\n    if (searchQuery && !mission.name.toLowerCase().includes(searchQuery.toLowerCase()) &&\n        !mission.description?.toLowerCase().includes(searchQuery.toLowerCase())) {\n      return false;\n    }\n\n    // Status filter\n    if (statusFilter !== 'all' && mission.status !== statusFilter) {\n      return false;\n    }\n\n    // Priority filter\n    if (priorityFilter !== 'all') {\n      if (priorityFilter === 'high' && mission.priority < 7) return false;\n      if (priorityFilter === 'medium' && (mission.priority < 4 || mission.priority > 6)) return false;\n      if (priorityFilter === 'low' && mission.priority > 3) return false;\n    }\n\n    return true;\n  });\n\n  // Sort missions (active first, then by priority, then by creation date)\n  const sortedMissions = [...filteredMissions].sort((a, b) => {\n    // Active missions first\n    if (a.status === 'active' && b.status !== 'active') return -1;\n    if (b.status === 'active' && a.status !== 'active') return 1;\n    \n    // Then by priority (high to low)\n    if (a.priority !== b.priority) return b.priority - a.priority;\n    \n    // Then by creation date (newest first)\n    return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\n  });\n\n  const getStatusColor = (status: MissionData['status']) => {\n    switch (status) {\n      case 'active': return 'text-status-operational bg-status-operational/10 border-status-operational/20';\n      case 'completed': return 'text-status-active bg-status-active/10 border-status-active/20';\n      case 'pending': return 'text-status-warning bg-status-warning/10 border-status-warning/20';\n      case 'failed': return 'text-status-critical bg-status-critical/10 border-status-critical/20';\n      case 'cancelled': return 'text-text-secondary bg-text-secondary/10 border-text-secondary/20';\n      case 'paused': return 'text-status-warning bg-status-warning/10 border-status-warning/20';\n      default: return 'text-text-secondary bg-text-secondary/10 border-text-secondary/20';\n    }\n  };\n\n  const getPriorityColor = (priority: number) => {\n    if (priority >= 8) return 'text-red-400';\n    if (priority >= 6) return 'text-orange-400';\n    if (priority >= 4) return 'text-yellow-400';\n    return 'text-blue-400';\n  };\n\n  const handleStatusChange = async (mission: MissionData, newStatus: MissionData['status']) => {\n    try {\n      await updateMission(mission.id, { status: newStatus });\n    } catch (error) {\n      console.error('Failed to update mission status:', error);\n    }\n  };\n\n  const handleDelete = async (missionId: string) => {\n    if (window.confirm('Are you sure you want to delete this mission?')) {\n      try {\n        await deleteMission(missionId);\n      } catch (error) {\n        console.error('Failed to delete mission:', error);\n      }\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const formatDuration = (seconds: number | null) => {\n    if (!seconds) return 'N/A';\n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor((seconds % 3600) / 60);\n    return hours > 0 ? `${hours}h ${minutes}m` : `${minutes}m`;\n  };\n\n  return (\n    <div className={`space-y-6 ${className}`}>\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-text-primary\">Missions</h2>\n          <p className=\"text-text-secondary mt-1\">\n            {missionList.length} total missions\n            {missionStats && (\n              <span className=\"ml-4\">\n                {missionStats.active} active â¢ {missionStats.completed} completed â¢ {missionStats.pending} pending\n              </span>\n            )}\n          </p>\n        </div>\n        \n        <button\n          onClick={() => setShowCreator(true)}\n          className=\"flex items-center gap-2 px-4 py-2 bg-status-active hover:bg-status-active/80 \n                   text-white rounded-lg font-medium transition-colors\"\n        >\n          <PlusIcon className=\"w-5 h-5\" />\n          New Mission\n        </button>\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex items-center gap-4 p-4 bg-dark-secondary rounded-lg border border-dark-border\">\n        {/* Search */}\n        <div className=\"relative flex-1\">\n          <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-secondary\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search missions...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"w-full pl-10 pr-4 py-2 bg-dark-tertiary border border-dark-border rounded-lg\n                     text-text-primary placeholder-text-secondary focus:outline-none \n                     focus:ring-2 focus:ring-status-active\"\n          />\n        </div>\n\n        {/* Status Filter */}\n        <select\n          value={statusFilter}\n          onChange={(e) => setStatusFilter(e.target.value as any)}\n          className=\"px-3 py-2 bg-dark-tertiary border border-dark-border rounded-lg\n                   text-text-primary focus:outline-none focus:ring-2 focus:ring-status-active\"\n        >\n          <option value=\"all\">All Status</option>\n          <option value=\"active\">Active</option>\n          <option value=\"pending\">Pending</option>\n          <option value=\"completed\">Completed</option>\n          <option value=\"paused\">Paused</option>\n          <option value=\"failed\">Failed</option>\n          <option value=\"cancelled\">Cancelled</option>\n        </select>\n\n        {/* Priority Filter */}\n        <select\n          value={priorityFilter}\n          onChange={(e) => setPriorityFilter(e.target.value as any)}\n          className=\"px-3 py-2 bg-dark-tertiary border border-dark-border rounded-lg\n                   text-text-primary focus:outline-none focus:ring-2 focus:ring-status-active\"\n        >\n          <option value=\"all\">All Priority</option>\n          <option value=\"high\">High (7-10)</option>\n          <option value=\"medium\">Medium (4-6)</option>\n          <option value=\"low\">Low (1-3)</option>\n        </select>\n\n        <div className=\"flex items-center text-text-secondary\">\n          <FunnelIcon className=\"w-4 h-4 mr-2\" />\n          {filteredMissions.length} of {missionList.length}\n        </div>\n      </div>\n\n      {/* Mission List */}\n      <div className=\"space-y-3\">\n        <AnimatePresence>\n          {sortedMissions.map(mission => (\n            <motion.div\n              key={mission.id}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n              className={`p-4 bg-dark-secondary rounded-lg border border-dark-border\n                        hover:border-dark-hover transition-colors cursor-pointer\n                        ${selectedMissionId === mission.id ? 'ring-2 ring-status-active' : ''}`}\n              onClick={() => selectMission(selectedMissionId === mission.id ? null : mission.id)}\n            >\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1\">\n                  {/* Mission Header */}\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <h3 className=\"text-lg font-semibold text-text-primary\">{mission.name}</h3>\n                    \n                    <span className={`px-2 py-1 rounded-full text-xs font-medium border ${getStatusColor(mission.status)}`}>\n                      {mission.status.toUpperCase()}\n                    </span>\n                    \n                    <span className={`text-sm font-medium ${getPriorityColor(mission.priority)}`}>\n                      Priority {mission.priority}\n                    </span>\n                  </div>\n\n                  {/* Description */}\n                  {mission.description && (\n                    <p className=\"text-text-secondary text-sm mb-3 line-clamp-2\">\n                      {mission.description}\n                    </p>\n                  )}\n\n                  {/* Mission Details */}\n                  <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm\">\n                    <div>\n                      <span className=\"text-text-secondary\">Waypoints:</span>\n                      <div className=\"text-text-primary font-medium\">{mission.waypoints?.length || 0}</div>\n                    </div>\n                    \n                    <div>\n                      <span className=\"text-text-secondary\">Progress:</span>\n                      <div className=\"text-text-primary font-medium\">\n                        {mission.progress}%\n                        {mission.status === 'active' && (\n                          <div className=\"w-full bg-dark-border rounded-full h-1.5 mt-1\">\n                            <div \n                              className=\"bg-status-active h-1.5 rounded-full transition-all duration-300\"\n                              style={{ width: `${mission.progress}%` }}\n                            />\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                    \n                    <div>\n                      <span className=\"text-text-secondary\">\n                        {mission.assignedDrone ? 'Assigned:' : 'Created:'}\n                      </span>\n                      <div className=\"text-text-primary font-medium\">\n                        {mission.assignedDrone || formatDate(mission.createdAt)}\n                      </div>\n                    </div>\n                    \n                    <div>\n                      <span className=\"text-text-secondary\">Duration:</span>\n                      <div className=\"text-text-primary font-medium\">\n                        {mission.actualDuration \n                          ? formatDuration(mission.actualDuration)\n                          : mission.estimatedDuration \n                            ? `~${formatDuration(mission.estimatedDuration)}`\n                            : 'N/A'\n                        }\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Assignment Section */}\n                  {mission.status === 'pending' && (\n                    <div className=\"mt-4 pt-3 border-t border-dark-border\">\n                      <QuickAssignment\n                        mission={mission}\n                        onAssigned={() => {\n                          console.log('Mission assigned successfully');\n                        }}\n                      />\n                    </div>\n                  )}\n                </div>\n\n                {/* Actions */}\n                <div className=\"flex items-center gap-2 ml-4\">\n                  {/* Status Controls */}\n                  {mission.status === 'pending' && (\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleStatusChange(mission, 'active');\n                      }}\n                      className=\"p-2 text-status-operational hover:bg-status-operational/10 rounded-lg transition-colors\"\n                      title=\"Start mission\"\n                    >\n                      <PlayIcon className=\"w-4 h-4\" />\n                    </button>\n                  )}\n                  \n                  {mission.status === 'active' && (\n                    <>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleStatusChange(mission, 'paused');\n                        }}\n                        className=\"p-2 text-status-warning hover:bg-status-warning/10 rounded-lg transition-colors\"\n                        title=\"Pause mission\"\n                      >\n                        <PauseIcon className=\"w-4 h-4\" />\n                      </button>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleStatusChange(mission, 'cancelled');\n                        }}\n                        className=\"p-2 text-status-critical hover:bg-status-critical/10 rounded-lg transition-colors\"\n                        title=\"Stop mission\"\n                      >\n                        <StopIcon className=\"w-4 h-4\" />\n                      </button>\n                    </>\n                  )}\n                  \n                  {mission.status === 'paused' && (\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleStatusChange(mission, 'active');\n                      }}\n                      className=\"p-2 text-status-operational hover:bg-status-operational/10 rounded-lg transition-colors\"\n                      title=\"Resume mission\"\n                    >\n                      <PlayIcon className=\"w-4 h-4\" />\n                    </button>\n                  )}\n\n                  {/* Assignment Action */}\n                  {mission.status === 'pending' && !mission.assignedDrone && (\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        setSelectedMissionForAssignment(mission);\n                      }}\n                      className=\"p-2 text-text-secondary hover:text-status-active hover:bg-status-active/10 \n                               rounded-lg transition-colors\"\n                      title=\"Assign to drone\"\n                    >\n                      <UserIcon className=\"w-4 h-4\" />\n                    </button>\n                  )}\n\n                  {/* View/Edit Actions */}\n                  <button\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      selectMission(mission.id);\n                    }}\n                    className=\"p-2 text-text-secondary hover:text-text-primary hover:bg-dark-hover \n                             rounded-lg transition-colors\"\n                    title=\"View details\"\n                  >\n                    <EyeIcon className=\"w-4 h-4\" />\n                  </button>\n\n                  {['pending', 'paused'].includes(mission.status) && (\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        // TODO: Implement edit mission\n                        console.log('Edit mission:', mission.id);\n                      }}\n                      className=\"p-2 text-text-secondary hover:text-status-warning hover:bg-status-warning/10 \n                               rounded-lg transition-colors\"\n                      title=\"Edit mission\"\n                    >\n                      <PencilIcon className=\"w-4 h-4\" />\n                    </button>\n                  )}\n\n                  {!['active'].includes(mission.status) && (\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleDelete(mission.id);\n                      }}\n                      className=\"p-2 text-text-secondary hover:text-status-critical hover:bg-status-critical/10 \n                               rounded-lg transition-colors\"\n                      title=\"Delete mission\"\n                    >\n                      <TrashIcon className=\"w-4 h-4\" />\n                    </button>\n                  )}\n                </div>\n              </div>\n            </motion.div>\n          ))}\n        </AnimatePresence>\n      </div>\n\n      {/* Empty State */}\n      {sortedMissions.length === 0 && (\n        <div className=\"text-center py-12\">\n          {searchQuery || statusFilter !== 'all' || priorityFilter !== 'all' ? (\n            <div>\n              <MagnifyingGlassIcon className=\"w-12 h-12 mx-auto text-text-secondary opacity-50 mb-4\" />\n              <h3 className=\"text-lg font-medium text-text-primary mb-2\">No missions found</h3>\n              <p className=\"text-text-secondary mb-4\">No missions match your current filters</p>\n              <button\n                onClick={() => {\n                  setSearchQuery('');\n                  setStatusFilter('all');\n                  setPriorityFilter('all');\n                }}\n                className=\"px-4 py-2 bg-dark-tertiary hover:bg-dark-hover text-text-primary \n                         rounded-lg transition-colors\"\n              >\n                Clear Filters\n              </button>\n            </div>\n          ) : (\n            <div>\n              <PlusIcon className=\"w-12 h-12 mx-auto text-text-secondary opacity-50 mb-4\" />\n              <h3 className=\"text-lg font-medium text-text-primary mb-2\">No missions created</h3>\n              <p className=\"text-text-secondary mb-4\">Create your first mission to get started</p>\n              <button\n                onClick={() => setShowCreator(true)}\n                className=\"px-6 py-2 bg-status-active hover:bg-status-active/80 text-white \n                         rounded-lg font-medium transition-colors\"\n              >\n                Create Mission\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Mission Creator Modal */}\n      <MissionCreator\n        isOpen={showCreator}\n        onClose={() => setShowCreator(false)}\n        onMissionCreated={() => {\n          // Mission will be automatically added to store via WebSocket/API\n          console.log('Mission created successfully');\n        }}\n      />\n\n      {/* Assignment Modal */}\n      {selectedMissionForAssignment && (\n        <DroneAssignment\n          mission={selectedMissionForAssignment}\n          isOpen={true}\n          onClose={() => setSelectedMissionForAssignment(null)}\n          onAssigned={() => {\n            setSelectedMissionForAssignment(null);\n            console.log('Mission assigned successfully');\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default MissionList;","import React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  RocketLaunchIcon,\n  MapPinIcon,\n  ChartBarIcon,\n  PlusIcon,\n  EyeIcon\n} from '@heroicons/react/24/outline';\nimport useMissionStore, { useSelectedMission } from '@/store/mission';\nimport { useFleetStore } from '@/store/fleet';\nimport MissionCreator from '../MissionCreator';\nimport WaypointManager from '../WaypointManager';\n\ninterface MissionPanelProps {\n  className?: string;\n  compact?: boolean;\n}\n\nconst MissionPanel: React.FC<MissionPanelProps> = ({\n  className = '',\n  compact = false\n}) => {\n  const {\n    missions,\n    activeMissions,\n    missionStats,\n    selectMission,\n    assignMissionToDrone\n  } = useMissionStore();\n  \n  const selectedDrone = useFleetStore((state) => {\n    const droneId = state.selectedDroneId;\n    return droneId ? state.drones[droneId] : null;\n  });\n  \n  const selectedMission = useSelectedMission();\n  const [showCreator, setShowCreator] = useState(false);\n  const [showWaypoints, setShowWaypoints] = useState(false);\n\n  // Get missions for selected drone\n  const droneMissions = selectedDrone \n    ? Object.values(missions).filter(m => m.assignedDrone === selectedDrone.id)\n    : [];\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'active': return 'text-status-operational';\n      case 'completed': return 'text-status-active';\n      case 'pending': return 'text-status-warning';\n      case 'failed': return 'text-status-critical';\n      case 'cancelled': return 'text-text-secondary';\n      case 'paused': return 'text-status-warning';\n      default: return 'text-text-secondary';\n    }\n  };\n\n  const handleAssignToSelectedDrone = async (missionId: string) => {\n    if (!selectedDrone) return;\n    \n    try {\n      await assignMissionToDrone(missionId, selectedDrone.id);\n    } catch (error) {\n      console.error('Failed to assign mission:', error);\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  if (compact) {\n    return (\n      <div className={`bg-dark-secondary rounded-lg border border-dark-border p-4 ${className}`}>\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"font-semibold text-text-primary flex items-center gap-2\">\n            <RocketLaunchIcon className=\"w-5 h-5\" />\n            Missions\n          </h3>\n          <button\n            onClick={() => setShowCreator(true)}\n            className=\"p-1 text-text-secondary hover:text-status-active transition-colors\"\n          >\n            <PlusIcon className=\"w-4 h-4\" />\n          </button>\n        </div>\n\n        {/* Quick Stats */}\n        {missionStats && (\n          <div className=\"grid grid-cols-3 gap-2 mb-4 text-sm\">\n            <div className=\"text-center p-2 bg-dark-tertiary rounded\">\n              <div className=\"text-status-operational font-medium\">{missionStats.active}</div>\n              <div className=\"text-text-secondary text-xs\">Active</div>\n            </div>\n            <div className=\"text-center p-2 bg-dark-tertiary rounded\">\n              <div className=\"text-status-warning font-medium\">{missionStats.pending}</div>\n              <div className=\"text-text-secondary text-xs\">Pending</div>\n            </div>\n            <div className=\"text-center p-2 bg-dark-tertiary rounded\">\n              <div className=\"text-status-active font-medium\">{missionStats.today}</div>\n              <div className=\"text-text-secondary text-xs\">Today</div>\n            </div>\n          </div>\n        )}\n\n        {/* Active Missions */}\n        <div className=\"space-y-2\">\n          {activeMissions.slice(0, 3).map(mission => (\n            <div\n              key={mission.id}\n              className=\"p-2 bg-dark-tertiary rounded cursor-pointer hover:bg-dark-hover transition-colors\"\n              onClick={() => selectMission(mission.id)}\n            >\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex-1\">\n                  <div className=\"font-medium text-text-primary text-sm truncate\">\n                    {mission.name}\n                  </div>\n                  <div className=\"text-xs text-text-secondary\">\n                    {mission.assignedDrone || 'Unassigned'} â¢ {mission.progress}%\n                  </div>\n                </div>\n                <div className=\"w-8 h-1 bg-dark-border rounded-full overflow-hidden\">\n                  <div \n                    className=\"h-full bg-status-active transition-all\"\n                    style={{ width: `${mission.progress}%` }}\n                  />\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {activeMissions.length === 0 && (\n          <div className=\"text-center text-text-secondary text-sm py-4\">\n            No active missions\n          </div>\n        )}\n\n        <MissionCreator\n          isOpen={showCreator}\n          onClose={() => setShowCreator(false)}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className={`bg-dark-secondary rounded-lg border border-dark-border ${className}`}>\n      {/* Header */}\n      <div className=\"p-4 border-b border-dark-border\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <h2 className=\"text-lg font-semibold text-text-primary flex items-center gap-2\">\n            <RocketLaunchIcon className=\"w-6 h-6\" />\n            Mission Control\n          </h2>\n          <button\n            onClick={() => setShowCreator(true)}\n            className=\"px-3 py-1 bg-status-active hover:bg-status-active/80 text-white \n                     rounded text-sm font-medium transition-colors flex items-center gap-1\"\n          >\n            <PlusIcon className=\"w-4 h-4\" />\n            New\n          </button>\n        </div>\n\n        {/* Stats */}\n        {missionStats && (\n          <div className=\"grid grid-cols-4 gap-3 text-sm\">\n            <div className=\"text-center\">\n              <div className=\"text-status-operational font-medium\">{missionStats.active}</div>\n              <div className=\"text-text-secondary text-xs\">Active</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-status-warning font-medium\">{missionStats.pending}</div>\n              <div className=\"text-text-secondary text-xs\">Pending</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-status-active font-medium\">{missionStats.completed}</div>\n              <div className=\"text-text-secondary text-xs\">Completed</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-text-primary font-medium\">{missionStats.today}</div>\n              <div className=\"text-text-secondary text-xs\">Today</div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Content */}\n      <div className=\"p-4 space-y-4\">\n        {/* Selected Mission Details */}\n        {selectedMission ? (\n          <div className=\"space-y-4\">\n            <div className=\"flex items-start justify-between\">\n              <div>\n                <h3 className=\"text-lg font-semibold text-text-primary\">{selectedMission.name}</h3>\n                <p className=\"text-sm text-text-secondary\">{selectedMission.description}</p>\n              </div>\n              <span className={`px-2 py-1 rounded text-xs font-medium ${getStatusColor(selectedMission.status)}`}>\n                {selectedMission.status.toUpperCase()}\n              </span>\n            </div>\n\n            {/* Mission Progress */}\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-text-secondary\">Progress</span>\n                <span className=\"text-text-primary font-medium\">{selectedMission.progress}%</span>\n              </div>\n              <div className=\"w-full bg-dark-border rounded-full h-2\">\n                <div \n                  className=\"bg-status-active h-2 rounded-full transition-all duration-300\"\n                  style={{ width: `${selectedMission.progress}%` }}\n                />\n              </div>\n            </div>\n\n            {/* Mission Info */}\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n              <div>\n                <span className=\"text-text-secondary\">Priority:</span>\n                <div className=\"text-text-primary font-medium\">Level {selectedMission.priority}</div>\n              </div>\n              <div>\n                <span className=\"text-text-secondary\">Waypoints:</span>\n                <div className=\"text-text-primary font-medium\">{selectedMission.waypoints?.length || 0}</div>\n              </div>\n              <div>\n                <span className=\"text-text-secondary\">Assigned:</span>\n                <div className=\"text-text-primary font-medium\">\n                  {selectedMission.assignedDrone || 'Unassigned'}\n                </div>\n              </div>\n              <div>\n                <span className=\"text-text-secondary\">Created:</span>\n                <div className=\"text-text-primary font-medium\">\n                  {formatDate(selectedMission.createdAt)}\n                </div>\n              </div>\n            </div>\n\n            {/* Actions */}\n            <div className=\"flex gap-2\">\n              {selectedMission.waypoints && selectedMission.waypoints.length > 0 && (\n                <button\n                  onClick={() => setShowWaypoints(!showWaypoints)}\n                  className=\"flex items-center gap-1 px-3 py-2 bg-dark-tertiary hover:bg-dark-hover \n                           text-text-primary rounded text-sm transition-colors\"\n                >\n                  <MapPinIcon className=\"w-4 h-4\" />\n                  {showWaypoints ? 'Hide' : 'Show'} Waypoints\n                </button>\n              )}\n\n              {selectedDrone && selectedMission.status === 'pending' && !selectedMission.assignedDrone && (\n                <button\n                  onClick={() => handleAssignToSelectedDrone(selectedMission.id)}\n                  className=\"flex items-center gap-1 px-3 py-2 bg-status-active hover:bg-status-active/80 \n                           text-white rounded text-sm transition-colors\"\n                >\n                  Assign to {selectedDrone.name}\n                </button>\n              )}\n            </div>\n\n            {/* Waypoints */}\n            <AnimatePresence>\n              {showWaypoints && selectedMission.waypoints && (\n                <motion.div\n                  initial={{ opacity: 0, height: 0 }}\n                  animate={{ opacity: 1, height: 'auto' }}\n                  exit={{ opacity: 0, height: 0 }}\n                  className=\"border-t border-dark-border pt-4\"\n                >\n                  <WaypointManager\n                    waypoints={selectedMission.waypoints}\n                    onWaypointsChange={() => {}} // Read-only in this view\n                    disabled={true}\n                  />\n                </motion.div>\n              )}\n            </AnimatePresence>\n          </div>\n        ) : selectedDrone && droneMissions.length > 0 ? (\n          // Show drone missions\n          <div className=\"space-y-3\">\n            <h3 className=\"font-medium text-text-primary\">\n              {selectedDrone.name} Missions ({droneMissions.length})\n            </h3>\n            {droneMissions.map(mission => (\n              <div\n                key={mission.id}\n                className=\"p-3 bg-dark-tertiary rounded-lg cursor-pointer hover:bg-dark-hover transition-colors\"\n                onClick={() => selectMission(mission.id)}\n              >\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <h4 className=\"font-medium text-text-primary\">{mission.name}</h4>\n                    <p className=\"text-sm text-text-secondary truncate\">{mission.description}</p>\n                    <div className=\"flex items-center gap-4 mt-2 text-xs text-text-secondary\">\n                      <span>Priority {mission.priority}</span>\n                      <span>{mission.waypoints?.length || 0} waypoints</span>\n                      <span>{mission.progress}% complete</span>\n                    </div>\n                  </div>\n                  <div className=\"flex flex-col items-end gap-1\">\n                    <span className={`px-2 py-1 rounded text-xs ${getStatusColor(mission.status)}`}>\n                      {mission.status}\n                    </span>\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        selectMission(mission.id);\n                      }}\n                      className=\"p-1 text-text-secondary hover:text-text-primary transition-colors\"\n                    >\n                      <EyeIcon className=\"w-4 h-4\" />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          // Empty state\n          <div className=\"text-center py-8\">\n            {selectedDrone ? (\n              <div>\n                <RocketLaunchIcon className=\"w-12 h-12 mx-auto text-text-secondary opacity-50 mb-4\" />\n                <h3 className=\"text-lg font-medium text-text-primary mb-2\">No missions assigned</h3>\n                <p className=\"text-text-secondary mb-4\">\n                  {selectedDrone.name} has no missions assigned\n                </p>\n                <button\n                  onClick={() => setShowCreator(true)}\n                  className=\"px-4 py-2 bg-status-active hover:bg-status-active/80 text-white \n                           rounded-lg font-medium transition-colors\"\n                >\n                  Create Mission\n                </button>\n              </div>\n            ) : (\n              <div>\n                <ChartBarIcon className=\"w-12 h-12 mx-auto text-text-secondary opacity-50 mb-4\" />\n                <h3 className=\"text-lg font-medium text-text-primary mb-2\">Mission Overview</h3>\n                <p className=\"text-text-secondary mb-4\">\n                  Select a drone to view its missions or create a new mission\n                </p>\n                <div className=\"grid grid-cols-2 gap-3 text-sm\">\n                  <div className=\"p-3 bg-dark-tertiary rounded\">\n                    <div className=\"text-status-operational font-medium text-lg\">\n                      {activeMissions.length}\n                    </div>\n                    <div className=\"text-text-secondary\">Active Missions</div>\n                  </div>\n                  <div className=\"p-3 bg-dark-tertiary rounded\">\n                    <div className=\"text-text-primary font-medium text-lg\">\n                      {Object.keys(missions).length}\n                    </div>\n                    <div className=\"text-text-secondary\">Total Missions</div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Mission Creator Modal */}\n      <MissionCreator\n        isOpen={showCreator}\n        onClose={() => setShowCreator(false)}\n      />\n    </div>\n  );\n};\n\nexport default MissionPanel;","import React, { useState, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  UserIcon,\n  ArrowPathIcon,\n  XMarkIcon,\n  CheckCircleIcon,\n  ClockIcon,\n  ExclamationTriangleIcon\n} from '@heroicons/react/24/outline';\nimport { MissionData, DroneData } from '@/types/fleet';\nimport { useFleetStore } from '@/store/fleet';\nimport useMissionStore from '@/store/mission';\nimport DroneAssignment from '../DroneAssignment';\n\ninterface AssignmentManagerProps {\n  className?: string;\n}\n\ninterface Assignment {\n  mission: MissionData;\n  drone: DroneData | null;\n  status: 'assigned' | 'unassigned' | 'conflict';\n  issues: string[];\n}\n\nconst AssignmentManager: React.FC<AssignmentManagerProps> = ({ className = '' }) => {\n  const drones = useFleetStore((state) => Object.values(state.drones));\n  const dronesMap = useFleetStore((state) => state.drones);\n  const { missions, updateMission } = useMissionStore();\n  \n  const [selectedMissionForAssignment, setSelectedMissionForAssignment] = useState<MissionData | null>(null);\n  const [filter, setFilter] = useState<'all' | 'assigned' | 'unassigned' | 'issues'>('all');\n\n  // Create assignment data\n  const assignments = useMemo<Assignment[]>(() => {\n    return Object.values(missions)\n      .filter(mission => ['pending', 'active', 'paused'].includes(mission.status))\n      .map(mission => {\n        const drone = mission.assignedDrone ? dronesMap[mission.assignedDrone] : null;\n        const issues: string[] = [];\n        let status: Assignment['status'] = 'unassigned';\n\n        if (mission.assignedDrone) {\n          if (!drone) {\n            issues.push('Assigned drone not found');\n            status = 'conflict';\n          } else {\n            status = 'assigned';\n            \n            // Check drone health\n            if (drone.status === 'maintenance' || drone.status === 'emergency') {\n              issues.push(`Drone is in ${drone.status} mode`);\n              status = 'conflict';\n            }\n            \n            if (drone.batteryLevel < 20) {\n              issues.push(`Critical battery: ${drone.batteryLevel}%`);\n              status = 'conflict';\n            } else if (drone.batteryLevel < 30) {\n              issues.push(`Low battery: ${drone.batteryLevel}%`);\n            }\n            \n            if (drone.signalStrength < 30) {\n              issues.push(`Poor signal: ${drone.signalStrength}%`);\n            }\n          }\n        }\n\n        return {\n          mission,\n          drone,\n          status,\n          issues\n        };\n      })\n      .sort((a, b) => {\n        // Sort by priority first, then by status issues\n        if (a.mission.priority !== b.mission.priority) {\n          return b.mission.priority - a.mission.priority;\n        }\n        \n        if (a.status !== b.status) {\n          const statusOrder = { conflict: 0, unassigned: 1, assigned: 2 };\n          return statusOrder[a.status] - statusOrder[b.status];\n        }\n        \n        return new Date(b.mission.createdAt).getTime() - new Date(a.mission.createdAt).getTime();\n      });\n  }, [missions, dronesMap]);\n\n  // Filter assignments\n  const filteredAssignments = assignments.filter(assignment => {\n    switch (filter) {\n      case 'assigned':\n        return assignment.status === 'assigned' && assignment.issues.length === 0;\n      case 'unassigned':\n        return assignment.status === 'unassigned';\n      case 'issues':\n        return assignment.status === 'conflict' || assignment.issues.length > 0;\n      default:\n        return true;\n    }\n  });\n\n  const getStatusIcon = (assignment: Assignment) => {\n    switch (assignment.status) {\n      case 'assigned':\n        return assignment.issues.length > 0 \n          ? <ExclamationTriangleIcon className=\"w-5 h-5 text-status-warning\" />\n          : <CheckCircleIcon className=\"w-5 h-5 text-status-operational\" />;\n      case 'conflict':\n        return <XMarkIcon className=\"w-5 h-5 text-status-critical\" />;\n      case 'unassigned':\n      default:\n        return <ClockIcon className=\"w-5 h-5 text-text-secondary\" />;\n    }\n  };\n\n  const getStatusColor = (assignment: Assignment) => {\n    switch (assignment.status) {\n      case 'assigned':\n        return assignment.issues.length > 0 \n          ? 'border-status-warning bg-status-warning/5'\n          : 'border-status-operational bg-status-operational/5';\n      case 'conflict':\n        return 'border-status-critical bg-status-critical/5';\n      case 'unassigned':\n      default:\n        return 'border-text-secondary bg-text-secondary/5';\n    }\n  };\n\n  const handleUnassign = async (missionId: string) => {\n    try {\n      await updateMission(missionId, { assignedDrone: undefined });\n    } catch (error) {\n      console.error('Failed to unassign mission:', error);\n    }\n  };\n\n  const getAvailableDronesCount = () => {\n    return drones.filter(drone => {\n      // Must be operational\n      if (['maintenance', 'emergency'].includes(drone.status)) return false;\n      \n      // Must have sufficient battery\n      if (drone.batteryLevel < 30) return false;\n      \n      // Must not have active mission\n      const hasActiveMission = Object.values(missions).some(m => \n        m.assignedDrone === drone.id && ['pending', 'active', 'paused'].includes(m.status)\n      );\n      \n      return !hasActiveMission;\n    }).length;\n  };\n\n  const stats = {\n    total: assignments.length,\n    assigned: assignments.filter(a => a.status === 'assigned' && a.issues.length === 0).length,\n    unassigned: assignments.filter(a => a.status === 'unassigned').length,\n    issues: assignments.filter(a => a.status === 'conflict' || a.issues.length > 0).length,\n    availableDrones: getAvailableDronesCount()\n  };\n\n  return (\n    <div className={`space-y-6 ${className}`}>\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-text-primary\">Assignment Manager</h2>\n          <p className=\"text-text-secondary mt-1\">\n            Manage mission-to-drone assignments â¢ {stats.availableDrones} drones available\n          </p>\n        </div>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-4 gap-4\">\n        <div className=\"bg-dark-secondary rounded-lg border border-dark-border p-4 text-center\">\n          <div className=\"text-2xl font-bold text-text-primary\">{stats.total}</div>\n          <div className=\"text-sm text-text-secondary\">Total Missions</div>\n        </div>\n        <div className=\"bg-dark-secondary rounded-lg border border-dark-border p-4 text-center\">\n          <div className=\"text-2xl font-bold text-status-operational\">{stats.assigned}</div>\n          <div className=\"text-sm text-text-secondary\">Assigned</div>\n        </div>\n        <div className=\"bg-dark-secondary rounded-lg border border-dark-border p-4 text-center\">\n          <div className=\"text-2xl font-bold text-text-secondary\">{stats.unassigned}</div>\n          <div className=\"text-sm text-text-secondary\">Unassigned</div>\n        </div>\n        <div className=\"bg-dark-secondary rounded-lg border border-dark-border p-4 text-center\">\n          <div className=\"text-2xl font-bold text-status-warning\">{stats.issues}</div>\n          <div className=\"text-sm text-text-secondary\">Issues</div>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex items-center gap-4 p-4 bg-dark-secondary rounded-lg border border-dark-border\">\n        <span className=\"text-text-secondary font-medium\">Filter:</span>\n        <div className=\"flex gap-2\">\n          {[\n            { value: 'all', label: `All (${stats.total})` },\n            { value: 'assigned', label: `Assigned (${stats.assigned})` },\n            { value: 'unassigned', label: `Unassigned (${stats.unassigned})` },\n            { value: 'issues', label: `Issues (${stats.issues})` }\n          ].map(option => (\n            <button\n              key={option.value}\n              onClick={() => setFilter(option.value as any)}\n              className={`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\n                filter === option.value\n                  ? 'bg-status-active text-white'\n                  : 'text-text-secondary hover:text-text-primary hover:bg-dark-hover'\n              }`}\n            >\n              {option.label}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Assignment List */}\n      <div className=\"space-y-3\">\n        <AnimatePresence>\n          {filteredAssignments.map(assignment => (\n            <motion.div\n              key={assignment.mission.id}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n              className={`p-6 rounded-lg border-2 transition-all ${getStatusColor(assignment)}`}\n            >\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1\">\n                  {/* Header */}\n                  <div className=\"flex items-center gap-3 mb-3\">\n                    {getStatusIcon(assignment)}\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-text-primary\">\n                        {assignment.mission.name}\n                      </h3>\n                      <p className=\"text-sm text-text-secondary\">\n                        Priority {assignment.mission.priority} â¢ {assignment.mission.waypoints?.length || 0} waypoints\n                      </p>\n                    </div>\n                  </div>\n\n                  {/* Assignment Status */}\n                  <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-4\">\n                    <div>\n                      <h4 className=\"font-medium text-text-primary mb-2\">Mission Status</h4>\n                      <div className=\"space-y-1 text-sm\">\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-text-secondary\">Status:</span>\n                          <span className=\"text-text-primary capitalize\">{assignment.mission.status}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-text-secondary\">Progress:</span>\n                          <span className=\"text-text-primary\">{assignment.mission.progress}%</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-text-secondary\">Created:</span>\n                          <span className=\"text-text-primary\">\n                            {new Date(assignment.mission.createdAt).toLocaleDateString()}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div>\n                      <h4 className=\"font-medium text-text-primary mb-2\">Assignment</h4>\n                      <div className=\"space-y-1 text-sm\">\n                        {assignment.drone ? (\n                          <>\n                            <div className=\"flex justify-between\">\n                              <span className=\"text-text-secondary\">Assigned to:</span>\n                              <span className=\"text-text-primary font-medium\">{assignment.drone.name}</span>\n                            </div>\n                            <div className=\"flex justify-between\">\n                              <span className=\"text-text-secondary\">Drone Status:</span>\n                              <span className=\"text-text-primary capitalize\">{assignment.drone.status}</span>\n                            </div>\n                            <div className=\"flex justify-between\">\n                              <span className=\"text-text-secondary\">Battery:</span>\n                              <span className={`font-medium ${\n                                assignment.drone.batteryLevel > 70 ? 'text-status-operational' :\n                                assignment.drone.batteryLevel > 30 ? 'text-status-warning' : 'text-status-critical'\n                              }`}>\n                                {assignment.drone.batteryLevel}%\n                              </span>\n                            </div>\n                          </>\n                        ) : (\n                          <div className=\"text-text-secondary\">No drone assigned</div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Issues */}\n                  {assignment.issues.length > 0 && (\n                    <div className=\"mb-4\">\n                      <h4 className=\"font-medium text-status-warning mb-2 flex items-center gap-2\">\n                        <ExclamationTriangleIcon className=\"w-4 h-4\" />\n                        Issues\n                      </h4>\n                      <div className=\"space-y-1\">\n                        {assignment.issues.map((issue, index) => (\n                          <div key={index} className=\"flex items-start gap-2 text-sm\">\n                            <div className=\"w-1 h-1 bg-status-warning rounded-full mt-2 flex-shrink-0\" />\n                            <span className=\"text-status-warning\">{issue}</span>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Mission Description */}\n                  {assignment.mission.description && (\n                    <p className=\"text-sm text-text-secondary line-clamp-2\">\n                      {assignment.mission.description}\n                    </p>\n                  )}\n                </div>\n\n                {/* Actions */}\n                <div className=\"flex flex-col gap-2 ml-6\">\n                  {assignment.status === 'unassigned' ? (\n                    <button\n                      onClick={() => setSelectedMissionForAssignment(assignment.mission)}\n                      className=\"flex items-center gap-2 px-4 py-2 bg-status-active hover:bg-status-active/80 \n                               text-white rounded-lg text-sm font-medium transition-colors\"\n                    >\n                      <UserIcon className=\"w-4 h-4\" />\n                      Assign Drone\n                    </button>\n                  ) : (\n                    <>\n                      <button\n                        onClick={() => setSelectedMissionForAssignment(assignment.mission)}\n                        className=\"flex items-center gap-2 px-4 py-2 bg-dark-tertiary hover:bg-dark-hover \n                                 text-text-primary rounded-lg text-sm font-medium transition-colors border border-dark-border\"\n                      >\n                        <ArrowPathIcon className=\"w-4 h-4\" />\n                        Reassign\n                      </button>\n                      \n                      <button\n                        onClick={() => handleUnassign(assignment.mission.id)}\n                        className=\"flex items-center gap-2 px-4 py-2 text-text-secondary hover:text-status-critical \n                                 hover:bg-status-critical/10 rounded-lg text-sm transition-colors\"\n                      >\n                        <XMarkIcon className=\"w-4 h-4\" />\n                        Unassign\n                      </button>\n                    </>\n                  )}\n                </div>\n              </div>\n            </motion.div>\n          ))}\n        </AnimatePresence>\n      </div>\n\n      {/* Empty State */}\n      {filteredAssignments.length === 0 && (\n        <div className=\"text-center py-12\">\n          <UserIcon className=\"w-12 h-12 mx-auto text-text-secondary opacity-50 mb-4\" />\n          <h3 className=\"text-lg font-medium text-text-primary mb-2\">\n            {filter === 'all' ? 'No missions to assign' : `No ${filter} missions`}\n          </h3>\n          <p className=\"text-text-secondary mb-4\">\n            {filter === 'all' \n              ? 'Create missions to start managing assignments'\n              : `Change the filter to see other missions`\n            }\n          </p>\n          {filter !== 'all' && (\n            <button\n              onClick={() => setFilter('all')}\n              className=\"px-4 py-2 bg-dark-tertiary hover:bg-dark-hover text-text-primary \n                       rounded-lg transition-colors\"\n            >\n              Show All Missions\n            </button>\n          )}\n        </div>\n      )}\n\n      {/* Assignment Modal */}\n      {selectedMissionForAssignment && (\n        <DroneAssignment\n          mission={selectedMissionForAssignment}\n          isOpen={true}\n          onClose={() => setSelectedMissionForAssignment(null)}\n          onAssigned={() => {\n            setSelectedMissionForAssignment(null);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default AssignmentManager;","import React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  RocketLaunchIcon,\n  UserIcon,\n  ChartBarIcon,\n  Cog6ToothIcon,\n  XMarkIcon\n} from '@heroicons/react/24/outline';\nimport MissionList from '../MissionList';\nimport AssignmentManager from '../AssignmentManager';\nimport MissionPanel from '../MissionPanel';\n\ninterface MissionControlsProps {\n  className?: string;\n  onClose?: () => void;\n}\n\ntype ViewMode = 'panel' | 'list' | 'assignments';\n\nconst MissionControls: React.FC<MissionControlsProps> = ({ className = '', onClose }) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [viewMode, setViewMode] = useState<ViewMode>('panel');\n\n  const viewOptions = [\n    { mode: 'panel' as ViewMode, label: 'Panel', icon: ChartBarIcon, description: 'Compact mission overview' },\n    { mode: 'list' as ViewMode, label: 'List', icon: RocketLaunchIcon, description: 'All missions list' },\n    { mode: 'assignments' as ViewMode, label: 'Assignments', icon: UserIcon, description: 'Mission assignments' }\n  ];\n\n  if (!isExpanded) {\n    return (\n      <div className={`${className}`}>\n        {/* Collapsed View - Mission Panel */}\n        <MissionPanel compact={true} />\n        \n        {/* Expand Button */}\n        <div className=\"mt-4 flex justify-center\">\n          <button\n            onClick={() => setIsExpanded(true)}\n            className=\"flex items-center gap-2 px-4 py-2 bg-dark-tertiary hover:bg-dark-hover \n                     text-text-primary rounded-lg border border-dark-border transition-colors\"\n          >\n            <Cog6ToothIcon className=\"w-4 h-4\" />\n            Mission Controls\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[10000] p-4\">\n      <motion.div\n        initial={{ opacity: 0, scale: 0.95 }}\n        animate={{ opacity: 1, scale: 1 }}\n        exit={{ opacity: 0, scale: 0.95 }}\n        className=\"bg-dark-secondary rounded-lg border border-dark-border shadow-xl\n                   w-full max-w-7xl max-h-[95vh] overflow-hidden flex flex-col\"\n      >\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-dark-border\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-text-primary flex items-center gap-3\">\n              <RocketLaunchIcon className=\"w-7 h-7 text-status-active\" />\n              Mission Control Center\n            </h2>\n            <p className=\"text-text-secondary mt-1\">\n              Manage missions, assignments, and drone operations\n            </p>\n          </div>\n\n          {/* View Mode Selector */}\n          <div className=\"flex items-center gap-4\">\n            <div className=\"flex bg-dark-tertiary rounded-lg p-1\">\n              {viewOptions.map((option) => (\n                <button\n                  key={option.mode}\n                  onClick={() => setViewMode(option.mode)}\n                  className={`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n                    viewMode === option.mode\n                      ? 'bg-status-active text-white'\n                      : 'text-text-secondary hover:text-text-primary hover:bg-dark-hover'\n                  }`}\n                  title={option.description}\n                >\n                  <option.icon className=\"w-4 h-4\" />\n                  {option.label}\n                </button>\n              ))}\n            </div>\n\n            <button\n              onClick={() => {\n                if (onClose) {\n                  onClose();\n                } else {\n                  setIsExpanded(false);\n                }\n              }}\n              className=\"p-2 hover:bg-dark-hover rounded-lg transition-colors\"\n            >\n              <XMarkIcon className=\"w-5 h-5 text-text-secondary\" />\n            </button>\n          </div>\n        </div>\n\n        {/* Content */}\n        <div className=\"flex-1 overflow-hidden p-6\">\n          <AnimatePresence mode=\"wait\">\n            {viewMode === 'panel' && (\n              <motion.div\n                key=\"panel\"\n                initial={{ opacity: 0, x: 20 }}\n                animate={{ opacity: 1, x: 0 }}\n                exit={{ opacity: 0, x: -20 }}\n                className=\"h-full\"\n              >\n                <MissionPanel className=\"h-full\" />\n              </motion.div>\n            )}\n\n            {viewMode === 'list' && (\n              <motion.div\n                key=\"list\"\n                initial={{ opacity: 0, x: 20 }}\n                animate={{ opacity: 1, x: 0 }}\n                exit={{ opacity: 0, x: -20 }}\n                className=\"h-full overflow-y-auto\"\n              >\n                <MissionList />\n              </motion.div>\n            )}\n\n            {viewMode === 'assignments' && (\n              <motion.div\n                key=\"assignments\"\n                initial={{ opacity: 0, x: 20 }}\n                animate={{ opacity: 1, x: 0 }}\n                exit={{ opacity: 0, x: -20 }}\n                className=\"h-full overflow-y-auto\"\n              >\n                <AssignmentManager />\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </div>\n\n        {/* Footer */}\n        <div className=\"p-6 border-t border-dark-border bg-dark-tertiary\">\n          <div className=\"flex items-center justify-between text-sm text-text-secondary\">\n            <div className=\"flex items-center gap-4\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-2 h-2 bg-status-operational rounded-full\"></div>\n                <span>Mission Service Connected</span>\n              </div>\n              <div className=\"text-text-secondary\">\n                Last update: {new Date().toLocaleTimeString()}\n              </div>\n            </div>\n            \n            <div className=\"flex items-center gap-4\">\n              <span>\n                Current View: <span className=\"text-text-primary font-medium\">{\n                  viewOptions.find(opt => opt.mode === viewMode)?.label\n                }</span>\n              </span>\n              <button\n                onClick={() => {\n                  if (onClose) {\n                    onClose();\n                  } else {\n                    setIsExpanded(false);\n                  }\n                }}\n                className=\"px-3 py-1 text-text-secondary hover:text-text-primary transition-colors\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      </motion.div>\n    </div>\n  );\n};\n\nexport default MissionControls;","import { useEffect, useState } from 'react';\nimport './App.css';\nimport FleetMap from '@/components/fleet/FleetMap';\nimport FleetStatus from '@/components/fleet/FleetStatus';\nimport TelemetryPanel from '@/components/telemetry/TelemetryPanel';\nimport ConnectionStatusIndicator from '@/components/common/ConnectionStatusIndicator';\nimport SafetyPanel from '@/components/safety/SafetyPanel';\nimport { MissionControls } from '@/components/mission';\nimport { useFleetStore, useConnectionStatus, useSelectedDrone, initializeFleetStore } from '@/store/fleet';\nimport { initializeMissionWebSocket } from '@/store/mission';\nimport { ChevronLeftIcon, ChevronRightIcon, RocketLaunchIcon } from '@heroicons/react/24/outline';\n\nfunction App() {\n  const { state: connectionState, isConnected, error: connectionError } = useConnectionStatus();\n  const drones = useFleetStore((state) => Object.values(state.drones));\n  const selectedDroneId = useFleetStore((state) => state.selectedDroneId);\n  const selectedDrone = useSelectedDrone();\n  const selectDrone = useFleetStore((state) => state.selectDrone);\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n  const [showMissionCenter, setShowMissionCenter] = useState(false);\n\n  // Initialize the fleet store and WebSocket connections\n  useEffect(() => {\n    initializeFleetStore();\n    initializeMissionWebSocket();\n  }, []);\n\n  const handleDroneSelect = (droneId: string) => {\n    selectDrone(droneId);\n  };\n\n  const handleDroneAction = (droneId: string, action: string) => {\n    console.log(`Action \"${action}\" requested for drone ${droneId}`);\n    // TODO: Implement drone actions (start mission, return home, etc.)\n  };\n\n  return (\n    <div className=\"min-h-screen bg-dark-primary text-text-primary flex\">\n      {/* Left Sidebar - FleetStatus */}\n      <div className={`\n        transition-all duration-300 ease-in-out bg-dark-secondary border-r border-dark-border\n        ${sidebarCollapsed ? 'w-16' : 'w-80'}\n        flex flex-col h-screen\n      `}>\n        {/* Sidebar Header */}\n        <div className=\"p-4 border-b border-dark-border flex items-center justify-between\">\n          {!sidebarCollapsed && (\n            <div>\n              <h2 className=\"text-lg font-semibold text-text-primary\">Fleet Control</h2>\n              <p className=\"text-text-secondary text-xs\">5 drones active</p>\n            </div>\n          )}\n          <button\n            onClick={() => setSidebarCollapsed(!sidebarCollapsed)}\n            className=\"p-2 hover:bg-dark-hover rounded-lg transition-colors\"\n            title={sidebarCollapsed ? \"Expand sidebar\" : \"Collapse sidebar\"}\n          >\n            {sidebarCollapsed ? (\n              <ChevronRightIcon className=\"w-5 h-5 text-text-secondary\" />\n            ) : (\n              <ChevronLeftIcon className=\"w-5 h-5 text-text-secondary\" />\n            )}\n          </button>\n        </div>\n\n        {/* FleetStatus Content */}\n        <div className=\"flex-1 overflow-hidden\">\n          {!sidebarCollapsed && (\n            <FleetStatus\n              drones={drones}\n              selectedDroneId={selectedDroneId || undefined}\n              onDroneSelect={handleDroneSelect}\n              onDroneAction={handleDroneAction}\n              className=\"h-full\"\n            />\n          )}\n          \n          {sidebarCollapsed && (\n            <div className=\"p-2 space-y-2\">\n              {drones.slice(0, 8).map((drone) => (\n                <button\n                  key={drone.id}\n                  onClick={() => handleDroneSelect(drone.id)}\n                  className={`\n                    w-full p-2 rounded-lg border transition-all duration-200\n                    ${drone.id === selectedDroneId \n                      ? 'border-status-active bg-status-active/10' \n                      : 'border-dark-border hover:border-dark-hover hover:bg-dark-hover'\n                    }\n                  `}\n                  title={`${drone.name} - ${drone.status}`}\n                >\n                  <div \n                    className=\"w-8 h-8 mx-auto rounded-full border flex items-center justify-center\"\n                    style={{ \n                      backgroundColor: drone.status === 'active' || drone.status === 'in_flight' ? '#238636' : \n                                       drone.status === 'charging' ? '#d29922' : \n                                       drone.status === 'maintenance' ? '#da3633' : '#8b949e',\n                      borderColor: drone.status === 'active' || drone.status === 'in_flight' ? '#238636' : \n                                   drone.status === 'charging' ? '#d29922' : \n                                   drone.status === 'maintenance' ? '#da3633' : '#8b949e'\n                    }}\n                  >\n                    <span className=\"text-xs font-bold text-white\">\n                      {drone.name.split('-')[1] || drone.name.charAt(0)}\n                    </span>\n                  </div>\n                </button>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Main Content Area */}\n      <div className=\"flex-1 flex flex-col h-screen\">\n        {/* Header */}\n        <header className=\"bg-dark-secondary border-b border-dark-border px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-xl font-bold\">Multi-Drone Fleet Management System</h1>\n              <p className=\"text-text-secondary text-sm\">\n                Real-time fleet monitoring and control dashboard\n              </p>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <button\n                onClick={() => setShowMissionCenter(true)}\n                className=\"flex items-center gap-2 px-4 py-2 bg-status-active hover:bg-status-active/80 \n                         text-white rounded-lg font-medium transition-colors\"\n              >\n                <RocketLaunchIcon className=\"w-5 h-5\" />\n                Mission Center\n              </button>\n              \n              <ConnectionStatusIndicator \n                connectionState={connectionState}\n                isConnected={isConnected}\n                error={connectionError || undefined}\n              />\n            </div>\n          </div>\n        </header>\n\n        {/* Main Dashboard */}\n        <main className=\"flex-1 p-4 overflow-hidden\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 h-full\">\n            {/* Fleet Map Container */}\n            <div className=\"lg:col-span-2 h-full overflow-hidden\">\n              <FleetMap\n                drones={drones}\n                selectedDroneId={selectedDroneId || undefined}\n                onDroneSelect={handleDroneSelect}\n                className=\"h-full w-full\"\n              />\n            </div>\n            \n            {/* Right Panel - Split between Telemetry, Safety, and Missions */}\n            <div className=\"lg:col-span-1 h-full overflow-hidden flex flex-col gap-4\">\n              {/* Telemetry Panel - Top Third */}\n              <div className=\"flex-1 border border-dark-border rounded-lg bg-dark-secondary overflow-hidden\">\n                <TelemetryPanel\n                  drone={selectedDrone}\n                  isLive={isConnected}\n                  className=\"h-full w-full\"\n                />\n              </div>\n              \n              {/* Safety Panel - Middle Third */}\n              <div className=\"flex-1\">\n                <SafetyPanel className=\"h-full\" />\n              </div>\n              \n              {/* Mission Controls - Bottom Third */}\n              <div className=\"flex-1\">\n                <MissionControls />\n              </div>\n            </div>\n          </div>\n        </main>\n      </div>\n      \n      {/* Mission Center Modal */}\n      {showMissionCenter && (\n        <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[9999] p-4\"\n             onClick={(e) => {\n               // Close modal when clicking backdrop\n               if (e.target === e.currentTarget) {\n                 setShowMissionCenter(false);\n               }\n             }}>\n          <div className=\"bg-dark-secondary rounded-lg border border-dark-border shadow-2xl\n                         w-full max-w-7xl max-h-[95vh] overflow-hidden relative z-[10000]\"\n               onClick={(e) => e.stopPropagation()}>\n            <MissionControls \n              className=\"h-full\" \n              onClose={() => setShowMissionCenter(false)} \n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App.tsx'\nimport './App.css'\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n)"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","ArrowPathIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","ArrowRightIcon","Battery0Icon","BellIcon","BoltIcon","ChartBarIcon","CheckCircleIcon","CheckIcon","ChevronDownIcon","ChevronLeftIcon","ChevronRightIcon","ChevronUpIcon","ClockIcon","Cog6ToothIcon","CpuChipIcon","ExclamationTriangleIcon","EyeIcon","FireIcon","FunnelIcon","GlobeAltIcon","InformationCircleIcon","MagnifyingGlassIcon","MapPinIcon","PauseIcon","PencilIcon","PlayIcon","PlusIcon","RocketLaunchIcon","ShieldCheckIcon","ShieldExclamationIcon","SignalIcon","StopIcon","TrashIcon","UserIcon","WifiIcon","XCircleIcon","XMarkIcon","DroneMarker","drone","isSelected","onSelect","getBatteryColor","getStatusColor","createDroneIcon","statusColor","batteryColor","isLowBattery","divIcon","formatLastUpdate","timestamp","date","diffMs","diffSeconds","connection","signalStrength","jsx","Marker","Popup","jsxs","BatteryIcon","alert","index","MissionPath","mission","getPathColor","status","createWaypointIcon","waypoint","isCompleted","isCurrent","getActionIcon","action","pathPositions","wp","pathColor","Fragment","Polyline","MapResizer","map","useMap","useEffect","timer","FleetMap","drones","missions","selectedDroneId","onDroneSelect","className","mapCenter","setMapCenter","useState","zoom","setZoom","mapContainerRef","useRef","validDrones","avgLat","sum","avgLng","resizeObserver","percentage","motion","MapContainer","TileLayer","BatteryIndicator","level","voltage","size","showLabel","showVoltage","getBatteryWidth","getBatteryHeight","getTextSize","color","isLow","isCritical","DroneStatusCard","onAction","getStatusConfig","formatTimeAgo","statusConfig","StatusIcon","handleAction","actionId","bar","FleetSummary","stats","summaryItems","item","FleetStatus","onDroneAction","filterStatus","setFilterStatus","sortBy","setSortBy","_a","filteredDrones","statusOrder","filterOptions","recentActivity","option","AnimatePresence","activity","ConnectionStatus","strength","quality","showStrength","getConnectionQuality","getBarHeight","barIndex","getBarWidth","displayConfig","TelemetryChart","data","selectedMetric","setSelectedMetric","metrics","currentMetric","formatData","point","CustomTooltip","active","payload","label","chartData","metric","ResponsiveContainer","LineChart","CartesianGrid","XAxis","YAxis","Tooltip","ReferenceLine","Line","current","previous","diff","isIncreasing","isDecreasing","stat","value","values","v","AlertsList","alerts","droneId","onAcknowledge","onResolve","onDismiss","getSeverityConfig","severity","diffMinutes","diffHours","sortedAlerts","severityOrder","severityDiff","activeAlerts","resolvedAlerts","AlertItem","config","IconComponent","TelemetryPanel","isLive","activeTab","setActiveTab","telemetryHistory","setTelemetryHistory","newDataPoint","prev","tabs","SpeedIcon","tab","CompassIcon","TemperatureIcon","ConnectionState","DEFAULT_CONFIG","TelemetryWebSocketService","__publicField","error","callback","event","message","droneMessage","missionMessage","alertMessage","state","telemetryService","ConnectionStatusIndicator","connectionState","SafetyPanel","safetyStatus","setSafetyStatus","setAlerts","isConnected","setIsConnected","showAllAlerts","setShowAllAlerts","initSafetyConnection","ws","handleSafetyMessage","getSafetyStatusColor","getSafetyIcon","getAlertIcon","getAlertSeverityColor","formatTimestamp","acknowledgeAlert","alertId","resolveAlert","visibleAlerts","WaypointManager","waypoints","onWaypointsChange","disabled","editingIndex","setEditingIndex","showAddForm","setShowAddForm","formData","setFormData","actionOptions","resetForm","handleAddWaypoint","newWaypoint","handleEditWaypoint","handleSaveEdit","updatedWaypoints","handleCancelEdit","handleDeleteWaypoint","_","i","handleMoveWaypoint","direction","newIndex","getActionOption","opt","calculateDistance","pos1","pos2","lat1Rad","lat2Rad","deltaLat","deltaLng","total","WaypointForm","onChange","createStoreImpl","createState","listeners","setState","partial","replace","nextState","previousState","listener","getState","api","initialState","__vite_import_meta_env__","createStore","React","is","x","y","objectIs","useLayoutEffect","useDebugValue","useSyncExternalStore$2","subscribe","getSnapshot","_useState","inst","forceUpdate","checkIfSnapshotChanged","latestGetSnapshot","nextValue","useSyncExternalStore$1","shim","useSyncExternalStoreShim_production","shimModule","require$$1","useSyncExternalStore","useMemo","withSelector_production","getServerSnapshot","selector","isEqual","instRef","memoizedSelector","nextSnapshot","hasMemo","memoizedSnapshot","currentSelection","memoizedSelection","nextSelection","maybeGetServerSnapshot","withSelectorModule","ReactExports","useSyncExternalStoreWithSelector","useSyncExternalStoreExports","didWarnAboutEqualityFn","identity","arg","useStore","equalityFn","slice","createImpl","useBoundStore","create","subscribeWithSelectorImpl","fn","set","get","origSubscribe","optListener","options","currentSlice","nextSlice","previousSlice","subscribeWithSelector","API_BASE_URL","WS_URL","wsConnection","reconnectAttempts","maxReconnectAttempts","useMissionStore","missionMap","missionId","missionData","response","updates","deleted","remainingMissions","progress","currentWaypoint","connected","connectWebSocket","type","initializeMissionWebSocket","useSelectedMission","selectedMissionId","MissionCreator","isOpen","onClose","onMissionCreated","createMission","creating","setError","priorityOptions","handleClose","validateForm","handleSubmit","err","getPriorityOption","priority","calculateEstimatedDuration","totalTime","speed","curr","R","distance","formatDuration","seconds","hours","minutes","secs","mockDrones","mockMissions","mockAlerts","MockTelemetryService","pattern","linear","currentWP","nextWP","wpDeltaLat","wpDeltaLng","baseSignal","baseTempVariation","remainingPercent","estimatedMinutes","etaTime","_b","_c","mockTelemetryService","useFleetStore","id","droneList","summary","acc","store","isAutoConnectInitialized","initializeFleetStore","connect","prevConnectionState","droneCount","prevDroneCount","useSelectedDrone","getDroneById","useConnectionStatus","DroneAssignment","onAssigned","assignMissionToDrone","setSelectedDroneId","assigning","setAssigning","droneCompatibility","setDroneCompatibility","analyzeDroneCompatibility","compatibility","issues","warnings","score","existingMission","firstWaypoint","compatible","getCompatibilityIndicator","handleAssign","estimateFlightTime","currentPos","distanceToStart","formatTime","selectedCompatibility","issue","warning","QuickAssignment","showOptions","setShowOptions","getAvailableDrones","getBestDrone","availableDrones","scoredDrones","distanceScore","handleQuickAssign","bestDrone","assignedDrone","isBest","hasWarning","MissionList","missionStats","selectMission","deleteMission","updateMission","showCreator","setShowCreator","selectedMissionForAssignment","setSelectedMissionForAssignment","searchQuery","setSearchQuery","statusFilter","setStatusFilter","priorityFilter","setPriorityFilter","missionList","filteredMissions","sortedMissions","getPriorityColor","handleStatusChange","newStatus","handleDelete","formatDate","dateString","MissionPanel","compact","activeMissions","selectedDrone","selectedMission","showWaypoints","setShowWaypoints","droneMissions","handleAssignToSelectedDrone","AssignmentManager","dronesMap","filter","setFilter","assignments","filteredAssignments","assignment","getStatusIcon","handleUnassign","getAvailableDronesCount","MissionControls","isExpanded","setIsExpanded","viewMode","setViewMode","viewOptions","App","connectionError","selectDrone","sidebarCollapsed","setSidebarCollapsed","showMissionCenter","setShowMissionCenter","handleDroneSelect","handleDroneAction","ReactDOM"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,55,56,57,58,59,60,61]}